var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={noop:function(){},getCookie:function(e){if(!document||!document.cookie)return null;var t=document.cookie.indexOf(e+"="),n=t+e.length+1,o=document.cookie.indexOf(";",n);return t||e===document.cookie.substring(0,e.length)?-1===t?null:(-1===o&&(o=document.cookie.length),unescape(document.cookie.substring(n,o))):null},setCookie:function(e,t,n,o,l,i){if(!document||!document.cookie)return null;var u,r=new Date;r.setTime(r.getTime()),n&&(n=1e3*n*60*60*24),u=new Date(r.getTime()+n),document.cookie=e+"="+escape(t)+(n?";expires="+u.toGMTString():"")+(o?";path="+o:"")+(l?";domain="+l:"")+(i?";secure":"")},hashCode:function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n}}},1018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(135)),l=i(n(136));function i(e){return e&&e.__esModule?e:{default:e}}var u="IMAGE",r="HTML",a="VIDEO",s="INSTAGRAM",d="FACEBOOK",f="TWEET",c="SLIDESHOW",p="YOUTUBE",v=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"normalize",value:function(e){switch(void 0!==e.PostMeta&&null!==e.PostMeta||(e.PostMeta={}),e.Type){case r:switch(e.PostMeta.Type||e.PostMeta.source||e.PostMeta.PostType){case"INSTAGRAM":case"instagram:post":e.Type=s;break;case"facebook:post":case"facebook":e.Type=d;break;case"twitter:tweet":e.Type=f;break;case"youtube:post":e.Type=p;break;case"SLIDESHOW":e.Type=c}break;case a:e.Media||(e.Media={},e.Media.Url=e.Content,e.Media.Caption=e.Caption);break;case u:if(e.Media&&e.Media.Url){var t=e.Media.Url,n=/[.]/.exec(t)?/[^.]+$/.exec(t):void 0;if(!n)break;e.Media.Sizes={1e3:[t.slice(0,n.index-1),"_1000",t.slice(n.index-1)].join(""),300:[t.slice(0,n.index-1),"_300",t.slice(n.index-1)].join(""),500:[t.slice(0,n.index-1),"_500",t.slice(n.index-1)].join(""),800:[t.slice(0,n.index-1),"_800",t.slice(n.index-1)].join(""),orig:[t.slice(0,n.index-1),"_orig",t.slice(n.index-1)].join("")}}}return e.CreationDate||(e.CreationDate=e.ReceivedDate+" GMT"),e}}]),e}();t.default=v},1019:function(e,t,n){"use strict";var o=u(n(135)),l=u(n(136)),i=u(n(2224));function u(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"baseUrl",get:function(){return i.default.baseUrl}},{key:"likesEndpoint",get:function(){return i.default.likesEnd}},{key:"getEndpoint",get:function(){return i.default.getEnd}},{key:"pollInteval",get:function(){return i.default.polling.pollInterval}}]),e}();e.exports=r},1021:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={baseUrl:"https://web.archive.org/web/20210225054642/https://api.scribblelive.com/v1/collection",MaxItem:50,polling:{pollInterval:5e3}}},1022:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(135)),l=u(n(136)),i=u(n(1021));function u(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"init",value:function(e){if(!e.token)throw Error("Token is required");this._options=e}},{key:"baseUrl",get:function(){return this._options&&this._options.baseUrl?this._options.baseUrl:i.default.baseUrl}},{key:"pollInterval",get:function(){return this._options&&this._options.polling&&this._options.polling.pollInterval?this._options.polling.pollInterval:i.default.polling.pollInterval}},{key:"maxItem",get:function(){return this._options&&this._options.MaxItem?this._options.MaxItem:i.default.MaxItem}},{key:"token",get:function(){if(this._options&&this._options.token)return this._options.token;throw Error("Token is required.")}},{key:"auth",get:function(){return this._options&&this._options.auth?this._options.auth:null}}]),e}();t.default=r},2180:function(e,t,n){"use strict";var o=s(n(135)),l=s(n(136)),i=s(n(326)),u=s(n(806)),r=s(n(2183)),a=s(n(403));function s(e){return e&&e.__esModule?e:{default:e}}"undefined"==typeof window||window.Promise||(window.Promise=i.default);var d=function(){function e(t){(0,o.default)(this,e),u.default.init(t.auth,t.token),a.default.init(t.options),this._likesModule=null,this._authModule=null,this._pollModule=null,this._collectionModule=null,this.Stream=r.default}return(0,l.default)(e,[{key:"Likes",get:function(){if(null!==this._likesModule)return this._likesModule;try{return this._likesModule=n(2222),this._likesModule}catch(e){return console.warn("scribblelive-toolkit-likes module has not been installed."),null}}},{key:"Auth",get:function(){if(null!==this._authModule)return this._authModule;try{return this._authModule=n(2226),this._authModule}catch(e){return console.warn("scribblelive-toolkit-auth module has not been installed."),null}}},{key:"Poll",get:function(){if(null!==this._pollModule)return this._pollModule;try{var e=n(2231);return this._pollModule=new e(a.default.pollSettings),this._pollModule}catch(e){console.warn("scribblelive-toolkit-auth module has not been installed.")}}},{key:"Collection",get:function(){if(null!==this._collectionModule)return this._collectionModule;try{var e=n(2249),t=a.default.collectionSettings;return t.token=u.default.token,this._collectionModule=new e(t),this._collectionModule}catch(e){console.warn("scribblelive-toolkit-collection module has not been installed.")}}}]),e}();d.TYPES={IMAGE:"IMAGE",VIDEO:"VIDEO",AUDIO:"AUDIO",EMBED:"EMBED",HTML:"HTML",YOUTUBE:"YOUTUBE",FACEBOOK:"FACEBOOK",TWITTER:"TWITTER",INSTAGRAM:"INSTAGRAM",SCRIBBLE:"SCRIBBLE"},e.exports=d},2183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(303)),l=h(n(135)),i=h(n(136)),u=h(n(199)),r=h(n(1016)),a=h(n(806)),s=h(n(1017)),d=h(n(403)),f=h(n(2211)),c=h(n(1018)),p=h(n(2215)),v=h(n(2221));function h(e){return e&&e.__esModule?e:{default:e}}var g=new p.default,k=function(){function e(){(0,l.default)(this,e)}return(0,i.default)(e,null,[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.noop;return this.loadWithOptions({streamId:e,pageSize:d.default.pageSize,pageNum:0},t)}},{key:"loadWithOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{streamId:streamId,pageNum:pageNum,pageSize:pageSize,newestAtBottom:newestAtBottom,includeComments:includeComments},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.noop;return function(){if(!e)throw Error("options not passed");var n=e.streamId;if(!e.streamId)throw Error("streamId is required");if(!t||"function"!=typeof t)throw Error("callback is required");var l=t,i=e.pageNum?Math.max(0,e.pageNum):0,r=e.pageSize?Math.max(0,e.pageSize):10,s=e.newestAtBottom?"true":"false",f=e.includeComments?"true":"false",p=new Date;g.track(a.default.token,n,d.default.metricSourceType);var h=d.default.baseUrl+"/stream/"+n+"/posts?PageNumber="+i+"&PageSize="+r+"&NewestAtBottom="+s+"&IncludeComments="+f+"&token="+a.default.token;return new o.default((function(e,t){u.default.get(h).then((function(t){try{var n=JSON.parse(t.text),o=n.posts.map(c.default.normalize);v.default.info("Time to load stream: "+(new Date-p)+"ms"),n.posts=o,l(null,n),e(n)}catch(e){throw e}})).catch((function(e){l(e,null),t(e)}))}))}()}},{key:"poll",value:function(e,t){if(!e)throw Error("streamId is required");g.track(a.default.token,e,d.default.metricSourceType);var n=r.default.raw(),o=setInterval((function(){return f.default.poll(e,n,t)}),d.default.pollingInterval),l={lastChanged:0,lastModifiedPostTime:Math.ceil(Date.now()/1e3),isOpen:null,cancelFn:function(){clearInterval(o)}};return f.default.setPollObject(n,l),n}},{key:"page",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.default.noop;if(!e)throw Error("streamId is required");var i=new Date;g.track(a.default.token,e,d.default.metricSourceType);var r=d.default.baseUrl+"/stream/"+e+"/posts?token="+a.default.token+"&PageSize="+t+"&PageNumber="+n;return new o.default((function(e,t){u.default.get(r).end((function(n,o){if(n)return l(n,null),void t(n);var u=JSON.parse(o.text),r=u.posts.map(c.default.normalize);v.default.info("Time to page for stream: "+(new Date-i)+"ms"),u.posts=r,l(null,u),e(u)}))})).catch(s.default.noop)}},{key:"killPoll",value:function(e){return!(!e||"number"!=typeof e)&&(f.default.killPoll(e),!0)}},{key:"killAllPolls",value:function(){return f.default.killAllPolls()}},{key:"getAllPolls",value:function(){return f.default.getPollIds()}}]),e}();t.default=k},2210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BASE_URL:"https://web.archive.org/web/20210225054642/https://api.scribblelive.com/v1",POLLING:{POLL_INTERVAL:5e3},METRICS:{ENDPOINT:"https://web.archive.org/web/20210225054642/https://counter.scribblelive.com",SOURCE:3,POLL_INTERVAL:6e4},CLIENT:{ENDPOINT:"https://web.archive.org/web/20210225054642/https://api.scribblelive.com/v1/client"},PAGING:{PAGE_SIZE:99}}},2211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(473)),l=f(n(135)),i=f(n(136)),u=f(n(303)),r=f(n(199)),a=f(n(403)),s=f(n(1018)),d=f(n(806));function f(e){return e&&e.__esModule?e:{default:e}}var c={pollId:{}},p=function(){function e(){(0,l.default)(this,e)}return(0,i.default)(e,null,[{key:"poll",value:function(e,t,n){var o=this;if(function(e){return!c.pollId[e]||!c.pollId[e].disabled||(c.pollId[e]={lastChanged:Math.floor(Date.now()/1e3),isOpen:null},!1)}(t)){var l=a.default.baseUrl+"/stream/"+e+"/lastmodified?token="+d.default.token;return new u.default((function(i,f){o.lastModified(l,t).then((function(){return function(e,t){var n=a.default.baseUrl+"/stream/"+e+"/posts/recent?token="+d.default.token+"&Timestamp="+c.pollId[t].lastChanged;return new u.default((function(e,o){r.default.get(n).then((function(n){var o=n.body;if(c.pollId[t].isOpen=o.isOpen,o.posts.length){var l=o.posts[o.posts.length-1],i=new Date;l.Date?i=o.posts[o.posts.length-1].Date+" GMT":(l.LastModifiedDate||l.CreationDate)&&(i=l.LastModifiedDate||l.CreationDate),c.pollId[t].lastChanged=Math.floor(new Date(i).getTime()/1e3)}e(o)}),(function(e){o(e)}))}))}(e,t)})).then((function(e){var t=e;t.posts=t.posts.map(s.default.normalize),n(null,t),i(t)})).catch((function(e){if(e)return n(e,null),void f(e);n(null,{isOpen:c.pollId[t].isOpen,posts:[]}),i({isOpen:c.pollId[t].isOpen,posts:[]})}))}))}}},{key:"lastModified",value:function(e,t){return new u.default((function(n,o){r.default.get(e).then((function(e){if(e.body){var l=e.body;if(0===c.pollId[t].lastChanged)return c.pollId[t].lastChanged=parseInt(l.Time),void n();c.pollId[t].lastChanged<parseInt(l.Time)?n():o()}else o("Nothing returned.")})).catch((function(e){}))}))}},{key:"setPollObject",value:function(e,t){c.pollId[e]=t}},{key:"killPoll",value:function(e){c.pollId[e].cancelFn(),c.pollId[e].disabled=!0}},{key:"killAllPolls",value:function(){for(var e=(0,o.default)(c.pollId),t=0;t<e.length;t++)clearInterval(e[t]),this.killPoll(e[t]);return!0}},{key:"clearPolls",value:function(){c.pollId={}}},{key:"getPollIds",value:function(){return(0,o.default)(c.pollId)}}]),e}();t.default=p},2215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(474)),l=f(n(303)),i=f(n(135)),u=f(n(136)),r=f(n(199)),a=f(n(403)),s=n(2219),d=f(n(1017));function f(e){return e&&e.__esModule?e:{default:e}}var c=null;function p(e,t){delete e.pageview,delete e.first;var n=null,o=null,l=null,i=t,u=e.page;if(t){if(e.pageview=1,null===l&&null===(l=d.default.getCookie("SLStatUid"))){var r=document&&void 0!==document.domain?document.domain:"nodomain";l=d.default.hashCode(+r)+"_"+(new Date).getTime()+"_"+Math.floor(1e7*Math.random()+1),d.default.setCookie("SLStatUid",l),null!==d.default.getCookie("SLStatUid")}null===n&&(n=d.default.getCookie("SLStatHist")),null===n&&(n=""),n.match(new RegExp("(^|\\|)"+u))?i=!1:(i=!0,(n+="|"+u).length>2e4&&(n=(n=n.substring(n.length-2e4)).substring(n.indexOf("|"))),(o=n).length>3500&&(o=(o=o.substring(o.length-3500)).substring(o.indexOf("|"))),d.default.setCookie("SLStatHist",o))}i&&(e.first=1),l&&(e.uid=l);try{return e.rand=Math.round(1e8*Math.random()),(c=new Image).src=function(e,t){var n=e;for(var o in t)-1===n.indexOf("?")?n+="?"+o+"="+encodeURIComponent(t[o]):n+="&"+o+"="+encodeURIComponent(t[o]);return n}(a.default.metricEndpoint,e),c.src}catch(e){}}function v(){return a.default.tracking().enabled?a.default.tracking().source||document.location.href:""}function h(){return document.location.hash}function g(){if(!document.getElementById("scrbbl-preview-mode")){var e=document.createElement("div");e.id="scrbbl-preview-mode",e.style.cssText="transition:top 0.5s;position:fixed;left:0;right:0;top:0;padding:15px;background:rgba(255,200,61,0.8);text-align:center;z-index:10000",e.innerHTML=(0,s.getResource)("metricsTrackingAlert"),e.addEventListener("click",(function(e){var t=e.target,n=t.getBoundingClientRect();t.style.top=-1*n.height+"px",t.addEventListener("transitionend",(function(e){var t=e.target;return t.parentNode.removeChild(t)}))})),e.addEventListener("mouseover",(function(){e.style.cursor="pointer"})),document.body.appendChild(e)}}var k=function(){function e(){(0,i.default)(this,e)}return(0,u.default)(e,[{key:"track",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default.metricSourceType;if(void 0===e||void 0===t)throw Error("Metrics tracking error.");if(!this[t+"_Interval"]&&a.default.tracking().enabled)return new l.default((function(n,l){if(h().indexOf("scrbbl-preview-mode")>-1)return g(),void l("Preview mode loaded");r.default.get(a.default.clientEndpoint+"?Token="+e).then((function(e){var i=e.body;if(i.Id){var u={page:t,Source:v(),SourceType:o,Client:i.Id};n(u)}else l("Cannot determine clientId from token.")})).catch((function(e){}))})).then((function(e){return n.startTracking(e)}))}},{key:"startTracking",value:function(e){var t=this;return new l.default((function(n){if(!t[e.page+"_Interval"]){var l=setInterval((function(){p((0,o.default)({},e),!1)}),a.default.metricPollInterval);t[e.page+"_Interval"]={interval:l},n(p(e,!0))}}))}}]),e}();t.default=k},2219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResource=void 0;var o,l=n(2220);var i={en:((o=l)&&o.__esModule?o:{default:o}).default};t.getResource=function(e){var t=i[navigator.language.split("-")[0].toLowerCase()];return t&&t[e]?t[e]:"Key undefined"}},2220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={metricsTrackingAlert:"This visualization is a preview with metrics tracking disabled.  Please refrain from using this link in your commercial release."}},2221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,l=n(403),i=(o=l)&&o.__esModule?o:{default:o};var u=[1,2,3,4],r=function(e){return!(-1===u.indexOf(e)||e>function(){if(i.default.logging.isSpecified)return i.default.logging.logLevel;if("undefined"==typeof window||void 0===window.location)return-1;var e=window.location.hash.match(/(debug=){1}(\d){1}/);if(e&&Array.isArray(e)&&3===e.length)try{var t=parseInt(e[2]);if(u.indexOf(t)>-1)return t}catch(e){}return-1}())},a=function(e,t){r(e)&&console.log(t)};var s={info:function(e){a(1,e)},log:a};t.default=s,e.exports=s},2222:function(e,t,n){"use strict";var o=s(n(473)),l=s(n(135)),i=s(n(136)),u=s(n(326)),r=s(n(2223)),a=s(n(1019));function s(e){return e&&e.__esModule?e:{default:e}}"undefined"==typeof window||window.Promise||(window.Promise=u.default);var d={},f=function(){function e(){(0,l.default)(this,e)}return(0,i.default)(e,null,[{key:"post",value:function(e,t,n){return r.default.like(e,t,n)}},{key:"getLikes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];return r.default.getLikes(e,t,n)}},{key:"pollLikes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!e)throw"streamId is required";var o=setInterval((function(){return r.default.getLikes(e,t,n)}),a.default.pollInteval);return d[o]=!0,o}},{key:"killPoll",value:function(e){clearInterval(e),delete d[e]}},{key:"getAllPolls",value:function(){return(0,o.default)(d)}},{key:"clearAllPolls",value:function(){this.getAllPolls().forEach(this.killPoll)}}]),e}();e.exports=f},2223:function(e,t,n){"use strict";var o=d(n(473)),l=d(n(135)),i=d(n(136)),u=d(n(303)),r=d(n(199)),a=d(n(1019)),s=d(n(2225));function d(e){return e&&e.__esModule?e:{default:e}}var f={};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0],n=encodeURIComponent(t.join(",")),o=a.default.baseUrl+"/"+a.default.getEndpoint+"/"+e+"?postids="+n;return new u.default((function(e,t){r.default.get(o).then((function(t){try{var n=JSON.parse(t.text);e(n)}catch(e){throw e}})).catch((function(e){t(e)}))}))}var p=function(){function e(){(0,l.default)(this,e)}return(0,i.default)(e,null,[{key:"like",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.noop;if("number"!=typeof e||"number"!=typeof t)throw"Invalid streamId or postId";var o=a.default.baseUrl+"/"+a.default.likesEndpoint+"/"+e+"/"+t;return new u.default((function(e,t){r.default.get(o).then((function(t){try{var o=JSON.parse(t.text);n(null,o),e(o)}catch(e){throw e}})).catch((function(e){n(e,null),t(e)}))}))}},{key:"getLikes",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.noop;if("number"!=typeof e)throw"Invalid streamId";if(!Array.isArray(t))throw"Invalid postIds for getLikes.  Requires an array.";if(f[e])for(var l=0;l<t.length;l++){var i=t[l];h(e,i)||v(e,i)}else f[e]={posts:g(t),total:t.length};var r=[];for(l=0;l<f[e].posts.length;l++)r.push(c(e,f[e].posts[l],n));return new u.default((function(e,t){return u.default.all(r).then((function(t){for(var l={posts:[]},i=0;i<t.length;i++){(0,o.default)(t[i].posts).forEach((function(e){var n={};n[""+e]=t[i].posts[e],l.posts.push(n)}))}return n(l),e(l),l})).catch((function(e){if(e)return n(e),t(e),e}))}))}}]),e}();function v(e,t){f[e].posts[f[e].posts.length].length<10?f[e].posts[f[e].posts.length].push(t):f[e].posts.push([t])}function h(e,t){for(var n=0;n<f[e].posts.length;n++)for(var o=0;o<f[e].posts[n].length;o++)if(f[e].posts[n][o]===t)return!0;return!1}function g(e){for(var t=[],n=0;n<e.length;n+=10)t.push(e.slice(n,n+10));return t}e.exports=p},2224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={baseUrl:"https://web.archive.org/web/20210225054642/http://cdnlove.scribblelive.com",polling:{pollInterval:5e3},likesEnd:"like",getEnd:"likes/event"}},2225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={noop:function(){}}},2226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(135)),l=d(n(136)),i=d(n(474)),u=d(n(326)),r=d(n(817)),a=d(n(2227)),s=n(2228);function d(e){return e&&e.__esModule?e:{default:e}}"undefined"==typeof window||window.Promise||(window.Promise=u.default);var f={id:null,auth:null,name:null,avatar:null},c=function(e){var t=e.Id,n=e.Name,o=e.Auth,l=e.Thumbnail;return f.name=n,f.avatar=l,f.auth=o,f.id=t,p()},p=function(){return(0,i.default)({},f)},v=function(){function e(t){(0,o.default)(this,e),r.default.initialize(t)}return(0,l.default)(e,[{key:"logout",value:function(){f.name=null,f.avatar=null,f.id=null,f.auth=null}},{key:"getUser",value:function(){return p()}},{key:"isLoggedIn",value:function(){return null!==f.name}},{key:"anonLogin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new u.default((function(o,l){if(t.logout(),!e)throw new Error("A valid name must be provided to log in");(0,s.anonLogin)({name:e,avatar:n}).then((function(e){return c(e)})).then(o,l)}))}},{key:"socialLogin",value:function(e){if(!a.default[e])throw"Invalid provider supplied. "+e+" is not supported";return(0,s.socialLogin)({provider:e}).then((function(e){return c(e)}))}},{key:"PROVIDERS",get:function(){return a.default}}]),e}();t.default=v,e.exports=v},2227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={twitter:"twitter",facebook:"facebook",googleplus:"googleplus",yahoo:"yahoo",linkedin:"linkedin"}},2228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anonLogin=t.socialLogin=void 0;var o=r(n(303)),l=r(n(817)),i=r(n(199)),u=n(2229);function r(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.name,n=e.avatarUrl,u=void 0===n?null:n;return new o.default((function(e,n){var o=l.default.baseUrl,r=l.default.clientId,a=o+"/user/create/anon?token="+l.default.token,s={Name:t,ClientId:r};u&&(s.Thumbnail=u),i.default.post(a).send(s).end((function(t,o){t?n(t):e(o.body)}))}))};t.socialLogin=function(e){var t=e.provider;if(!gigya)throw"gigya is undefined";return new o.default((function(e,n){gigya.socialize.login({provider:t,callback:function(t){return function(e,t,n){if(0===e.errorCode){var o=e.user,l=o.firstName,i=o.lastName,u=o.photoURL;a({name:l+" "+i,avatarUrl:u}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}else n(e.statusMessage)}(t,e,n)}})}))},t.anonLogin=function(e){var t=e.name,n=e.avatar;return n&&n.indexOf&&0===n.indexOf("http")?a({name:t,avatarUrl:n}):n?(0,u.uploadAvatar)(n).then((function(e){return a({name:t,avatarUrl:e})})):a({name:t})}},2229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAvatar=void 0;var o=r(n(303)),l=r(n(817)),i=r(n(199)),u=r(n(2230));function r(e){return e&&e.__esModule?e:{default:e}}t.uploadAvatar=function(e){return new o.default((function(t,n){if(e&&!e instanceof window.File)n("avatar must be an instance of File.");else{var o=l.default.token,r=l.default.baseUrl,a=new u.default({token:o,gatewayUrl:r}),s=null;a.uploadFile(e).then((function(t){return s=t,i.default.put(s.uploadUrl).send(e)})).then((function(){return function(e,t){var n=l.default.baseUrl,o=l.default.token;return i.default.post(n+"/user/create/avatar?token="+o).send({UploadBucket:e,UploadItem:t})}(s.bucket,s.key)})).then((function(e){return t("https://"+e.body.avatarUrl)}),(function(e){return n(e)}))}}))}},2230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(135)),l=r(n(136)),i=r(n(326)),u=r(n(199));function r(e){return e&&e.__esModule?e:{default:e}}"undefined"==typeof window||window.Promise||(window.Promise=i.default);var a={gatewayUrl:"https://web.archive.org/web/20210225054642/https://apigateway.scribblelive.com/",token:null},s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.token,l=t.gatewayUrl;if((0,o.default)(this,e),!n)throw new Error("Token is required for File Uploader");l&&(a.gatewayUrl=l),a.token=n}return(0,l.default)(e,[{key:"uploadFile",value:function(e){return new i.default((function(t,n){if(e)if(!e||e instanceof window.File){var o,l,i,r=null;(o=e.name,l=e.type,i=a.gatewayUrl+"/file-uploader/upload-url?token="+a.token,u.default.post(i).send({fileName:o,fileType:l})).then((function(t){return r=t.body,u.default.put(r.uploadUrl).send(e)})).then((function(){return t(r)}),(function(e){return n(e)}))}else n("file must be of type File");else n("File is required")}))}}]),e}();t.default=s,e.exports=s},2231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(2232)),l=c(n(474)),i=c(n(135)),u=c(n(136)),r=c(n(2233)),a=c(n(2235)),s=c(n(326)),d=c(n(199)),f=c(n(2248));function c(e){return e&&e.__esModule?e:{default:e}}"undefined"==typeof window||window.Promise||(window.Promise=s.default);var p={},v=function(e){return"SCRIB_POLLS_"+e},h=function(e){if("undefined"==typeof localStorage)return[];var t=v(e),n=JSON.parse(localStorage.getItem(t));return n&&"object"===(void 0===n?"undefined":(0,a.default)(n))?n:{}},g=function(e,t){p[e]=t},k=function(e){var t=e.pollId,n=e.pollingPromiseFn,o=e.cb;return function(){n().then((function(e){var n=function(e){return p[e]?p[e]:null}(t);e.TotalVotes!==n.TotalVotes&&(g(t,e),o(null,e))}),(function(e){return o(e)}))}},m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),this._options=(0,l.default)({},f.default,t)}return(0,u.default)(e,[{key:"vote",value:function(e){var t=this,n=e.streamId,i=e.pollId,u=e.selectionId;if(!n)throw new Error("Stream id is required");if(!i)throw new Error("Poll id is required");if(!u)throw new Error("Selection id is required");return new s.default((function(e,a){var s=h(n);s[i]?a("User has already voted."):d.default.get(t.baseUrl+"/poll/"+i+"/vote/"+u+"?format=json").end((function(t,d){if(t)a(t);else{var f=(0,l.default)({},s,(0,o.default)({},i,u));!function(e,t){"undefined"!=typeof localStorage&&localStorage.setItem(v(e),(0,r.default)(t))}(n,f),e(d.body)}}))}))}},{key:"getPoll",value:function(e){var t=this;return new s.default((function(n,o){d.default.get(t.baseUrl+"/poll/"+e).query({format:"json"}).end((function(e,t){e?o(e):n(t.body)}))}))}},{key:"listen",value:function(e){var t=this,n=e.pollId,o=e.interval,l=void 0===o?this.pollInterval:o,i=e.cb;return new s.default((function(e){t.getPoll(n).then((function(o){g(o.Id,o);var u=setInterval(k({pollId:n,pollingPromiseFn:function(){return t.getPoll(n)},cb:i}),l);e((function(){return clearInterval(u)}))}))}))}},{key:"hasVoted",value:function(e){var t=e.streamId,n=e.pollId;return!!h(t)[n]}},{key:"baseUrl",get:function(){return this._options.baseUrl}},{key:"pollInterval",get:function(){return this._options.pollInterval}}]),e}();t.default=m,e.exports=m},2248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={baseUrl:"https://web.archive.org/web/20210225054642/https://apiv1.scribblelive.com",pollInterval:5e3}},2249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(135)),l=f(n(136)),i=f(n(326)),u=f(n(199)),r=f(n(1016)),a=f(n(2250)),s=(f(n(1021)),f(n(1022))),d=f(n(2251));function f(e){return e&&e.__esModule?e:{default:e}}"undefined"==typeof window||window.Promise||(window.Promise=i.default);var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),s.default.init(t),this.collectionMap={}}return(0,l.default)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.noop;if(!e)throw Error("collectionId is required");var o=r.default.raw();this.collectionMap[e]=o;var l={items:[],lasModifiedPostTime:Math.ceil(Date.now()/1e3)};d.default.setPollObject(o,l);var f=s.default.baseUrl+"/"+e+"/lastmodified?token="+s.default.token;return new i.default((function(l,i){u.default.get(f).then((function(r){var a=r.body.Time-1e4;d.default.setPollObjectValue(o,"lastChanged",a);var f=s.default.baseUrl+"/"+e+"?token="+s.default.token+"&MaxItems="+s.default.maxItem+"&timestamp="+a;s.default.auth&&(f+="&auth="+s.default.auth),u.default.get(f).then((function(e){try{var o=JSON.parse(e.text);t.collectionMap.collectionId&&d.default.setInitialPollObjectItems(t.collectionMap.collectionId,o.CollectionItems),n(null,o),l(o)}catch(e){throw e}})).catch((function(e){n(e,null),i(e)}))}))}))}},{key:"poll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.noop;if(!e)throw Error("collectionId is required");var n=this.collectionMap[e],o=setInterval((function(){return d.default.poll(e,n,t)}),s.default.pollInterval);return d.default.setPollObjectValue(n,"cancelFn",(function(){return clearInterval(o)})),n}}]),e}();t.default=c,e.exports=c},2250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={noop:function(){}}},2251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(473)),l=d(n(135)),i=d(n(136)),u=d(n(303)),r=d(n(2252)),a=d(n(199)),s=d(n(1022));function d(e){return e&&e.__esModule?e:{default:e}}var f={pollId:{}},c=function(e,t){var n=f.pollId[t].items.filter((function(t){return function(e,t,n){var o=!0,l=!1,i=void 0;try{for(var u,a=(0,r.default)(t);!(o=(u=a.next()).done);o=!0){var s=u.value;if(e.Id===s.Id)return!1}}catch(e){l=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(l)throw i}}return!0}(t,e)}));return n.map((function(e){return e.IsDeleted=1})),n},p=function(e,t,n){var o=s.default.baseUrl+"/"+e+"?token="+s.default.token+"&orderBy=asc&timestamp="+n;return new u.default((function(e,l){a.default.get(o).then((function(o){var l=[],i=o.body;if(i.CollectionItems.length){var u=i.CollectionItems.filter((function(e){return function(e,t){return e.LastModified>f.pollId[t].lastChanged||e.Timestamp>f.pollId[t].lastChanged}(e,t)})),r=c(i.CollectionItems,t);l=u.concat(r),f.pollId[t].lastChanged=n,f.pollId[t].items=i.CollectionItems}e(l)}),(function(e){l("Collection call failed.")}))}))},v=function(){function e(){(0,l.default)(this,e)}return(0,i.default)(e,null,[{key:"poll",value:function(e,t,n){var o=this;if(function(e){return!f.pollId[e]||!f.pollId[e].disabled}(t)){var l=s.default.baseUrl+"/"+e+"/lastmodified?token="+s.default.token;return new u.default((function(i,u){o.lastModified(l,t).then((function(n){return p(e,t,n)})).then((function(e){n(null,{CollectionItems:e}),i(e)})).catch((function(e){if(e)return n(e,null),void u(e)})),i([])}))}}},{key:"lastModified",value:function(e,t){return new u.default((function(n,o){a.default.get(e).then((function(e){if(e.body){var l=e.body;f.pollId[t].lastChanged<parseInt(l.Time)?n(parseInt(l.Time)):o()}else o("Nothing returned.")}),(function(e){o("Collection does not exist or has no lastmodified.")}))}))}},{key:"setInitialPollObjectItems",value:function(e,t){f.pollId[e].items||(f.pollId[e].items=t)}},{key:"setPollObject",value:function(e,t){f.pollId[e]=t}},{key:"setPollObjectValue",value:function(e,t,n){f.pollId[e]||this.setPollObject(e,{}),f.pollId[e][t]=n}},{key:"killPoll",value:function(e){f.pollId[e].cancelFn(),f.pollId[e].disabled=!0}},{key:"killAllPolls",value:function(){for(var e=(0,o.default)(f.pollId),t=0;t<e.length;t++)clearInterval(e[t]),this.killPoll(e[t]);return!0}},{key:"clearPolls",value:function(){f.pollId={}}},{key:"getPollIds",value:function(){return(0,o.default)(f.pollId)}}]),e}();t.default=v},403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(135)),l=u(n(136)),i=u(n(2210));function u(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"init",value:function(e){this._options=e}},{key:"tracking",value:function(){var e={enabled:!0};return this._options&&!1===this._options.tracking?e.enabled=!1:this._options&&!0===this._options.tracking?e.enabled=!0:this._options&&void 0!==this._options.tracking&&((e=this._options.tracking).enabled=void 0===this._options.tracking.enabled||this._options.tracking.enabled),e}},{key:"baseUrl",get:function(){return this._options&&this._options.baseUrl?this._options.baseUrl:i.default.BASE_URL}},{key:"pollingInterval",get:function(){return this._options&&this._options.polling&&this._options.polling.pollInterval?this._options.polling.pollInterval:i.default.POLLING.POLL_INTERVAL}},{key:"metricSourceType",get:function(){return this._options&&this._options.metrics&&this._options.metrics.source?this._options.metrics.source:i.default.METRICS.SOURCE}},{key:"logging",get:function(){var e={logLevel:-1,isSpecified:!1};return this._options&&this._options.logging&&((e=this._options.logging).logLevel=void 0!==this._options.logging.logLevel?this._options.logging.logLevel:-1,e.isSpecified=!0),e}},{key:"metricEndpoint",get:function(){return this._options&&this._options.metrics&&this._options.metrics.endpoint?this._options.metrics.endpoint:i.default.METRICS.ENDPOINT}},{key:"metricPollInterval",get:function(){return i.default.METRICS.POLL_INTERVAL}},{key:"clientEndpoint",get:function(){return this._options&&this._options.client&&this._options.client.endpoint?this._options.client.endpoint:i.default.CLIENT.ENDPOINT}},{key:"pageSize",get:function(){if(this._options&&this._options.paging&&this._options.paging.pageSize){var e=parseInt(this._options.paging.pageSize);return isNaN(e)||e>100?100:e}return i.default.PAGING.PAGE_SIZE}},{key:"pollSettings",get:function(){return this._options.pollSettings||{}}},{key:"collectionSettings",get:function(){return this._options.collectionSettings||{}}}]),e}();t.default=r},806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(135)),l=i(n(136));function i(e){return e&&e.__esModule?e:{default:e}}var u={auth:null,token:null},r=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"init",value:function(e,t){if(!t)throw Error("Token is required");u.auth=e,u.token=t}},{key:"auth",get:function(){return u.auth}},{key:"token",get:function(){return u.token}}]),e}();t.default=r},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,l=n(474),i=(o=l)&&o.__esModule?o:{default:o};var u={baseUrl:"https://web.archive.org/web/20210225054642/https://apigateway.scribblelive.com",uploadBaseUrl:"https://web.archive.org/web/20210225054642/http://embed.scribblelive.com",token:null},r=null;t.default={initialize:function(e){if(!(r=(0,i.default)({},u,e)).token)throw new Error("Auth token is required")},get baseUrl(){return r.baseUrl},get clientId(){return r.clientId},get token(){return r.token},get uploadBaseUrl(){return r.uploadBaseUrl}}}}]);
//# sourceMappingURL=npm.scrbbl-f7cbcaf0ffbb13d4f0a2.js.map

}
/*
     FILE ARCHIVED ON 05:46:42 Feb 25, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 18:26:33 Jun 17, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 756.296
  exclusion.robots: 0.113
  exclusion.robots.policy: 0.105
  RedisCDXSource: 24.165
  esindex: 0.01
  LoadShardBlock: 710.627 (3)
  PetaboxLoader3.datanode: 656.48 (4)
  CDXLines.iter: 19.002 (3)
  load_resource: 313.491
  PetaboxLoader3.resolve: 165.44
*/