var R={r:{},i:[],l:0,me:function(n,e){var t=!0,o=!0;!1===e&&(t=!1),R.l?setTimeout(function(){R.me(n,e)},parseInt(1+3*Math.random())):(R.l=1,R.i.push(n),Array.isArray(e)&&e.forEach(function(e){var t=n;if(-1===R.i.indexOf(e)||R.r[e]&&Array.isArray(R.r[e])){if(Array.isArray(R.r[e])&&0<=R.r[e].indexOf(t))throw new Error("Circular Dependency: '"+t+"' <=> '"+e+"'");o=!1,R.r[t]=R.r[t]||[],R.r[t].push(e)}}),t&&o&&window[n]&&window[n].init&&window[n].init(),o&&R.resolve(n),R.l=0)},resolve:function(n){Object.keys(R.r).forEach(function(e){if(!R.r[e])return!0;var t=R.r[e].indexOf(n);0<=t&&(R.r[e].splice(t,1),0===R.r[e].length&&(window[e]&&window[e].init&&window[e].init(),R.resolve(e),delete R.r[e]))})}};window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(k,e){function t(e,t){return t.toUpperCase()}var u=[],h=k.document,c=u.slice,m=u.concat,s=u.push,i=u.indexOf,n={},o=n.toString,v=n.hasOwnProperty,g={},a="1.12.4",D=function(e,t){return new D.fn.init(e,t)},r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,d=/-([\da-z])/gi;function f(e){var t=!!e&&"length"in e&&e.length,n=D.type(e);return"function"!==n&&!D.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}D.fn=D.prototype={jquery:a,constructor:D,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){var t=D.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return D.each(this,e)},map:function(n){return this.pushStack(D.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:u.sort,splice:u.splice},D.extend=D.fn.extend=function(){var e,t,n,o,i,a,r=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[s]||{},s++),"object"==typeof r||D.isFunction(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(i=arguments[s]))for(o in i)e=r[o],r!==(n=i[o])&&(d&&n&&(D.isPlainObject(n)||(t=D.isArray(n)))?(a=t?(t=!1,e&&D.isArray(e)?e:[]):e&&D.isPlainObject(e)?e:{},r[o]=D.extend(d,a,n)):void 0!==n&&(r[o]=n));return r},D.extend({expando:"jQuery"+(a+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===D.type(e)},isArray:Array.isArray||function(e){return"array"===D.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!D.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==D.type(e)||e.nodeType||D.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!g.ownFirst)for(t in e)return v.call(e,t);for(t in e);return void 0===t||v.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e},globalEval:function(e){e&&D.trim(e)&&(k.execScript||function(e){k.eval.call(k,e)})(e)},camelCase:function(e){return e.replace(l,"ms-").replace(d,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(f(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(r,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(f(Object(e))?D.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var o;if(t){if(i)return i.call(t,e,n);for(o=t.length,n=n?n<0?Math.max(0,o+n):n:0;n<o;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;)e[i++]=t[o++];if(n!=n)for(;void 0!==t[o];)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,a=e.length,r=!n;i<a;i++)!t(e[i],i)!=r&&o.push(e[i]);return o},map:function(e,t,n){var o,i,a=0,r=[];if(f(e))for(o=e.length;a<o;a++)null!=(i=t(e[a],a,n))&&r.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&r.push(i);return m.apply([],r)},guid:1,proxy:function(e,t){var n,o,i;return"string"==typeof t&&(i=e[t],t=e,e=i),D.isFunction(e)?(n=c.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(c.call(arguments)))}).guid=e.guid=e.guid||D.guid++,o):void 0},now:function(){return+new Date},support:g}),"function"==typeof Symbol&&(D.fn[Symbol.iterator]=u[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){function u(e,t,n){var o="0x"+t-65536;return o!=o||n?t:o<0?String.fromCharCode(65536+o):String.fromCharCode(o>>10|55296,1023&o|56320)}function i(){x()}var e,h,C,a,r,m,f,v,w,l,d,x,k,s,D,g,c,p,y,S="sizzle"+1*new Date,b=n.document,T=0,o=0,M=ie(),_=ie(),P=ie(),$=function(e,t){return e===t&&(d=!0),0},L={}.hasOwnProperty,t=[],E=t.pop,N=t.push,A=t.push,j=t.slice,I=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+H+"*("+O+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+H+"*\\]",B=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",z=new RegExp(H+"+","g"),q=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),W=new RegExp("^"+H+"*,"+H+"*"),U=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),Y=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),V=new RegExp(B),X=new RegExp("^"+O+"$"),G={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig");try{A.apply(t=j.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){A={apply:t.length?function(e,t){N.apply(e,j.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function oe(e,t,n,o){var i,a,r,s,l,d,c,u,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!o&&((t?t.ownerDocument||t:b)!==k&&x(t),t=t||k,D)){if(11!==p&&(d=Z.exec(e)))if(i=d[1]){if(9===p){if(!(r=t.getElementById(i)))return n;if(r.id===i)return n.push(r),n}else if(f&&(r=f.getElementById(i))&&y(t,r)&&r.id===i)return n.push(r),n}else{if(d[2])return A.apply(n,t.getElementsByTagName(e)),n;if((i=d[3])&&h.getElementsByClassName&&t.getElementsByClassName)return A.apply(n,t.getElementsByClassName(i)),n}if(h.qsa&&!P[e+" "]&&(!g||!g.test(e))){if(1!==p)f=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(te,"\\$&"):t.setAttribute("id",s=S),a=(c=m(e)).length,l=X.test(s)?"#"+s:"[id='"+s+"']";a--;)c[a]=l+" "+he(c[a]);u=c.join(","),f=ee.test(e)&&fe(t.parentNode)||t}if(u)try{return A.apply(n,f.querySelectorAll(u)),n}catch(e){}finally{s===S&&t.removeAttribute("id")}}}return v(e.replace(q,"$1"),t,n,o)}function ie(){var o=[];return function e(t,n){return o.push(t+" ")>C.cacheLength&&delete e[o.shift()],e[t+" "]=n}}function ae(e){return e[S]=!0,e}function re(e){var t=k.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),o=n.length;o--;)C.attrHandle[n[o]]=t}function le(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ce(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ue(r){return ae(function(a){return a=+a,ae(function(e,t){for(var n,o=r([],e.length,a),i=o.length;i--;)e[n=o[i]]&&(e[n]=!(t[n]=e[n]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=oe.support={},r=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},x=oe.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:b;return o!==k&&9===o.nodeType&&o.documentElement&&(s=(k=o).documentElement,D=!r(k),(n=k.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),h.attributes=re(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=re(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=Q.test(k.getElementsByClassName),h.getById=re(function(e){return s.appendChild(e).id=S,!k.getElementsByName||!k.getElementsByName(S).length}),h.getById?(C.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}},C.filter.ID=function(e){var t=e.replace(ne,u);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var n=e.replace(ne,u);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),C.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;n=a[i++];)1===n.nodeType&&o.push(n);return o},C.find.CLASS=h.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&D?t.getElementsByClassName(e):void 0},c=[],g=[],(h.qsa=Q.test(k.querySelectorAll))&&(re(function(e){s.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+H+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||g.push(".#.+[+~]")}),re(function(e){var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+H+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(h.matchesSelector=Q.test(p=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&re(function(e){h.disconnectedMatch=p.call(e,"div"),p.call(e,"[s!='']:x"),c.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),c=c.length&&new RegExp(c.join("|")),t=Q.test(s.compareDocumentPosition),y=t||Q.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===k||e.ownerDocument===b&&y(b,e)?-1:t===k||t.ownerDocument===b&&y(b,t)?1:l?I(l,e)-I(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,o=0,i=e.parentNode,a=t.parentNode,r=[e],s=[t];if(!i||!a)return e===k?-1:t===k?1:i?-1:a?1:l?I(l,e)-I(l,t):0;if(i===a)return le(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;r[o]===s[o];)o++;return o?le(r[o],s[o]):r[o]===b?-1:s[o]===b?1:0}),k},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==k&&x(e),t=t.replace(Y,"='$1']"),h.matchesSelector&&D&&!P[t+" "]&&(!c||!c.test(t))&&(!g||!g.test(t)))try{var n=p.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,k,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==k&&x(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==k&&x(e);var n=C.attrHandle[t.toLowerCase()],o=n&&L.call(C.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==o?o:h.attributes||!D?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],o=0,i=0;if(d=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort($),d){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return l=null,e},a=oe.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=a(t);return n},(C=oe.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,u),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=M[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&M(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,o,i){return function(e){var t=oe.attr(e,n);return null==t?"!="===o:!o||(t+="","="===o?t===i:"!="===o?t!==i:"^="===o?i&&0===t.indexOf(i):"*="===o?i&&-1<t.indexOf(i):"$="===o?i&&t.slice(-i.length)===i:"~="===o?-1<(" "+t.replace(z," ")+" ").indexOf(i):"|="===o&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,m,v){var g="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===m&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var o,i,a,r,s,l,d=g!=y?"nextSibling":"previousSibling",c=e.parentNode,u=b&&e.nodeName.toLowerCase(),f=!n&&!b,p=!1;if(c){if(g){for(;d;){for(r=e;r=r[d];)if(b?r.nodeName.toLowerCase()===u:1===r.nodeType)return!1;l=d="only"===h&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&f){for(p=(s=(o=(i=(a=(r=c)[S]||(r[S]={}))[r.uniqueID]||(a[r.uniqueID]={}))[h]||[])[0]===T&&o[1])&&o[2],r=s&&c.childNodes[s];r=++s&&r&&r[d]||(p=s=0)||l.pop();)if(1===r.nodeType&&++p&&r===e){i[h]=[T,s,p];break}}else if(f&&(p=s=(o=(i=(a=(r=e)[S]||(r[S]={}))[r.uniqueID]||(a[r.uniqueID]={}))[h]||[])[0]===T&&o[1]),!1===p)for(;(r=++s&&r&&r[d]||(p=s=0)||l.pop())&&((b?r.nodeName.toLowerCase()!==u:1!==r.nodeType)||!++p||(f&&((i=(a=r[S]||(r[S]={}))[r.uniqueID]||(a[r.uniqueID]={}))[h]=[T,p]),r!==e)););return(p-=v)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,a){var t,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[S]?r(a):1<r.length?(t=[e,e,"",a],C.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,t){for(var n,o=r(e,a),i=o.length;i--;)e[n=I(e,o[i])]=!(t[n]=o[i])}):function(e){return r(e,0,t)}):r}},pseudos:{not:ae(function(e){var o=[],i=[],s=f(e.replace(q,"$1"));return s[S]?ae(function(e,t,n,o){for(var i,a=s(e,null,o,[]),r=e.length;r--;)(i=a[r])&&(e[r]=!(t[r]=i))}):function(e,t,n){return o[0]=e,s(o,null,n,i),o[0]=null,!i.pop()}}),has:ae(function(t){return function(e){return 0<oe(t,e).length}}),contains:ae(function(t){return t=t.replace(ne,u),function(e){return-1<(e.textContent||e.innerText||a(e)).indexOf(t)}}),lang:ae(function(n){return X.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(ne,u).toLowerCase(),function(e){var t;do{if(t=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ue(function(){return[0]}),last:ue(function(e,t){return[t-1]}),eq:ue(function(e,t,n){return[n<0?n+t:n]}),even:ue(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ue(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ue(function(e,t,n){for(var o=n<0?n+t:n;0<=--o;)e.push(o);return e}),gt:ue(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})C.pseudos[e]=ce(e);function pe(){}function he(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function me(s,e,t){var l=e.dir,d=t&&"parentNode"===l,c=o++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||d)return s(e,t,n)}:function(e,t,n){var o,i,a,r=[T,c];if(n){for(;e=e[l];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||d){if((o=(i=(a=e[S]||(e[S]={}))[e.uniqueID]||(a[e.uniqueID]={}))[l])&&o[0]===T&&o[1]===c)return r[2]=o[2];if((i[l]=r)[2]=s(e,t,n))return!0}}}function ve(i){return 1<i.length?function(e,t,n){for(var o=i.length;o--;)if(!i[o](e,t,n))return!1;return!0}:i[0]}function ge(e,t,n,o,i){for(var a,r=[],s=0,l=e.length,d=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,o,i)||(r.push(a),d&&t.push(s)));return r}function ye(p,h,m,v,g,e){return v&&!v[S]&&(v=ye(v)),g&&!g[S]&&(g=ye(g,e)),ae(function(e,t,n,o){var i,a,r,s=[],l=[],d=t.length,c=e||function(e,t,n){for(var o=0,i=t.length;o<i;o++)oe(e,t[o],n);return n}(h||"*",n.nodeType?[n]:n,[]),u=!p||!e&&h?c:ge(c,s,p,n,o),f=m?g||(e?p:d||v)?[]:t:u;if(m&&m(u,f,n,o),v)for(i=ge(f,l),v(i,[],n,o),a=i.length;a--;)(r=i[a])&&(f[l[a]]=!(u[l[a]]=r));if(e){if(g||p){if(g){for(i=[],a=f.length;a--;)(r=f[a])&&i.push(u[a]=r);g(null,f=[],i,o)}for(a=f.length;a--;)(r=f[a])&&-1<(i=g?I(e,r):s[a])&&(e[i]=!(t[i]=r))}}else f=ge(f===t?f.splice(d,f.length):f),g?g(null,t,f,o):A.apply(t,f)})}function be(e){for(var i,t,n,o=e.length,a=C.relative[e[0].type],r=a||C.relative[" "],s=a?1:0,l=me(function(e){return e===i},r,!0),d=me(function(e){return-1<I(i,e)},r,!0),c=[function(e,t,n){var o=!a&&(n||t!==w)||((i=t).nodeType?l(e,t,n):d(e,t,n));return i=null,o}];s<o;s++)if(t=C.relative[e[s].type])c=[me(ve(c),t)];else{if((t=C.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<o&&!C.relative[e[n].type];n++);return ye(1<s&&ve(c),1<s&&he(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(q,"$1"),t,s<n&&be(e.slice(s,n)),n<o&&be(e=e.slice(n)),n<o&&he(e))}c.push(t)}return ve(c)}return pe.prototype=C.filters=C.pseudos,C.setFilters=new pe,m=oe.tokenize=function(e,t){var n,o,i,a,r,s,l,d=_[e+" "];if(d)return t?0:d.slice(0);for(r=e,s=[],l=C.preFilter;r;){for(a in n&&!(o=W.exec(r))||(o&&(r=r.slice(o[0].length)||r),s.push(i=[])),n=!1,(o=U.exec(r))&&(n=o.shift(),i.push({value:n,type:o[0].replace(q," ")}),r=r.slice(n.length)),C.filter)!(o=G[a].exec(r))||l[a]&&!(o=l[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),r=r.slice(n.length));if(!n)break}return t?r.length:r?oe.error(e):_(e,s).slice(0)},f=oe.compile=function(e,t){var n,o=[],i=[],a=P[e+" "];if(!a){for(n=(t=t||m(e)).length;n--;)(a=be(t[n]))[S]?o.push(a):i.push(a);(a=P(e,function(v,g){function e(e,t,n,o,i){var a,r,s,l=0,d="0",c=e&&[],u=[],f=w,p=e||b&&C.find.TAG("*",i),h=T+=null==f?1:Math.random()||.1,m=p.length;for(i&&(w=t===k||t||i);d!==m&&null!=(a=p[d]);d++){if(b&&a){for(r=0,t||a.ownerDocument===k||(x(a),n=!D);s=v[r++];)if(s(a,t||k,n)){o.push(a);break}i&&(T=h)}y&&((a=!s&&a)&&l--,e&&c.push(a))}if(l+=d,y&&d!==l){for(r=0;s=g[r++];)s(c,u,t,n);if(e){if(0<l)for(;d--;)c[d]||u[d]||(u[d]=E.call(o));u=ge(u)}A.apply(o,u),i&&!e&&0<u.length&&1<l+g.length&&oe.uniqueSort(o)}return i&&(T=h,w=f),c}var y=0<g.length,b=0<v.length;return y?ae(e):e}(i,o))).selector=e}return a},v=oe.select=function(e,t,n,o){var i,a,r,s,l,d="function"==typeof e&&e,c=!o&&m(e=d.selector||e);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(r=a[0]).type&&h.getById&&9===t.nodeType&&D&&C.relative[a[1].type]){if(!(t=(C.find.ID(r.matches[0].replace(ne,u),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=G.needsContext.test(e)?0:a.length;i--&&(r=a[i],!C.relative[s=r.type]);)if((l=C.find[s])&&(o=l(r.matches[0].replace(ne,u),ee.test(a[0].type)&&fe(t.parentNode)||t))){if(a.splice(i,1),!(e=o.length&&he(a)))return A.apply(n,o),n;break}}return(d||f(e,c))(o,t,!D,n,!t||ee.test(e)&&fe(t.parentNode)||t),n},h.sortStable=S.split("").sort($).join("")===S,h.detectDuplicates=!!d,x(),h.sortDetached=re(function(e){return 1&e.compareDocumentPosition(k.createElement("div"))}),re(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&re(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),re(function(e){return null==e.getAttribute("disabled")})||se(R,function(e,t,n){var o;return n?void 0:!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),oe}(k);D.find=p,D.expr=p.selectors,D.expr[":"]=D.expr.pseudos,D.uniqueSort=D.unique=p.uniqueSort,D.text=p.getText,D.isXMLDoc=p.isXML,D.contains=p.contains;function y(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&D(e).is(n))break;o.push(e)}return o}function b(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var C=D.expr.match.needsContext,w=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function S(e,n,o){if(D.isFunction(n))return D.grep(e,function(e,t){return!!n.call(e,t,e)!==o});if(n.nodeType)return D.grep(e,function(e){return e===n!==o});if("string"==typeof n){if(x.test(n))return D.filter(n,e,o);n=D.filter(n,e)}return D.grep(e,function(e){return-1<D.inArray(e,n)!==o})}D.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?D.find.matchesSelector(o,e)?[o]:[]:D.find.matches(e,D.grep(t,function(e){return 1===e.nodeType}))},D.fn.extend({find:function(e){var t,n=[],o=this,i=o.length;if("string"!=typeof e)return this.pushStack(D(e).filter(function(){for(t=0;t<i;t++)if(D.contains(o[t],this))return!0}));for(t=0;t<i;t++)D.find(e,o[t],n);return(n=this.pushStack(1<i?D.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&C.test(e)?D(e):e||[],!1).length}});var T,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(D.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||T,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):D.isFunction(e)?void 0!==n.ready?n.ready(e):e(D):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),D.makeArray(e,this));if(!(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:M.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof D?t[0]:t,D.merge(this,D.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:h,!0)),w.test(o[1])&&D.isPlainObject(t))for(o in t)D.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}if((i=h.getElementById(o[2]))&&i.parentNode){if(i.id!==o[2])return T.find(e);this.length=1,this[0]=i}return this.context=h,this.selector=e,this}).prototype=D.fn,T=D(h);var _=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function $(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}D.fn.extend({has:function(e){var t,n=D(e,this),o=n.length;return this.filter(function(){for(t=0;t<o;t++)if(D.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,o=0,i=this.length,a=[],r=C.test(e)||"string"!=typeof e?D(e,t||this.context):0;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&D.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?D.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?D.inArray(this[0],D(e)):D.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),D.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,"parentNode")},parentsUntil:function(e,t,n){return y(e,"parentNode",n)},next:function(e){return $(e,"nextSibling")},prev:function(e){return $(e,"previousSibling")},nextAll:function(e){return y(e,"nextSibling")},prevAll:function(e){return y(e,"previousSibling")},nextUntil:function(e,t,n){return y(e,"nextSibling",n)},prevUntil:function(e,t,n){return y(e,"previousSibling",n)},siblings:function(e){return b((e.parentNode||{}).firstChild,e)},children:function(e){return b(e.firstChild)},contents:function(e){return D.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:D.merge([],e.childNodes)}},function(o,i){D.fn[o]=function(e,t){var n=D.map(this,i,e);return"Until"!==o.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=D.filter(t,n)),1<this.length&&(P[o]||(n=D.uniqueSort(n)),_.test(o)&&(n=n.reverse())),this.pushStack(n)}});var L,E,N=/\S+/g;function A(){h.addEventListener?(h.removeEventListener("DOMContentLoaded",j),k.removeEventListener("load",j)):(h.detachEvent("onreadystatechange",j),k.detachEvent("onload",j))}function j(){!h.addEventListener&&"load"!==k.event.type&&"complete"!==h.readyState||(A(),D.ready())}for(E in D.Callbacks=function(o){o="string"==typeof o?function(e){var n={};return D.each(e.match(N)||[],function(e,t){n[t]=!0}),n}(o):D.extend({},o);function n(){for(a=o.once,t=i=!0;s.length;l=-1)for(e=s.shift();++l<r.length;)!1===r[l].apply(e[0],e[1])&&o.stopOnFalse&&(l=r.length,e=!1);o.memory||(e=!1),i=!1,a&&(r=e?[]:"")}var i,e,t,a,r=[],s=[],l=-1,d={add:function(){return r&&(e&&!i&&(l=r.length-1,s.push(e)),function n(e){D.each(e,function(e,t){D.isFunction(t)?o.unique&&d.has(t)||r.push(t):t&&t.length&&"string"!==D.type(t)&&n(t)})}(arguments),e&&!i&&n()),this},remove:function(){return D.each(arguments,function(e,t){for(var n;-1<(n=D.inArray(t,r,n));)r.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<D.inArray(e,r):0<r.length},empty:function(){return r=r&&[],this},disable:function(){return a=s=[],r=e="",this},disabled:function(){return!r},lock:function(){return a=!0,e||d.disable(),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),i||n()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!t}};return d},D.extend({Deferred:function(e){var a=[["resolve","done",D.Callbacks("once memory"),"resolved"],["reject","fail",D.Callbacks("once memory"),"rejected"],["notify","progress",D.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return D.Deferred(function(o){D.each(a,function(e,t){var n=D.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&D.isFunction(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[t[0]+"With"](this===r?o.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?D.extend(e,r):r}},s={};return r.pipe=r.then,D.each(a,function(e,t){var n=t[2],o=t[3];r[t[1]]=n.add,o&&n.add(function(){i=o},a[1^e][2].disable,a[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?r:this,arguments),this},s[t[0]+"With"]=n.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,o){return function(e){n[t]=this,o[t]=1<arguments.length?c.call(arguments):e,o===i?d.notifyWith(n,o):--l||d.resolveWith(n,o)}}var i,n,o,a=0,r=c.call(arguments),s=r.length,l=1!==s||e&&D.isFunction(e.promise)?s:0,d=1===l?e:D.Deferred();if(1<s)for(i=new Array(s),n=new Array(s),o=new Array(s);a<s;a++)r[a]&&D.isFunction(r[a].promise)?r[a].promise().progress(t(a,n,i)).done(t(a,o,r)).fail(d.reject):--l;return l||d.resolveWith(o,r),d.promise()}}),D.fn.ready=function(e){return D.ready.promise().done(e),this},D.extend({isReady:!1,readyWait:1,holdReady:function(e){e?D.readyWait++:D.ready(!0)},ready:function(e){(!0===e?--D.readyWait:D.isReady)||((D.isReady=!0)!==e&&0<--D.readyWait||(L.resolveWith(h,[D]),D.fn.triggerHandler&&(D(h).triggerHandler("ready"),D(h).off("ready"))))}}),D.ready.promise=function(e){if(!L)if(L=D.Deferred(),"complete"===h.readyState||"loading"!==h.readyState&&!h.documentElement.doScroll)k.setTimeout(D.ready);else if(h.addEventListener)h.addEventListener("DOMContentLoaded",j),k.addEventListener("load",j);else{h.attachEvent("onreadystatechange",j),k.attachEvent("onload",j);var n=!1;try{n=null==k.frameElement&&h.documentElement}catch(e){}n&&n.doScroll&&!function t(){if(!D.isReady){try{n.doScroll("left")}catch(e){return k.setTimeout(t,50)}A(),D.ready()}}()}return L.promise(e)},D.ready.promise(),D(g))break;g.ownFirst="0"===E,g.inlineBlockNeedsLayout=!1,D(function(){var e,t,n,o;(n=h.getElementsByTagName("body")[0])&&n.style&&(t=h.createElement("div"),(o=h.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",g.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(o))}),function(){var e=h.createElement("div");g.deleteExpando=!0;try{delete e.test}catch(e){g.deleteExpando=!1}e=null}();function I(e){var t=D.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)}var R,H=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function F(e,t,n){if(void 0===n&&1===e.nodeType){var o="data-"+t.replace(O,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(o))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:H.test(n)?D.parseJSON(n):n)}catch(e){}D.data(e,t,n)}else n=void 0}return n}function B(e){var t;for(t in e)if(("data"!==t||!D.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function z(e,t,n,o){if(I(e)){var i,a,r=D.expando,s=e.nodeType,l=s?D.cache:e,d=s?e[r]:e[r]&&r;if(d&&l[d]&&(o||l[d].data)||void 0!==n||"string"!=typeof t)return l[d=d||(s?e[r]=u.pop()||D.guid++:r)]||(l[d]=s?{}:{toJSON:D.noop}),"object"!=typeof t&&"function"!=typeof t||(o?l[d]=D.extend(l[d],t):l[d].data=D.extend(l[d].data,t)),a=l[d],o||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[D.camelCase(t)]=n),"string"==typeof t?null==(i=a[t])&&(i=a[D.camelCase(t)]):i=a,i}}function q(e,t,n){if(I(e)){var o,i,a=e.nodeType,r=a?D.cache:e,s=a?e[D.expando]:D.expando;if(r[s]){if(t&&(o=n?r[s]:r[s].data)){i=(t=D.isArray(t)?t.concat(D.map(t,D.camelCase)):t in o?[t]:(t=D.camelCase(t))in o?[t]:t.split(" ")).length;for(;i--;)delete o[t[i]];if(n?!B(o):!D.isEmptyObject(o))return}(n||(delete r[s].data,B(r[s])))&&(a?D.cleanData([e],!0):g.deleteExpando||r!=r.window?delete r[s]:r[s]=void 0)}}}D.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?D.cache[e[D.expando]]:e[D.expando])&&!B(e)},data:function(e,t,n){return z(e,t,n)},removeData:function(e,t){return q(e,t)},_data:function(e,t,n){return z(e,t,n,!0)},_removeData:function(e,t){return q(e,t,!0)}}),D.fn.extend({data:function(e,t){var n,o,i,a=this[0],r=a&&a.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){D.data(this,e)}):1<arguments.length?this.each(function(){D.data(this,e,t)}):a?F(a,e,D.data(a,e)):void 0;if(this.length&&(i=D.data(a),1===a.nodeType&&!D._data(a,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(0===(o=r[n].name).indexOf("data-")&&F(a,o=D.camelCase(o.slice(5)),i[o]));D._data(a,"parsedAttrs",!0)}return i},removeData:function(e){return this.each(function(){D.removeData(this,e)})}}),D.extend({queue:function(e,t,n){var o;return e?(t=(t||"fx")+"queue",o=D._data(e,t),n&&(!o||D.isArray(n)?o=D._data(e,t,D.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=D.queue(e,t),o=n.length,i=n.shift(),a=D._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,function(){D.dequeue(e,t)},a)),!o&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return D._data(e,n)||D._data(e,n,{empty:D.Callbacks("once memory").add(function(){D._removeData(e,t+"queue"),D._removeData(e,n)})})}}),D.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?D.queue(this[0],t):void 0===n?this:this.each(function(){var e=D.queue(this,t,n);D._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&D.dequeue(this,t)})},dequeue:function(e){return this.each(function(){D.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||a.resolveWith(r,[r])}var o,i=1,a=D.Deferred(),r=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=D._data(r[s],e+"queueHooks"))&&o.empty&&(i++,o.empty.add(n));return n(),a.promise(t)}}),g.shrinkWrapBlocks=function(){return null!=R?R:(R=!1,(t=h.getElementsByTagName("body")[0])&&t.style?(e=h.createElement("div"),(n=h.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(h.createElement("div")).style.width="5px",R=3!==e.offsetWidth),t.removeChild(n),R):void 0);var e,t,n};function W(e,t){return e=t||e,"none"===D.css(e,"display")||!D.contains(e.ownerDocument,e)}var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"];function X(e,t,n,o){var i,a=1,r=20,s=o?function(){return o.cur()}:function(){return D.css(e,t,"")},l=s(),d=n&&n[3]||(D.cssNumber[t]?"":"px"),c=(D.cssNumber[t]||"px"!==d&&+l)&&Y.exec(D.css(e,t));if(c&&c[3]!==d)for(d=d||c[3],n=n||[],c=+l||1;c/=a=a||".5",D.style(e,t,c+d),a!==(a=s()/l)&&1!==a&&--r;);return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],o&&(o.unit=d,o.start=c,o.end=i)),i}var G,J,K,Q=function(e,t,n,o,i,a,r){var s=0,l=e.length,d=null==n;if("object"===D.type(n))for(s in i=!0,n)Q(e,t,s,n[s],!0,a,r);else if(void 0!==o&&(i=!0,D.isFunction(o)||(r=!0),d&&(t=r?(t.call(e,o),null):(d=t,function(e,t,n){return d.call(D(e),n)})),t))for(;s<l;s++)t(e[s],n,r?o:o.call(e[s],s,t(e[s],n)));return i?e:d?t.call(e):l?t(e[0],n):a},Z=/^(?:checkbox|radio)$/i,ee=/<([\w:-]+)/,te=/^$|\/(?:java|ecma)script/i,ne=/^\s+/,oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ie(e){var t=oe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}G=h.createElement("div"),J=h.createDocumentFragment(),K=h.createElement("input"),G.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",g.leadingWhitespace=3===G.firstChild.nodeType,g.tbody=!G.getElementsByTagName("tbody").length,g.htmlSerialize=!!G.getElementsByTagName("link").length,g.html5Clone="<:nav></:nav>"!==h.createElement("nav").cloneNode(!0).outerHTML,K.type="checkbox",K.checked=!0,J.appendChild(K),g.appendChecked=K.checked,G.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!G.cloneNode(!0).lastChild.defaultValue,J.appendChild(G),(K=h.createElement("input")).setAttribute("type","radio"),K.setAttribute("checked","checked"),K.setAttribute("name","t"),G.appendChild(K),g.checkClone=G.cloneNode(!0).cloneNode(!0).lastChild.checked,g.noCloneEvent=!!G.addEventListener,G[D.expando]=1,g.attributes=!G.getAttribute(D.expando);var ae={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:g.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function re(e,t){var n,o,i=0,a=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(o=n[i]);i++)!t||D.nodeName(o,t)?a.push(o):D.merge(a,re(o,t));return void 0===t||t&&D.nodeName(e,t)?D.merge([e],a):a}function se(e,t){for(var n,o=0;null!=(n=e[o]);o++)D._data(n,"globalEval",!t||D._data(t[o],"globalEval"))}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td;var le=/<|&#?\w+;/,de=/<tbody/i;function ce(e){Z.test(e.type)&&(e.defaultChecked=e.checked)}function ue(e,t,n,o,i){for(var a,r,s,l,d,c,u,f=e.length,p=ie(t),h=[],m=0;m<f;m++)if((r=e[m])||0===r)if("object"===D.type(r))D.merge(h,r.nodeType?[r]:r);else if(le.test(r)){for(l=l||p.appendChild(t.createElement("div")),d=(ee.exec(r)||["",""])[1].toLowerCase(),u=ae[d]||ae._default,l.innerHTML=u[1]+D.htmlPrefilter(r)+u[2],a=u[0];a--;)l=l.lastChild;if(!g.leadingWhitespace&&ne.test(r)&&h.push(t.createTextNode(ne.exec(r)[0])),!g.tbody)for(a=(r="table"!==d||de.test(r)?"<table>"!==u[1]||de.test(r)?0:l:l.firstChild)&&r.childNodes.length;a--;)D.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(D.merge(h,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else h.push(t.createTextNode(r));for(l&&p.removeChild(l),g.appendChecked||D.grep(re(h,"input"),ce),m=0;r=h[m++];)if(o&&-1<D.inArray(r,o))i&&i.push(r);else if(s=D.contains(r.ownerDocument,r),l=re(p.appendChild(r),"script"),s&&se(l),n)for(a=0;r=l[a++];)te.test(r.type||"")&&n.push(r);return l=null,p}!function(){var e,t,n=h.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(g[e]=t in k)||(n.setAttribute(t,"t"),g[e]=!1===n.attributes[t].expando);n=null}();var fe=/^(?:input|select|textarea)$/i,pe=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,me=/^(?:focusinfocus|focusoutblur)$/,ve=/^([^.]*)(?:\.(.+)|)/;function ge(){return!0}function ye(){return!1}function be(){try{return h.activeElement}catch(e){}}function Ce(e,t,n,o,i,a){var r,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)Ce(e,s,n,o,t[s],a);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=ye;else if(!i)return e;return 1===a&&(r=i,(i=function(e){return D().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=D.guid++)),e.each(function(){D.event.add(this,t,i,o,n)})}D.event={global:{},add:function(e,t,n,o,i){var a,r,s,l,d,c,u,f,p,h,m,v=D._data(e);if(v){for(n.handler&&(n=(l=n).handler,i=l.selector),n.guid||(n.guid=D.guid++),(r=v.events)||(r=v.events={}),(c=v.handle)||((c=v.handle=function(e){return void 0===D||e&&D.event.triggered===e.type?void 0:D.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(N)||[""]).length;s--;)p=m=(a=ve.exec(t[s])||[])[1],h=(a[2]||"").split(".").sort(),p&&(d=D.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=D.event.special[p]||{},u=D.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&D.expr.match.needsContext.test(i),namespace:h.join(".")},l),(f=r[p])||((f=r[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,o,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),D.event.global[p]=!0);e=null}},remove:function(e,t,n,o,i){var a,r,s,l,d,c,u,f,p,h,m,v=D.hasData(e)&&D._data(e);if(v&&(c=v.events)){for(d=(t=(t||"").match(N)||[""]).length;d--;)if(p=m=(s=ve.exec(t[d])||[])[1],h=(s[2]||"").split(".").sort(),p){for(u=D.event.special[p]||{},f=c[p=(o?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=f.length;a--;)r=f[a],!i&&m!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||o&&o!==r.selector&&("**"!==o||!r.selector)||(f.splice(a,1),r.selector&&f.delegateCount--,u.remove&&u.remove.call(e,r));l&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,h,v.handle)||D.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)D.event.remove(e,p+t[d],n,o,!0);D.isEmptyObject(c)&&(delete v.handle,D._removeData(e,"events"))}},trigger:function(e,t,n,o){var i,a,r,s,l,d,c,u=[n||h],f=v.call(e,"type")?e.type:e,p=v.call(e,"namespace")?e.namespace.split("."):[];if(r=d=n=n||h,3!==n.nodeType&&8!==n.nodeType&&!me.test(f+D.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,(e=e[D.expando]?e:new D.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:D.makeArray(t,[e]),l=D.event.special[f]||{},o||!l.trigger||!1!==l.trigger.apply(n,t))){if(!o&&!l.noBubble&&!D.isWindow(n)){for(s=l.delegateType||f,me.test(s+f)||(r=r.parentNode);r;r=r.parentNode)u.push(r),d=r;d===(n.ownerDocument||h)&&u.push(d.defaultView||d.parentWindow||k)}for(c=0;(r=u[c++])&&!e.isPropagationStopped();)e.type=1<c?s:l.bindType||f,(i=(D._data(r,"events")||{})[e.type]&&D._data(r,"handle"))&&i.apply(r,t),(i=a&&r[a])&&i.apply&&I(r)&&(e.result=i.apply(r,t),!1===e.result&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(u.pop(),t))&&I(n)&&a&&n[f]&&!D.isWindow(n)){(d=n[a])&&(n[a]=null),D.event.triggered=f;try{n[f]()}catch(e){}D.event.triggered=void 0,d&&(n[a]=d)}return e.result}},dispatch:function(e){e=D.event.fix(e);var t,n,o,i,a,r=[],s=c.call(arguments),l=(D._data(this,"events")||{})[e.type]||[],d=D.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(r=D.event.handlers.call(this,e,l),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(o=((D.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(e.result=o)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,o,i,a,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],n=0;n<s;n++)void 0===o[i=(a=t[n]).selector+" "]&&(o[i]=a.needsContext?-1<D(i,this).index(l):D.find(i,this,null,[l]).length),o[i]&&o.push(a);o.length&&r.push({elem:l,handlers:o})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[D.expando])return e;var t,n,o,i=e.type,a=e,r=this.fixHooks[i];for(r||(this.fixHooks[i]=r=he.test(i)?this.mouseHooks:pe.test(i)?this.keyHooks:{}),o=r.props?this.props.concat(r.props):this.props,e=new D.Event(a),t=o.length;t--;)e[n=o[t]]=a[n];return e.target||(e.target=a.srcElement||h),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,o,i,a=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(o=e.target.ownerDocument||h).documentElement,n=o.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==be()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===be()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return D.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return D.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var o=D.extend(new D.Event,n,{type:e,isSimulated:!0});D.event.trigger(o,null,t),o.isDefaultPrevented()&&n.preventDefault()}},D.removeEvent=h.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var o="on"+t;e.detachEvent&&(void 0===e[o]&&(e[o]=null),e.detachEvent(o,n))},D.Event=function(e,t){return this instanceof D.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ge:ye):this.type=e,t&&D.extend(this,t),this.timeStamp=e&&e.timeStamp||D.now(),void(this[D.expando]=!0)):new D.Event(e,t)},D.Event.prototype={constructor:D.Event,isDefaultPrevented:ye,isPropagationStopped:ye,isImmediatePropagationStopped:ye,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ge,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ge,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ge,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){D.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||D.contains(this,n))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=i),t}}}),g.submit||(D.event.special.submit={setup:function(){return!D.nodeName(this,"form")&&void D.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=D.nodeName(t,"input")||D.nodeName(t,"button")?D.prop(t,"form"):void 0;n&&!D._data(n,"submit")&&(D.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),D._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&D.event.simulate("submit",this.parentNode,e))},teardown:function(){return!D.nodeName(this,"form")&&void D.event.remove(this,"._submit")}}),g.change||(D.event.special.change={setup:function(){return fe.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(D.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),D.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),D.event.simulate("change",this,e)})),!1):void D.event.add(this,"beforeactivate._change",function(e){var t=e.target;fe.test(t.nodeName)&&!D._data(t,"change")&&(D.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||D.event.simulate("change",this.parentNode,e)}),D._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return D.event.remove(this,"._change"),!fe.test(this.nodeName)}}),g.focusin||D.each({focus:"focusin",blur:"focusout"},function(n,o){function i(e){D.event.simulate(o,e.target,D.event.fix(e))}D.event.special[o]={setup:function(){var e=this.ownerDocument||this,t=D._data(e,o);t||e.addEventListener(n,i,!0),D._data(e,o,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=D._data(e,o)-1;t?D._data(e,o,t):(e.removeEventListener(n,i,!0),D._removeData(e,o))}}}),D.fn.extend({on:function(e,t,n,o){return Ce(this,e,t,n,o)},one:function(e,t,n,o){return Ce(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,D(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ye),this.each(function(){D.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this},trigger:function(e,t){return this.each(function(){D.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?D.event.trigger(e,t,n,!0):void 0}});var we=/ jQuery\d+="(?:null|\d+)"/g,xe=new RegExp("<(?:"+oe+")[\\s/>]","i"),ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,De=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^true\/(.*)/,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_e=ie(h).appendChild(h.createElement("div"));function Pe(e,t){return D.nodeName(e,"table")&&D.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function $e(e){return e.type=(null!==D.find.attr(e,"type"))+"/"+e.type,e}function Le(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ee(e,t){if(1===t.nodeType&&D.hasData(e)){var n,o,i,a=D._data(e),r=D._data(t,a),s=a.events;if(s)for(n in delete r.handle,r.events={},s)for(o=0,i=s[n].length;o<i;o++)D.event.add(t,n,s[n][o]);r.data&&(r.data=D.extend({},r.data))}}function Ne(e,t){var n,o,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!g.noCloneEvent&&t[D.expando]){for(o in(i=D._data(t)).events)D.removeEvent(t,o,i.handle);t.removeAttribute(D.expando)}"script"===n&&t.text!==e.text?($e(t).text=e.text,Le(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),g.html5Clone&&e.innerHTML&&!D.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Z.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Ae(n,o,i,a){o=m.apply([],o);var e,t,r,s,l,d,c=0,u=n.length,f=u-1,p=o[0],h=D.isFunction(p);if(h||1<u&&"string"==typeof p&&!g.checkClone&&Se.test(p))return n.each(function(e){var t=n.eq(e);h&&(o[0]=p.call(this,e,t.html())),Ae(t,o,i,a)});if(u&&(e=(d=ue(o,n[0].ownerDocument,!1,n,a)).firstChild,1===d.childNodes.length&&(d=e),e||a)){for(r=(s=D.map(re(d,"script"),$e)).length;c<u;c++)t=d,c!==f&&(t=D.clone(t,!0,!0),r&&D.merge(s,re(t,"script"))),i.call(n[c],t,c);if(r)for(l=s[s.length-1].ownerDocument,D.map(s,Le),c=0;c<r;c++)t=s[c],te.test(t.type||"")&&!D._data(t,"globalEval")&&D.contains(l,t)&&(t.src?D._evalUrl&&D._evalUrl(t.src):D.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Me,"")));d=e=null}return n}function je(e,t,n){for(var o,i=t?D.filter(t,e):e,a=0;null!=(o=i[a]);a++)n||1!==o.nodeType||D.cleanData(re(o)),o.parentNode&&(n&&D.contains(o.ownerDocument,o)&&se(re(o,"script")),o.parentNode.removeChild(o));return e}D.extend({htmlPrefilter:function(e){return e.replace(ke,"<$1></$2>")},clone:function(e,t,n){var o,i,a,r,s,l=D.contains(e.ownerDocument,e);if(g.html5Clone||D.isXMLDoc(e)||!xe.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(_e.innerHTML=e.outerHTML,_e.removeChild(a=_e.firstChild)),!(g.noCloneEvent&&g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||D.isXMLDoc(e)))for(o=re(a),s=re(e),r=0;null!=(i=s[r]);++r)o[r]&&Ne(i,o[r]);if(t)if(n)for(s=s||re(e),o=o||re(a),r=0;null!=(i=s[r]);r++)Ee(i,o[r]);else Ee(e,a);return 0<(o=re(a,"script")).length&&se(o,!l&&re(e,"script")),o=s=i=null,a},cleanData:function(e,t){for(var n,o,i,a,r=0,s=D.expando,l=D.cache,d=g.attributes,c=D.event.special;null!=(n=e[r]);r++)if((t||I(n))&&(a=(i=n[s])&&l[i])){if(a.events)for(o in a.events)c[o]?D.event.remove(n,o):D.removeEvent(n,o,a.handle);l[i]&&(delete l[i],d||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),u.push(i))}}}),D.fn.extend({domManip:Ae,detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return Q(this,function(e){return void 0===e?D.text(this):this.empty().append((this[0]&&this[0].ownerDocument||h).createTextNode(e))},null,e,arguments.length)},append:function(){return Ae(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)})},prepend:function(){return Ae(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ae(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ae(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&D.cleanData(re(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&D.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return D.clone(this,e,t)})},html:function(e){return Q(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(we,""):void 0;if("string"==typeof e&&!De.test(e)&&(g.htmlSerialize||!xe.test(e))&&(g.leadingWhitespace||!ne.test(e))&&!ae[(ee.exec(e)||["",""])[1].toLowerCase()]){e=D.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(D.cleanData(re(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ae(this,arguments,function(e){var t=this.parentNode;D.inArray(this,n)<0&&(D.cleanData(re(this)),t&&t.replaceChild(e,this))},n)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){D.fn[e]=function(e){for(var t,n=0,o=[],i=D(e),a=i.length-1;n<=a;n++)t=n===a?this:this.clone(!0),D(i[n])[r](t),s.apply(o,t.get());return this.pushStack(o)}});var Ie,Re={HTML:"block",BODY:"block"};function He(e,t){var n=D(t.createElement(e)).appendTo(t.body),o=D.css(n[0],"display");return n.detach(),o}function Oe(e){var t=h,n=Re[e];return n||("none"!==(n=He(e,t))&&n||((t=((Ie=(Ie||D("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ie[0].contentDocument).document).write(),t.close(),n=He(e,t),Ie.detach()),Re[e]=n),n}function Fe(e,t,n,o){var i,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,o||[]),t)e.style[a]=r[a];return i}var Be=/^margin/,ze=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),qe=h.documentElement;!function(){var o,i,a,r,s,l,d=h.createElement("div"),c=h.createElement("div");if(c.style){function e(){var e,t,n=h.documentElement;n.appendChild(d),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o=a=l=!1,i=s=!0,k.getComputedStyle&&(t=k.getComputedStyle(c),o="1%"!==(t||{}).top,l="2px"===(t||{}).marginLeft,a="4px"===(t||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(t||{marginRight:"4px"}).marginRight,(e=c.appendChild(h.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((k.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(r=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),n.removeChild(d)}c.style.cssText="float:left;opacity:.5",g.opacity="0.5"===c.style.opacity,g.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,(d=h.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",d.appendChild(c),g.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,D.extend(g,{reliableHiddenOffsets:function(){return null==o&&e(),r},boxSizingReliable:function(){return null==o&&e(),a},pixelMarginRight:function(){return null==o&&e(),i},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==o&&e(),s},reliableMarginLeft:function(){return null==o&&e(),l}})}}();var We,Ue,Ye=/^(top|right|bottom|left)$/;function Ve(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}k.getComputedStyle?(We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=k),t.getComputedStyle(e)},Ue=function(e,t,n){var o,i,a,r,s=e.style;return""!==(r=(n=n||We(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==r||D.contains(e.ownerDocument,e)||(r=D.style(e,t)),n&&!g.pixelMarginRight()&&ze.test(r)&&Be.test(t)&&(o=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=o,s.minWidth=i,s.maxWidth=a),void 0===r?r:r+""}):qe.currentStyle&&(We=function(e){return e.currentStyle},Ue=function(e,t,n){var o,i,a,r,s=e.style;return null==(r=(n=n||We(e))?n[t]:void 0)&&s&&s[t]&&(r=s[t]),ze.test(r)&&!Ye.test(t)&&(o=s.left,(a=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=o,a&&(i.left=a)),void 0===r?r:r+""||"auto"});var Xe=/alpha\([^)]*\)/i,Ge=/opacity\s*=\s*([^)]*)/i,Je=/^(none|table(?!-c[ea]).+)/,Ke=new RegExp("^("+U+")(.*)$","i"),Qe={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"],tt=h.createElement("div").style;function nt(e){if(e in tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}function ot(e,t){for(var n,o,i,a=[],r=0,s=e.length;r<s;r++)(o=e[r]).style&&(a[r]=D._data(o,"olddisplay"),n=o.style.display,t?(a[r]||"none"!==n||(o.style.display=""),""===o.style.display&&W(o)&&(a[r]=D._data(o,"olddisplay",Oe(o.nodeName)))):(i=W(o),(n&&"none"!==n||!i)&&D._data(o,"olddisplay",i?n:D.css(o,"display"))));for(r=0;r<s;r++)(o=e[r]).style&&(t&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=t?a[r]||"":"none"));return e}function it(e,t,n){var o=Ke.exec(t);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):t}function at(e,t,n,o,i){for(var a=n===(o?"border":"content")?4:"width"===t?1:0,r=0;a<4;a+=2)"margin"===n&&(r+=D.css(e,n+V[a],!0,i)),o?("content"===n&&(r-=D.css(e,"padding"+V[a],!0,i)),"margin"!==n&&(r-=D.css(e,"border"+V[a]+"Width",!0,i))):(r+=D.css(e,"padding"+V[a],!0,i),"padding"!==n&&(r+=D.css(e,"border"+V[a]+"Width",!0,i)));return r}function rt(e,t,n){var o=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=We(e),r=g.boxSizing&&"border-box"===D.css(e,"boxSizing",!1,a);if(i<=0||null==i){if(((i=Ue(e,t,a))<0||null==i)&&(i=e.style[t]),ze.test(i))return i;o=r&&(g.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+at(e,t,n||(r?"border":"content"),o,a)+"px"}function st(e,t,n,o,i){return new st.prototype.init(e,t,n,o,i)}D.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:g.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,r,s=D.camelCase(t),l=e.style;if(t=D.cssProps[s]||(D.cssProps[s]=nt(s)||s),r=D.cssHooks[t]||D.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(i=r.get(e,!1,o))?i:l[t];if("string"===(a=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=X(e,t,i),a="number"),null!=n&&n==n&&("number"===a&&(n+=i&&i[3]||(D.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(e,n,o)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,o){var i,a,r,s=D.camelCase(t);return t=D.cssProps[s]||(D.cssProps[s]=nt(s)||s),(r=D.cssHooks[t]||D.cssHooks[s])&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=Ue(e,t,o)),"normal"===a&&t in Ze&&(a=Ze[t]),""===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),D.each(["height","width"],function(e,i){D.cssHooks[i]={get:function(e,t,n){return t?Je.test(D.css(e,"display"))&&0===e.offsetWidth?Fe(e,Qe,function(){return rt(e,i,n)}):rt(e,i,n):void 0},set:function(e,t,n){var o=n&&We(e);return it(0,t,n?at(e,i,n,g.boxSizing&&"border-box"===D.css(e,"boxSizing",!1,o),o):0)}}}),g.opacity||(D.cssHooks.opacity={get:function(e,t){return Ge.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,o=e.currentStyle,i=D.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=o&&o.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===D.trim(a.replace(Xe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||o&&!o.filter)||(n.filter=Xe.test(a)?a.replace(Xe,i):a+" "+i)}}),D.cssHooks.marginRight=Ve(g.reliableMarginRight,function(e,t){return t?Fe(e,{display:"inline-block"},Ue,[e,"marginRight"]):void 0}),D.cssHooks.marginLeft=Ve(g.reliableMarginLeft,function(e,t){return t?(parseFloat(Ue(e,"marginLeft"))||(D.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),D.each({margin:"",padding:"",border:"Width"},function(i,a){D.cssHooks[i+a]={expand:function(e){for(var t=0,n={},o="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+V[t]+a]=o[t]||o[t-2]||o[0];return n}},Be.test(i)||(D.cssHooks[i+a].set=it)}),D.fn.extend({css:function(e,t){return Q(this,function(e,t,n){var o,i,a={},r=0;if(D.isArray(t)){for(o=We(e),i=t.length;r<i;r++)a[t[r]]=D.css(e,t[r],!1,o);return a}return void 0!==n?D.style(e,t,n):D.css(e,t)},e,t,1<arguments.length)},show:function(){return ot(this,!0)},hide:function(){return ot(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){W(this)?D(this).show():D(this).hide()})}}),((D.Tween=st).prototype={constructor:st,init:function(e,t,n,o,i,a){this.elem=e,this.prop=n,this.easing=i||D.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=a||(D.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=D.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=D.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){D.fx.step[e.prop]?D.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[D.cssProps[e.prop]]&&!D.cssHooks[e.prop]?e.elem[e.prop]=e.now:D.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},D.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},D.fx=st.prototype.init,D.fx.step={};var lt,dt,ct,ut,ft,pt,ht,mt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function gt(){return k.setTimeout(function(){lt=void 0}),lt=D.now()}function yt(e,t){var n,o={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=V[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function bt(e,t,n){for(var o,i=(Ct.tweeners[t]||[]).concat(Ct.tweeners["*"]),a=0,r=i.length;a<r;a++)if(o=i[a].call(n,t,e))return o}function Ct(a,e,t){var n,r,o=0,i=Ct.prefilters.length,s=D.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=lt||gt(),t=Math.max(0,d.startTime+d.duration-e),n=1-(t/d.duration||0),o=0,i=d.tweens.length;o<i;o++)d.tweens[o].run(n);return s.notifyWith(a,[d,n,t]),n<1&&i?t:(s.resolveWith(a,[d]),!1)},d=s.promise({elem:a,props:D.extend({},e),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},t),originalProperties:e,originalOptions:t,startTime:lt||gt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=D.Tween(a,d.opts,e,t,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(n),n},stop:function(e){var t=0,n=e?d.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)d.tweens[t].run(1);return e?(s.notifyWith(a,[d,1,0]),s.resolveWith(a,[d,e])):s.rejectWith(a,[d,e]),this}}),c=d.props;for(function(e,t){var n,o,i,a,r;for(n in e)if(i=t[o=D.camelCase(n)],a=e[n],D.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==o&&(e[o]=a,delete e[n]),(r=D.cssHooks[o])&&"expand"in r)for(n in a=r.expand(a),delete e[o],a)n in e||(e[n]=a[n],t[n]=i);else t[o]=i}(c,d.opts.specialEasing);o<i;o++)if(n=Ct.prefilters[o].call(d,a,c,d.opts))return D.isFunction(n.stop)&&(D._queueHooks(d.elem,d.opts.queue).stop=D.proxy(n.stop,n)),n;return D.map(c,bt,d),D.isFunction(d.opts.start)&&d.opts.start.call(a,d),D.fx.timer(D.extend(l,{elem:a,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}D.Animation=D.extend(Ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return X(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){for(var n,o=0,i=(e=D.isFunction(e)?(t=e,["*"]):e.match(N)).length;o<i;o++)n=e[o],Ct.tweeners[n]=Ct.tweeners[n]||[],Ct.tweeners[n].unshift(t)},prefilters:[function(t,e,n){var o,i,a,r,s,l,d,c=this,u={},f=t.style,p=t.nodeType&&W(t),h=D._data(t,"fxshow");for(o in n.queue||(null==(s=D._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,D.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(d=D.css(t,"display"))?D._data(t,"olddisplay")||Oe(t.nodeName):d)&&"none"===D.css(t,"float")&&(g.inlineBlockNeedsLayout&&"inline"!==Oe(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",g.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(i=e[o],mt.exec(i)){if(delete e[o],a=a||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[o])continue;p=!0}u[o]=h&&h[o]||D.style(t,o)}else d=void 0;if(D.isEmptyObject(u))"inline"===("none"===d?Oe(t.nodeName):d)&&(f.display=d);else for(o in h?"hidden"in h&&(p=h.hidden):h=D._data(t,"fxshow",{}),a&&(h.hidden=!p),p?D(t).show():c.done(function(){D(t).hide()}),c.done(function(){var e;for(e in D._removeData(t,"fxshow"),u)D.style(t,e,u[e])}),u)r=bt(p?h[o]:0,o,c),o in h||(h[o]=r.start,p&&(r.end=r.start,r.start="width"===o||"height"===o?1:0))}],prefilter:function(e,t){t?Ct.prefilters.unshift(e):Ct.prefilters.push(e)}}),D.speed=function(e,t,n){var o=e&&"object"==typeof e?D.extend({},e):{complete:n||!n&&t||D.isFunction(e)&&e,duration:e,easing:n&&t||t&&!D.isFunction(t)&&t};return o.duration=D.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in D.fx.speeds?D.fx.speeds[o.duration]:D.fx.speeds._default,null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){D.isFunction(o.old)&&o.old.call(this),o.queue&&D.dequeue(this,o.queue)},o},D.fn.extend({fadeTo:function(e,t,n,o){return this.filter(W).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(t,e,n,o){function i(){var e=Ct(this,D.extend({},t),r);(a||D._data(this,"finish"))&&e.stop(!0)}var a=D.isEmptyObject(t),r=D.speed(e,n,o);return i.finish=i,a||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(i,e,a){function r(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof i&&(a=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=D.timers,o=D._data(this);if(t)o[t]&&o[t].stop&&r(o[t]);else for(t in o)o[t]&&o[t].stop&&vt.test(t)&&r(o[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||D.dequeue(this,i)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=D._data(this),n=t[r+"queue"],o=t[r+"queueHooks"],i=D.timers,a=n?n.length:0;for(t.finish=!0,D.queue(this,r,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===r&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),D.each(["toggle","show","hide"],function(e,o){var i=D.fn[o];D.fn[o]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(yt(o,!0),e,t,n)}}),D.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){D.fn[e]=function(e,t,n){return this.animate(o,e,t,n)}}),D.timers=[],D.fx.tick=function(){var e,t=D.timers,n=0;for(lt=D.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||D.fx.stop(),lt=void 0},D.fx.timer=function(e){D.timers.push(e),e()?D.fx.start():D.timers.pop()},D.fx.interval=13,D.fx.start=function(){dt=dt||k.setInterval(D.fx.tick,D.fx.interval)},D.fx.stop=function(){k.clearInterval(dt),dt=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(o,e){return o=D.fx&&D.fx.speeds[o]||o,e=e||"fx",this.queue(e,function(e,t){var n=k.setTimeout(e,o);t.stop=function(){k.clearTimeout(n)}})},ut=h.createElement("input"),ft=h.createElement("div"),pt=h.createElement("select"),ht=pt.appendChild(h.createElement("option")),(ft=h.createElement("div")).setAttribute("className","t"),ft.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ct=ft.getElementsByTagName("a")[0],ut.setAttribute("type","checkbox"),ft.appendChild(ut),(ct=ft.getElementsByTagName("a")[0]).style.cssText="top:1px",g.getSetAttribute="t"!==ft.className,g.style=/top/.test(ct.getAttribute("style")),g.hrefNormalized="/a"===ct.getAttribute("href"),g.checkOn=!!ut.value,g.optSelected=ht.selected,g.enctype=!!h.createElement("form").enctype,pt.disabled=!0,g.optDisabled=!ht.disabled,(ut=h.createElement("input")).setAttribute("value",""),g.input=""===ut.getAttribute("value"),ut.value="t",ut.setAttribute("type","radio"),g.radioValue="t"===ut.value;var wt=/\r/g,xt=/[\x20\t\r\n\f]+/g;D.fn.extend({val:function(n){var o,e,i,t=this[0];return arguments.length?(i=D.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,D(this).val()):n)?t="":"number"==typeof t?t+="":D.isArray(t)&&(t=D.map(t,function(e){return null==e?"":e+""})),(o=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()])&&"set"in o&&void 0!==o.set(this,t,"value")||(this.value=t))})):t?(o=D.valHooks[t.type]||D.valHooks[t.nodeName.toLowerCase()])&&"get"in o&&void 0!==(e=o.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),D.extend({valHooks:{option:{get:function(e){var t=D.find.attr(e,"value");return null!=t?t:D.trim(D.text(e)).replace(xt," ")}},select:{get:function(e){for(var t,n,o=e.options,i=e.selectedIndex,a="select-one"===e.type||i<0,r=a?null:[],s=a?i+1:o.length,l=i<0?s:a?i:0;l<s;l++)if(((n=o[l]).selected||l===i)&&(g.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!D.nodeName(n.parentNode,"optgroup"))){if(t=D(n).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,o,i=e.options,a=D.makeArray(t),r=i.length;r--;)if(o=i[r],-1<D.inArray(D.valHooks.option.get(o),a))try{o.selected=n=!0}catch(e){o.scrollHeight}else o.selected=!1;return n||(e.selectedIndex=-1),i}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(e,t){return D.isArray(t)?e.checked=-1<D.inArray(D(e).val(),t):void 0}},g.checkOn||(D.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kt,Dt,St=D.expr.attrHandle,Tt=/^(?:checked|selected)$/i,Mt=g.getSetAttribute,_t=g.input;D.fn.extend({attr:function(e,t){return Q(this,D.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){D.removeAttr(this,e)})}}),D.extend({attr:function(e,t,n){var o,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?D.prop(e,t,n):(1===a&&D.isXMLDoc(e)||(t=t.toLowerCase(),i=D.attrHooks[t]||(D.expr.match.bool.test(t)?Dt:kt)),void 0!==n?null===n?void D.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=D.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&D.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o,i=0,a=t&&t.match(N);if(a&&1===e.nodeType)for(;n=a[i++];)o=D.propFix[n]||n,D.expr.match.bool.test(n)?_t&&Mt||!Tt.test(n)?e[o]=!1:e[D.camelCase("default-"+n)]=e[o]=!1:D.attr(e,n,""),e.removeAttribute(Mt?n:o)}}),Dt={set:function(e,t,n){return!1===t?D.removeAttr(e,n):_t&&Mt||!Tt.test(n)?e.setAttribute(!Mt&&D.propFix[n]||n,n):e[D.camelCase("default-"+n)]=e[n]=!0,n}},D.each(D.expr.match.bool.source.match(/\w+/g),function(e,t){var a=St[t]||D.find.attr;_t&&Mt||!Tt.test(t)?St[t]=function(e,t,n){var o,i;return n||(i=St[t],St[t]=o,o=null!=a(e,t,n)?t.toLowerCase():null,St[t]=i),o}:St[t]=function(e,t,n){return n?void 0:e[D.camelCase("default-"+t)]?t.toLowerCase():null}}),_t&&Mt||(D.attrHooks.value={set:function(e,t,n){return D.nodeName(e,"input")?void(e.defaultValue=t):kt&&kt.set(e,t,n)}}),Mt||(kt={set:function(e,t,n){var o=e.getAttributeNode(n);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(n)),o.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},St.id=St.name=St.coords=function(e,t,n){var o;return n?void 0:(o=e.getAttributeNode(t))&&""!==o.value?o.value:null},D.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:kt.set},D.attrHooks.contenteditable={set:function(e,t,n){kt.set(e,""!==t&&t,n)}},D.each(["width","height"],function(e,n){D.attrHooks[n]={set:function(e,t){return""===t?(e.setAttribute(n,"auto"),t):void 0}}})),g.style||(D.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pt=/^(?:input|select|textarea|button|object)$/i,$t=/^(?:a|area)$/i;D.fn.extend({prop:function(e,t){return Q(this,D.prop,e,t,1<arguments.length)},removeProp:function(e){return e=D.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),D.extend({prop:function(e,t,n){var o,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&D.isXMLDoc(e)||(t=D.propFix[t]||t,i=D.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=D.find.attr(e,"tabindex");return t?parseInt(t,10):Pt.test(e.nodeName)||$t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.hrefNormalized||D.each(["href","src"],function(e,t){D.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),g.optSelected||(D.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this}),g.enctype||(D.propFix.enctype="encoding");var Lt=/[\t\r\n\f]/g;function Et(e){return D.attr(e,"class")||""}D.fn.extend({addClass:function(t){var e,n,o,i,a,r,s,l=0;if(D.isFunction(t))return this.each(function(e){D(this).addClass(t.call(this,e,Et(this)))});if("string"==typeof t&&t)for(e=t.match(N)||[];n=this[l++];)if(i=Et(n),o=1===n.nodeType&&(" "+i+" ").replace(Lt," ")){for(r=0;a=e[r++];)o.indexOf(" "+a+" ")<0&&(o+=a+" ");i!==(s=D.trim(o))&&D.attr(n,"class",s)}return this},removeClass:function(t){var e,n,o,i,a,r,s,l=0;if(D.isFunction(t))return this.each(function(e){D(this).removeClass(t.call(this,e,Et(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(N)||[];n=this[l++];)if(i=Et(n),o=1===n.nodeType&&(" "+i+" ").replace(Lt," ")){for(r=0;a=e[r++];)for(;-1<o.indexOf(" "+a+" ");)o=o.replace(" "+a+" "," ");i!==(s=D.trim(o))&&D.attr(n,"class",s)}return this},toggleClass:function(i,t){var a=typeof i;return"boolean"==typeof t&&"string"==a?t?this.addClass(i):this.removeClass(i):D.isFunction(i)?this.each(function(e){D(this).toggleClass(i.call(this,e,Et(this),t),t)}):this.each(function(){var e,t,n,o;if("string"==a)for(t=0,n=D(this),o=i.match(N)||[];e=o[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=a||((e=Et(this))&&D._data(this,"__className__",e),D.attr(this,"class",e||!1===i?"":D._data(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&-1<(" "+Et(n)+" ").replace(Lt," ").indexOf(t))return!0;return!1}}),D.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){D.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),D.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Nt=k.location,At=D.now(),jt=/\?/,It=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;D.parseJSON=function(e){if(k.JSON&&k.JSON.parse)return k.JSON.parse(e+"");var i,a=null,t=D.trim(e+"");return t&&!D.trim(t.replace(It,function(e,t,n,o){return i&&t&&(a=0),0===a?e:(i=n||t,a+=!o-!n,"")}))?Function("return "+t)():D.error("Invalid JSON: "+e)},D.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{k.DOMParser?t=(new k.DOMParser).parseFromString(e,"text/xml"):((t=new k.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||D.error("Invalid XML: "+e),t};var Rt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:GET|HEAD)$/,Bt=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qt={},Wt={},Ut="*/".concat("*"),Yt=Nt.href,Vt=zt.exec(Yt.toLowerCase())||[];function Xt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,o=0,i=e.toLowerCase().match(N)||[];if(D.isFunction(t))for(;n=i[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function Gt(t,i,a,r){var s={},l=t===Wt;function d(e){var o;return s[e]=!0,D.each(t[e]||[],function(e,t){var n=t(i,a,r);return"string"!=typeof n||l||s[n]?l?!(o=n):void 0:(i.dataTypes.unshift(n),d(n),!1)}),o}return d(i.dataTypes[0])||!s["*"]&&d("*")}function Jt(e,t){var n,o,i=D.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((i[o]?e:n=n||{})[o]=t[o]);return n&&D.extend(!0,e,n),e}D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":D.parseJSON,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,D.ajaxSettings),t):Jt(D.ajaxSettings,e)},ajaxPrefilter:Xt(qt),ajaxTransport:Xt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,c,u,f,p,h,i,m=D.ajaxSetup({},t),v=m.context||m,g=m.context&&(v.nodeType||v.jquery)?D(v):D.event,y=D.Deferred(),b=D.Callbacks("once memory"),C=m.statusCode||{},a={},r={},w=0,s="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!i)for(i={};t=Ot.exec(u);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?u:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=r[n]=r[n]||e,a[e]=t),this},overrideMimeType:function(e){return w||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)C[t]=[C[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||s;return h&&h.abort(t),l(0,t),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||Yt)+"").replace(Rt,"").replace(Bt,Vt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=D.trim(m.dataType||"*").toLowerCase().match(N)||[""],null==m.crossDomain&&(n=zt.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Vt[1]&&n[2]===Vt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Vt[3]||("http:"===Vt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=D.param(m.data,m.traditional)),Gt(qt,m,t,x),2===w)return x;for(o in(p=D.event&&m.global)&&0==D.active++&&D.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ft.test(m.type),c=m.url,m.hasContent||(m.data&&(c=m.url+=(jt.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Ht.test(c)?c.replace(Ht,"$1_="+At++):c+(jt.test(c)?"&":"?")+"_="+At++)),m.ifModified&&(D.lastModified[c]&&x.setRequestHeader("If-Modified-Since",D.lastModified[c]),D.etag[c]&&x.setRequestHeader("If-None-Match",D.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ut+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(v,x,m)||2===w))return x.abort();for(o in s="abort",{success:1,error:1,complete:1})x[o](m[o]);if(h=Gt(Wt,m,t,x)){if(x.readyState=1,p&&g.trigger("ajaxSend",[x,m]),2===w)return x;m.async&&0<m.timeout&&(f=k.setTimeout(function(){x.abort("timeout")},m.timeout));try{w=1,h.send(a,l)}catch(e){if(!(w<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,o){var i,a,r,s,l,d=t;2!==w&&(w=2,f&&k.clearTimeout(f),h=void 0,u=o||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var o,i,a,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o=o||r}a=a||o}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}(m,x,n)),s=function(e,t,n,o){var i,a,r,s,l,d={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=d[l+" "+a]||d["* "+a]))for(i in d)if((s=i.split(" "))[1]===a&&(r=d[l+" "+s[0]]||d["* "+s[0]])){!0===r?r=d[i]:!0!==d[i]&&(a=s[0],c.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(m,s,x,i),i?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(D.lastModified[c]=l),(l=x.getResponseHeader("etag"))&&(D.etag[c]=l)),204===e||"HEAD"===m.type?d="nocontent":304===e?d="notmodified":(d=s.state,a=s.data,i=!(r=s.error))):(r=d,!e&&d||(d="error",e<0&&(e=0))),x.status=e,x.statusText=(t||d)+"",i?y.resolveWith(v,[a,d,x]):y.rejectWith(v,[x,d,r]),x.statusCode(C),C=void 0,p&&g.trigger(i?"ajaxSuccess":"ajaxError",[x,m,i?a:r]),b.fireWith(v,[x,d]),p&&(g.trigger("ajaxComplete",[x,m]),--D.active||D.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return D.get(e,t,n,"json")},getScript:function(e,t){return D.get(e,void 0,t,"script")}}),D.each(["get","post"],function(e,i){D[i]=function(e,t,n,o){return D.isFunction(t)&&(o=o||n,n=t,t=void 0),D.ajax(D.extend({url:e,type:i,dataType:o,data:t,success:n},D.isPlainObject(e)&&e))}}),D._evalUrl=function(e){return D.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},D.fn.extend({wrapAll:function(t){if(D.isFunction(t))return this.each(function(e){D(this).wrapAll(t.call(this,e))});if(this[0]){var e=D(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return D.isFunction(n)?this.each(function(e){D(this).wrapInner(n.call(this,e))}):this.each(function(){var e=D(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=D.isFunction(t);return this.each(function(e){D(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){D.nodeName(this,"body")||D(this).replaceWith(this.childNodes)}).end()}}),D.expr.filters.hidden=function(e){return g.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!D.contains(e.ownerDocument||h,e))return!0;for(;e&&1===e.nodeType;){if("none"===((t=e).style&&t.style.display||D.css(t,"display"))||"hidden"===e.type)return!0;e=e.parentNode}var t;return!1}(e)},D.expr.filters.visible=function(e){return!D.expr.filters.hidden(e)};var Kt=/%20/g,Qt=/\[\]$/,Zt=/\r?\n/g,en=/^(?:submit|button|image|reset|file)$/i,tn=/^(?:input|select|textarea|keygen)/i;function nn(n,e,o,i){var t;if(D.isArray(e))D.each(e,function(e,t){o||Qt.test(n)?i(n,t):nn(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,i)});else if(o||"object"!==D.type(e))i(n,e);else for(t in e)nn(n+"["+t+"]",e[t],o,i)}D.param=function(e,t){function n(e,t){t=D.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var o,i=[];if(void 0===t&&(t=D.ajaxSettings&&D.ajaxSettings.traditional),D.isArray(e)||e.jquery&&!D.isPlainObject(e))D.each(e,function(){n(this.name,this.value)});else for(o in e)nn(o,e[o],t,n);return i.join("&").replace(Kt,"+")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=D.prop(this,"elements");return e?D.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!D(this).is(":disabled")&&tn.test(this.nodeName)&&!en.test(e)&&(this.checked||!Z.test(e))}).map(function(e,t){var n=D(this).val();return null==n?null:D.isArray(n)?D.map(n,function(e){return{name:t.name,value:e.replace(Zt,"\r\n")}}):{name:t.name,value:n.replace(Zt,"\r\n")}}).get()}}),D.ajaxSettings.xhr=void 0!==k.ActiveXObject?function(){return this.isLocal?ln():8<h.documentMode?sn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&sn()||ln()}:sn;var on=0,an={},rn=D.ajaxSettings.xhr();function sn(){try{return new k.XMLHttpRequest}catch(e){}}function ln(){try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}k.attachEvent&&k.attachEvent("onunload",function(){for(var e in an)an[e](void 0,!0)}),g.cors=!!rn&&"withCredentials"in rn,(rn=g.ajax=!!rn)&&D.ajaxTransport(function(l){var d;if(!l.crossDomain||g.cors)return{send:function(e,a){var t,r=l.xhr(),s=++on;if(r.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)r[t]=l.xhrFields[t];for(t in l.mimeType&&r.overrideMimeType&&r.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&r.setRequestHeader(t,e[t]+"");r.send(l.hasContent&&l.data||null),d=function(e,t){var n,o,i;if(d&&(t||4===r.readyState))if(delete an[s],d=void 0,r.onreadystatechange=D.noop,t)4!==r.readyState&&r.abort();else{i={},n=r.status,"string"==typeof r.responseText&&(i.text=r.responseText);try{o=r.statusText}catch(e){o=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&a(n,o,i,r.getAllResponseHeaders())},l.async?4===r.readyState?k.setTimeout(d):r.onreadystatechange=an[s]=d:d()},abort:function(){d&&d(void 0,!0)}}}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return D.globalEval(e),e}}}),D.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),D.ajaxTransport("script",function(t){if(t.crossDomain){var o,i=h.head||D("head")[0]||h.documentElement;return{send:function(e,n){(o=h.createElement("script")).async=!0,t.scriptCharset&&(o.charset=t.scriptCharset),o.src=t.url,o.onload=o.onreadystatechange=function(e,t){!t&&o.readyState&&!/loaded|complete/.test(o.readyState)||(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),o=null,t||n(200,"success"))},i.insertBefore(o,i.firstChild)},abort:function(){o&&o.onload(void 0,!0)}}}});var dn=[],cn=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=dn.pop()||D.expando+"_"+At++;return this[e]=!0,e}}),D.ajaxPrefilter("json jsonp",function(e,t,n){var o,i,a,r=!1!==e.jsonp&&(cn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&cn.test(e.data)&&"data");return r||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=D.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(cn,"$1"+o):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||D.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=k[o],k[o]=function(){a=arguments},n.always(function(){void 0===i?D(k).removeProp(o):k[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,dn.push(o)),a&&D.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),D.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||h;var o=w.exec(e),i=!n&&[];return o?[t.createElement(o[1])]:(o=ue([e],t,i),i&&i.length&&D(i).remove(),D.merge([],o.childNodes))};var un=D.fn.load;function fn(e){return D.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}D.fn.load=function(e,t,n){if("string"!=typeof e&&un)return un.apply(this,arguments);var o,i,a,r=this,s=e.indexOf(" ");return-1<s&&(o=D.trim(e.slice(s,e.length)),e=e.slice(0,s)),D.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<r.length&&D.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){a=arguments,r.html(o?D("<div>").append(D.parseHTML(e)).find(o):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){D.fn[t]=function(e){return this.on(t,e)}}),D.expr.filters.animated=function(t){return D.grep(D.timers,function(e){return t===e.elem}).length},D.offset={setOffset:function(e,t,n){var o,i,a,r,s,l,d=D.css(e,"position"),c=D(e),u={};"static"===d&&(e.style.position="relative"),s=c.offset(),a=D.css(e,"top"),l=D.css(e,"left"),i=("absolute"===d||"fixed"===d)&&-1<D.inArray("auto",[a,l])?(r=(o=c.position()).top,o.left):(r=parseFloat(a)||0,parseFloat(l)||0),D.isFunction(t)&&(t=t.call(e,n,D.extend({},s))),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+i),"using"in t?t.using.call(e,u):c.css(u)}},D.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){D.offset.setOffset(this,t,e)});var e,n,o={top:0,left:0},i=this[0],a=i&&i.ownerDocument;return a?(e=a.documentElement,D.contains(e,i)?(void 0!==i.getBoundingClientRect&&(o=i.getBoundingClientRect()),n=fn(a),{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):o):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},o=this[0];return"fixed"===D.css(o,"position")?t=o.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),D.nodeName(e[0],"html")||(n=e.offset()),n.top+=D.css(e[0],"borderTopWidth",!0),n.left+=D.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-D.css(o,"marginTop",!0),left:t.left-n.left-D.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!D.nodeName(e,"html")&&"static"===D.css(e,"position");)e=e.offsetParent;return e||qe})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var a=/Y/.test(i);D.fn[t]=function(e){return Q(this,function(e,t,n){var o=fn(e);return void 0===n?o?i in o?o[i]:o.document.documentElement[t]:e[t]:void(o?o.scrollTo(a?D(o).scrollLeft():n,a?n:D(o).scrollTop()):e[t]=n)},t,e,arguments.length,null)}}),D.each(["top","left"],function(e,n){D.cssHooks[n]=Ve(g.pixelPosition,function(e,t){return t?(t=Ue(e,n),ze.test(t)?D(e).position()[n]+"px":t):void 0})}),D.each({Height:"height",Width:"width"},function(a,r){D.each({padding:"inner"+a,content:r,"":"outer"+a},function(o,e){D.fn[e]=function(e,t){var n=arguments.length&&(o||"boolean"!=typeof e),i=o||(!0===e||!0===t?"margin":"border");return Q(this,function(e,t,n){var o;return D.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+a],o["scroll"+a],e.body["offset"+a],o["offset"+a],o["client"+a])):void 0===n?D.css(e,t,i):D.style(e,t,n,i)},r,n?e:void 0,n,null)}})}),D.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),D.fn.size=function(){return this.length},D.fn.andSelf=D.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return D});var pn=k.jQuery,hn=k.$;return D.noConflict=function(e){return k.$===D&&(k.$=hn),e&&k.jQuery===D&&(k.jQuery=pn),D},e||(k.jQuery=k.$=D),D}),function(dt,ct,r){var T;function ut(e,t){return function(){try{return e.apply(this,arguments)}catch(e){s(e,t)}}}function s(t,n){if(Math.random()<.01)try{(new m).log("jserrs",S,t.message,n,V.href,ht,"string"==typeof t.stack&&t.stack.replace(/\n/g,"\\n"))}catch(e){var o=["cp: "+n,t.name+": "+t.message,"debug: "+ht,"code: "+S,"stack: "+t.stack];(new Image).src="//an.yandex.ru/jserr/101500?cnt-class=100&errmsg="+encodeURIComponent(o.join("; ").replace(/\r?\n/g,"\\n"))}}function ft(){for(var t={},e="hash host hostname href pathname port protocol search".split(" "),n=e.length,o=n;o--;)t[e[o]]="";try{var i=dt.location;for(o=n;o--;){var a=e[o];t[a]=""+i[a]}}catch(e){V&&(t=V)}return t}function pt(e){return e?(""+e).replace(/^\s+/,"").replace(/\s+$/,""):""}function M(e){return-1!==(""+dt.navigator.userAgent).toLowerCase().search(e)}function _(e,t){if(!e||!t)return!1;for(var n=[],o=0;o<t.length;o++)n.push(t[o].replace(/\^/g,"\\^").replace(/\$/g,"\\$").replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\|/g,"\\|").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\?/g,"\\?").replace(/\*/g,"\\*").replace(/\+/g,"\\+").replace(/\{/g,"\\{").replace(/\}/g,"\\}"));return RegExp("\\.("+n.join("|")+")$","i").test(e)}function P(){var e=dt.performance||dt.webkitPerformance,t=[];if(e=e&&e.timing){var n=e.navigationStart;if(n)for((t=[e.domainLookupEnd-e.domainLookupStart,e.connectEnd-e.connectStart,e.responseStart-e.requestStart,e.responseEnd-e.responseStart,e.fetchStart-n,e.redirectEnd-e.redirectStart,e.redirectCount]).push(e.domInteractive&&e.domLoading?e.domInteractive-e.domLoading:null),t.push(e.domContentLoadedEventStart&&e.domContentLoadedEventEnd?e.domContentLoadedEventEnd-e.domContentLoadedEventStart:null),t.push(e.domComplete?e.domComplete-n:null),t.push(e.loadEventStart?e.loadEventStart-n:null),t.push(e.loadEventStart&&e.loadEventEnd?e.loadEventEnd-e.loadEventStart:null),t.push(e.domContentLoadedEventStart?e.domContentLoadedEventStart-n:null),e=0;e<t.length;e++)null!==(n=t[e])&&(n<0||36e5<n)&&(t[e]=null)}return t}function $(e){var t=ct.referrer||"";if(RegExp("^https?://"+V.host+"/").test(t))return!1;for(var n=e.patterns,o=0;o<n.length;o++)if(t.match(RegExp(n[o],"i"))){var i=e.params||[];if(!i.length)return!0;for(var a=A((RegExp.$1||"").replace(/\+/g,"%20")),r=0;r<i.length;r++)if(a==A(i[r]))return!0}return!1}function L(e,t){var n=!1;if(e&&"string"!=typeof e&&e.length)for(var o=0;o<e.length;o++){var i=e[o].selector,a=e[o].text,r=i.charAt(0);i=i.slice(1);if("#"==r)(r=ct.getElementById(i))&&(n=!0,t&&C.unshift([r,r.innerHTML]),r.innerHTML=a);else if("."==r)for(r=vt.getElementsByClassName(i),i=0;i<r.length;i++){n=!0;var s=r[i],l=a;t&&C.unshift([s,s.innerHTML]),s.innerHTML=l}}return n}function E(){for(var e=0;e<C.length;e++)C[e][0].innerHTML=C[e][1]}function N(e,t){var n,o,i,a="";if(e=e&&e.replace(/^\?/,""),t=t&&t.replace(/^#/,"")||"",e)for(o=e.split("&"),n=0;n<o.length;n++)"_openstat"===(i=o[n].split("="))[0]&&(a=i[1]);var r=t.split("?");for(n=0;n<r.length;n++){var s=r[n].split("&");for(o=0;o<s.length;o++)"_openstat"===(i=s[o].split("="))[0]&&(a=i[1])}return(a=a&&(-1<a.indexOf(";")?A(a):function(e){for(;e.length%4;)e+="=";var t,n,o,i,a,r=0,s="";do{if(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),t<0||n<0||i<0||a<0)return null;t=(o=t<<18|n<<12|i<<6|a)>>16&255,n=o>>8&255,o&=255,s=64==i?s+String.fromCharCode(t):64==a?s+String.fromCharCode(t,n):s+String.fromCharCode(t,n,o)}while(r<e.length);for(e=s,i="",t=s=r=a=0;a<e.length;)(r=e.charCodeAt(a))<128?(i+=String.fromCharCode(r),a++):191<r&&r<224?(s=e.charCodeAt(a+1),i+=String.fromCharCode((31&r)<<6|63&s),a+=2):(s=e.charCodeAt(a+1),t=e.charCodeAt(a+2),i+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&t),a+=3);return i}(a.replace(/[-*_]/g,function(e){return{"*":"+","-":"/",_:"="}[e]||e}))))&&4==(n=a.split(";")).length?{service:n[0],campaign:n[1],ad:n[2],source:n[3]}:null}function A(e){try{return decodeURIComponent(e)}catch(e){return""}}function e(t){try{delete dt[t]}catch(e){dt[t]=r}}function n(e){var t=ct.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;try{var n=ct.getElementsByTagName("html")[0];ct.getElementsByTagName("head")[0]||n.appendChild(ct.createElement("head"));var o=ct.getElementsByTagName("head")[0];o.insertBefore(t,o.firstChild)}catch(e){}}function j(r,s,l,e,d,c){function u(){var e=(new Date).getTime()+Ue;return e<Ye&&(e=Ye+te/2),Ye=e}function h(){return Math.round((u()-at)/ne)}function m(e,t){t=Math.max(0,Math.min(t,65535)),gt.mergeArrays(e,[t>>8,255&t])}function v(e,t){gt.mergeArrays(e,[255&t])}function g(e,t){for(t=Math.max(0,0|t);127<t;)gt.mergeArrays(e,[127&t|128]),t>>=7;gt.mergeArrays(e,[t])}function y(e,t){255<t.length&&(t=t.substr(0,255)),gt.mergeArrays(e,[t.length]);for(var n=0;n<t.length;n++)m(e,t.charCodeAt(n))}function b(e,t){g(e,t.length);for(var n=0;n<t.length;n++)g(e,t.charCodeAt(n))}function a(e,t,n,o,i,a){for(;n&&(!n.offsetWidth||!n.offsetHeight);)n=vt.getElementParent(n);if(!n)return null;var r=n[rt];if(!r||r<0)return null;var s={mousemove:ae,click:Te,dblclick:Me,mousedown:le,mouseup:De,touch:he}[t];if(!s)return null;var l=vt.getElementXY(n);return v(n=[],s),g(n,e),g(n,r),g(n,Math.max(0,o[0]-l[0])),g(n,Math.max(0,o[1]-l[1])),/^mouse(up|down)|click$/.test(t)&&v(n,(e=i||a)<2?_e:e==(i?2:4)?$e:Pe),n}function o(e,t,n,o){if(!(t=t[rt])||t<0)return null;var i=[];return v(i,Se),g(i,e),g(i,t),g(i,n[0]),g(i,n[1]),v(i,0),v(i,0),v(i,o),i}function n(e,t){var n=[];return v(n,re),g(n,e),g(n,t[0]),g(n,t[1]),n}function i(e,t,n){var o=[];return!(n=n[rt])||n<0?null:(v(o,se),g(o,e),g(o,t[0]),g(o,t[1]),g(o,n),o)}function t(e,t,n){var o=[];return v(o,xe),g(o,e),g(o,t[0]),g(o,t[1]),g(o,n[0]),g(o,n[1]),o}function f(e,t,n,o){var i=[];return v(i,de),g(i,e),m(i,t),v(i,n),(!(e=o[rt])||e<0)&&(e=0),g(i,e),i}function p(e,t){var n,o;o=0==t.length?n="":t.length<=100?(n=t,""):t.length<=200?(n=t.substr(0,100),t.substr(100)):(n=t.substr(0,97),t.substr(t.length-97));var i=[];return v(i,ke),g(i,e),b(i,n),b(i,o),i}function C(e){var t=[];return v(t,we),g(t,e),t}function w(e){var t=[];return v(t,ve),g(t,e),t}function x(e){var t=[];return v(t,ge),g(t,e),t}function k(e,t){var n=[];return v(n,ye),g(n,e),g(n,t[rt]),n}function D(e,t){var n=[];return v(n,be),g(n,e),g(n,t[rt]),n}function S(e,t,n){var o=[];return v(o,Ce),g(o,e),g(o,t[rt]),y(o,String(n)),o}function T(e,t){var n=vt.getFormNumber(t);if(n<0)return null;for(var o=t.elements,i=o.length,a=[],r=0;r<i;r++)if(!vt.isEmptyField(o[r])){var s=o[r][rt];s&&0<s&&gt.mergeArrays(a,[s])}for(v(o=[],pe),g(o,e),g(o,n),g(o,a.length),n=0;n<a.length;n++)g(o,a[n]);return o}function M(){var e=[];return v(e,me),e}function _(e,t,n){e=e.apply(dt,t),ee.append(e,n)}function P(e){if(e[rt])e:{var t=h(),n=e[rt];if(0<n){var o=[];e=vt.getElementRegion(e);var i=st[n],a=e[0]+"x"+e[1],r=e[2]+"x"+e[3];if(a!=i.pos&&(i.pos=a,v(o,ue),g(o,t),g(o,n),g(o,e[0]),g(o,e[1])),r!=i.size&&(i.size=r,v(o,fe),g(o,t),g(o,n),g(o,e[2]),g(o,e[3])),o.length){e=o;break e}}e=null}else{if((n=vt.getElementParent(e))&&P(n),e[rt]=Ve,st[Ve]={},Ve++,e.nodeName)if(n=+e[rt],!isFinite(n)||n<=0)t=null;else{o=Re,i=0;var s=vt.getElementParent(e);(a=s&&s[rt]?s[rt]:0)<0&&(a=0);r=e.nodeName.toUpperCase();var l=We[r];l||(o|=Ee);var d=vt.getElementNeighborPosition(e);d||(o|=Ne);var c=vt.getElementRegion(e);(s=s?vt.getElementRegion(s):null)&&c[0]==s[0]&&c[1]==s[1]&&c[2]==s[2]&&c[3]==s[3]&&(o|=Ae),st[n].pos=c[0]+"x"+c[1],st[n].size=c[2]+"x"+c[3],e.id&&"string"==typeof e.id&&(o|=Ie),(s=vt.calcTextChecksum(e))&&(o|=je);var u,f=vt.calcAttribChecksum(e);f&&(i|=He);e:{u=vt.getElementChildren(vt.getElementParent(e),e.tagName);for(var p=0;p<u.length;p++)if((!u[p].id||"string"!=typeof u[p].id)&&vt.calcAttribChecksum(u[p])==f&&vt.calcTextChecksum(u[p])==s){u=!0;break e}u=!1}u&&(o|=Le,t=vt.calcChildrenChecksum(e)),v(u=[],ie),g(u,n),v(u,o),g(u,a),l?v(u,l):y(u,r),d&&g(u,d),o&Ae||(g(u,c[0]),g(u,c[1]),g(u,c[2]),g(u,c[3])),o&Ie&&y(u,e.id),s&&m(u,s),o&Le&&m(u,t),v(u,i),f&&m(u,f),t=u}else e[rt]=-1,t=null;ee.append(t,void 0),e=function(e){var t=e[rt];if(!t||t<0||!/^INPUT|SELECT|TEXTAREA$/.test(e.nodeName)||!e.form||vt.classNameExists(e.form,"-metrika-noform"))return null;var n,o=vt.getFormNumber(e.form);if(o<0)return null;if("number"!=typeof(n="INPUT"==e.nodeName?{text:0,color:0,date:0,datetime:0,"datetime-local":0,email:0,number:0,range:0,search:0,tel:0,time:0,url:0,month:0,week:0,password:2,radio:3,checkbox:4,file:6,image:7}[e.type]:{SELECT:1,TEXTAREA:5}[e.nodeName]))return null;for(var i=-1,a=e.form.elements,r=a.length,s=0,l=0;s<r;s++)if(a[s].name==e.name){if(a[s]==e){i=l;break}l++}return i<0?null:(v(a=[],ce),g(a,t),g(a,o),g(a,n),b(a,e.name||""),g(a,i),a)}(e)}ee.append(e,void 0)}function $(e){var t=yt.getTarget(e);if(t&&"SCROLLBAR"!=t.nodeName){if(t&&/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(t.tagName))if(t[rt])P(t);else{if(n=t.form)for(var n,o=(n=n.elements).length,i=0;i<o;i++)/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(n[i].tagName)&&!n[i][rt]&&P(n[i]);else P(t)}else P(t);_(a,[h(),e.type,t,yt.getPos(e),e.which,e.button])}}function L(e){$(e);e:{var t,n;if(dt.getSelection?(t=(e=dt.getSelection()).toString(),n=e.anchorNode):ct.selection&&ct.selection.createRange&&(t=(e=ct.selection.createRange()).text,n=e.parentElement()),"string"==typeof t){try{for(;n&&1!=n.nodeType;)n=n.parentNode}catch(e){break e}n&&H(n)||n&&(/(?:^|\s)-metrika-nokeys(?:\s|$)/.test(n.className)||vt.getElementsByClassName("-metrika-nokeys",n).length)||t==nt||(nt=t,_(p,[h(),t]))}}}function E(e){var t=u(),n=t-Xe;if(!(n<oe)){var o=yt.getPos(e),i=Ge[0]-o[0],a=Ge[1]-o[1];(i=i*i+a*a)<=0||i<16&&n<100||n<20&&i<256||(Xe=t,Ge=o,$(e))}}function N(){var e=vt.getDocumentScroll(),t=u();t-Je<oe||Math.abs(e[0]-Ke[0])<10&&Math.abs(e[1]-Ke[1])<10||(Je=t,Ke=e,_(n,[h(),e]))}function A(e){e=yt.getTarget(e);var t=Math.random(),n=[e.scrollLeft,e.scrollTop];if(e.localId){if(!(t=Qe[e.localId])||Math.abs(n[0]-t[0])<10&&Math.abs(n[1]-t[1])<10)return}else{for(;Qe[t];)t=Math.random();e.localId=t}Qe[e.localId]=n,e!==ct&&(P(e),_(i,[h(),n,e]))}function j(){_(t,[h(),vt.getViewportSize(),vt.getDocumentSize()])}function I(){_(M,[],!0)}function R(e){return(e.shiftKey?Fe:0)|(e.ctrlKey?Be:0)|(e.altKey?Oe:0)|(e.metaKey?ze:0)|(e.ctrlKey||e.altKey?qe:0)}function H(e){return"INPUT"==e.tagName&&("password"==e.type||e.name&&Ze.test(e.name)||e.id&&Ze.test(e.id))}function O(e,t,n){H(e=yt.getTarget(e))||/(?:^|\s)-metrika-nokeys(?:\s|$)/.test(e.className)||(P(e),_(f,[h(),t,n,e]))}function F(e){var t=e.keyCode,n=R(e);({3:1,8:1,9:1,13:1,16:1,17:1,18:1,19:1,20:1,27:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,45:1,46:1,91:1,92:1,93:1,106:1,110:1,111:1,144:1,145:1}[t]||112<=t&&t<=123||96<=t&&t<=105||n&qe)&&(19==t&&(n&~qe)==Be&&(t=144),O(e,t,n|qe),et=!1,gt.setTimeout(function(){et=!0},1),67==t&&n&Be&&!(n&Oe||n&Fe)&&z())}function B(e){et&&!tt&&0!==e.which&&(O(e,e.charCode||e.keyCode,R(e)),tt=!0,gt.setTimeout(function(){tt=!1},1))}function z(){ot||(ot=!0,nt&&_(C,[h()]),gt.setTimeout(function(){ot=!1},1))}function q(){it||(it=!0,_(w,[h()]))}function W(){it&&(it=!1,_(x,[h()]))}function U(e){it&&(!e||e.fromElement)||q()}function Y(e){e&&!e.toElement&&W()}function V(e){if((e=yt.getTarget(e))&&/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(e.tagName)){if(e[rt])P(e);else if(t=e.form)for(var t,n=(t=t.elements).length,o=0;o<n;o++)/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(t[o].tagName)&&!t[o][rt]&&P(t[o]);else P(e);_(k,[h(),e])}}function X(e){(e=yt.getTarget(e))&&/^INPUT|SELECT|TEXTAREA|BUTTON$/.test(e.tagName)&&(P(e),_(D,[h(),e]))}function G(e){if(!(H(e=yt.getTarget(e))||e&&/(?:^|\s)-metrika-nokeys(?:\s|$)/.test(e.className))&&e&&/^INPUT|SELECT|TEXTAREA$/.test(e.tagName)){var t=/^(checkbox|radio)$/.test(e.type)?e.checked:e.value;P(e),_(S,[h(),e,t])}}function J(e){if(e=yt.getTarget(e),!vt.classNameExists(e,"-metrika-noform")&&"FORM"==e.nodeName){for(var t=e.elements,n=0;n<t.length;n++)vt.isEmptyField(t[n])||P(t[n]);_(T,[h(),e],!0)}}function K(e){if(N(),e.touches&&e.touches.length){var t=yt.getTarget(e);if(ht=typeof t+" - "+String(t),t&&t!=ct){P(t);for(var n=0;n<e.touches.length;n++)_(a,[h(),"touch",t,[e.touches[n].pageX,e.touches[n].pageY],0,0])}}}function Q(e){var t,n=yt.getTarget(e);n&&("wheel"==e.type?t=0<e.deltaY?1:e.deltaY<0?2:0:"mousewheel"==e.type&&(t=0<e.wheelDelta?2:e.wheelDelta<0?1:0),t&&(P(n),_(o,[h(),n,yt.getPos(e),t])))}function Z(e){(e=yt.getTarget(e))&&"BODY"==e.tagName&&ee.append([],!0)}var ee=new wt({protocol:r,counterId:s,counterType:l,meta:{url:ft().href,hitId:d,timezone:xt,timestamp:kt}}),te=20,ne=50,oe=10,ie=1,ae=2,re=3,se=16,le=4,de=5,ce=7,ue=9,fe=10,pe=11,he=12,me=13,ve=14,ge=15,ye=17,be=18,Ce=19,we=27,xe=28,ke=29,De=30,Se=31,Te=32,Me=33,_e=1,Pe=2,$e=4,Le=1,Ee=2,Ne=4,Ae=8,je=16,Ie=32,Re=64,He=2,Oe=1,Fe=2,Be=4,ze=8,qe=16,We={A:1,ABBR:2,ACRONYM:3,ADDRESS:4,APPLET:5,AREA:6,B:7,BASE:8,BASEFONT:9,BDO:10,BIG:11,BLOCKQUOTE:12,BODY:13,BR:14,BUTTON:15,CAPTION:16,CENTER:17,CITE:18,CODE:19,COL:20,COLGROUP:21,DD:22,DEL:23,DFN:24,DIR:25,DIV:26,DL:27,DT:28,EM:29,FIELDSET:30,FONT:31,FORM:32,FRAME:33,FRAMESET:34,H1:35,H2:36,H3:37,H4:38,H5:39,H6:40,HEAD:41,HR:42,HTML:43,I:44,IFRAME:45,IMG:46,INPUT:47,INS:48,ISINDEX:49,KBD:50,LABEL:51,LEGEND:52,LI:53,LINK:54,MAP:55,MENU:56,META:57,NOFRAMES:58,NOSCRIPT:59,OBJECT:60,OL:61,OPTGROUP:62,OPTION:63,P:64,PARAM:65,PRE:66,Q:67,S:68,SAMP:69,SCRIPT:70,SELECT:71,SMALL:72,SPAN:73,STRIKE:74,STRONG:75,STYLE:76,SUB:77,SUP:78,TABLE:79,TBODY:80,TD:81,TEXTAREA:82,TFOOT:83,TH:84,THEAD:85,TITLE:86,TR:87,TT:88,U:89,UL:90,VAR:91,NOINDEX:100},Ue=0;!function e(t){var n=(new Date).getTime();t&&n<t&&(Ue+=t-n+te),gt.setTimeout(function(){e(n)},te,"timeCorrector")}(0);var Ye=0,Ve=1,Xe=0,Ge=[0,0],Je=0,Ke=[0,0],Qe={},Ze=/^(password|passwd|pswd)$/,et=!0,tt=!1,nt="",ot=!1,it=!0,at=u(),rt="metrikaId_"+Math.random(),st={},lt=":submit"+Math.random();return"MetrikaPlayer"!=dt.name&&(bt.on(ct,"mousemove",E),bt.on(ct,"click,dblclick,mousedown",$),bt.on(ct,"mouseup",L),bt.on(dt,"scroll",N),"onmousewheel"in ct?bt.on(ct,"mousewheel",Q):bt.on(ct,"wheel",Q),bt.on(dt,"beforeunload",I),mt||bt.on(dt,"unload",I),bt.on(dt,"resize",j),bt.on(ct,"keydown",F),bt.on(ct,"keypress",B),bt.on(ct,"copy",z),bt.on(ct,"touchmove,touchstart",K),ct.body&&bt.on(ct,"mouseleave",Z),ct.attachEvent&&!dt.opera?(bt.on(ct,"focusin",U),bt.on(ct,"focusout",Y)):(bt.on(dt,"focus",q),bt.on(dt,"blur",W),bt.on(ct,"blur",W)),ct.addEventListener?(bt.on(ct,"scroll",A),bt.on(ct,"focus",V),bt.on(ct,"blur",X),bt.on(ct,"change",G),bt.on(ct,"submit",J)):ct.attachEvent&&(bt.on(ct,"focusin",V),bt.on(ct,"focusout",X),function(){for(var e=ct.getElementsByTagName("form"),t=0;t<e.length;t++){for(var n=e[t].getElementsByTagName("*"),o=0;o<n.length;o++)/^INPUT|SELECT|TEXTAREA$/.test(n[o].tagName)&&bt.on(n[o],"change",G);bt.on(e[t],"submit",J)}}()),function(){var e=ct.getElementsByTagName("form");if(e.length)for(var t=0;t<e.length;t++){var n=e[t].submit;("function"==typeof n||"object"==typeof n&&/^\s*function submit\(\)/.test(String(n)))&&(e[t][lt]=n,e[t].submit=function(){return J({target:this}),this[lt]()})}}(),"0:0"!=vt.getDocumentScroll().join(":")&&N(),j(),c.uploadPage=ut(function(e){if("function"==typeof dt.toStaticHTML&&-1<dt.toStaticHTML.toString().indexOf("NoScript"))return!1;var t=ct.documentElement;if(t&&19e4<(""+t.innerHTML).length)return!1;var n=dt.XMLHttpRequest?new dt.XMLHttpRequest:new ActiveXObject("Msxml2.XMLHTTP"),o=vt.getDocumentCharset(),i="text/html"+(o?";charset="+o:""),a=new Ct({protocol:r,counterId:s,counterType:l});return"html"==e?(e=RegExp("<script [^>]*?//mc\\.yandex\\.ru/watch/.*?<\/script>","gi"),a.sendContent(vt.getDocumentHTML().replace(e,""),i,d,xt,kt)):n&&(n.open("get",ft().href,!0),n.onreadystatechange=ut(function(){if(4==n.readyState){var e=n.getResponseHeader("content-type");o&&-1===e.indexOf("charset=")&&(e=i),a.sendContent(n.responseText,e,d,xt,kt)}},"updatePage.1"),n.overrideMimeType&&o&&n.overrideMimeType(i),n.send(null)),!0},"uploadPage")),{start:function(){ee.activate()},stop:function(){ee.clear(),bt.un(ct,"mousemove",E),bt.un(ct,"click,dblclick,mousedown",$),bt.un(ct,"mouseup",L),bt.un(ct,"mousewheel,wheel",Q),bt.un(dt,"scroll",N),bt.un(dt,"beforeunload",I),bt.un(dt,"unload",I),bt.un(dt,"resize",j),bt.un(ct,"keydown",F),bt.un(ct,"keypress",B),bt.un(ct,"copy",z),bt.un(ct,"touchmove,touchstart",K),ct.body&&bt.un(ct,"mouseleave",Z),bt.un(ct,"focusin",U),bt.un(ct,"focusout",Y),bt.un(dt,"focus",q),bt.un(dt,"blur",W),bt.un(ct,"blur",W),ct.removeEventListener?(bt.un(ct,"scroll",A),bt.un(ct,"focus",V),bt.un(ct,"blur",X),bt.un(ct,"change",G),bt.un(ct,"submit",J)):ct.detachEvent&&(bt.un(ct,"focusin",V),bt.un(ct,"focusout",X),function(){for(var e=ct.getElementsByTagName("form"),t=0;t<e.length;t++){for(var n=e[t].getElementsByTagName("*"),o=0;o<n.length;o++)/^INPUT|SELECT|TEXTAREA$/.test(n[o].tagName)&&bt.un(n[o],"change",G);bt.un(e[t],"submit",J)}}()),function(){for(var e=ct.getElementsByTagName("form"),t=0;t<e.length;t++)e[t][lt]&&(e[t].submit=e[t][lt])}()},uploadPages:function(r,s){function l(){bt.un(ct,"DOMContentLoaded",l),bt.un(dt,"load",l);for(var e=r.split(/\n/),t=ft().href,n=/regexp:/,o=0;o<e.length;o++){var i=e[o];if(i)if(n.test(i)){i=pt(i.replace(n,""));try{var a=RegExp(i)}catch(e){}if(a&&a.test(t)){c.uploadPage(s);break}}else if(-1!==t.indexOf(i)){c.uploadPage(s);break}}}"complete"==ct.readyState?l():(bt.on(ct,"DOMContentLoaded",l),bt.on(dt,"load",l))}}}var ht="",mt=!M(/webkit/)&&M(/gecko/),vt={getDocumentCharset:function(){return(""+(ct.characterSet||ct.charset||"")).toLowerCase()},getDocumentHTML:function(){var e="",t="";if(n=(e=ct.documentElement).outerHTML)e=n;else{for(var n=e.attributes,o="",i=0;i<n.length;i++){var a=n[i];a&&(o+=" "+a.name+'="'+(a.value||"")+'"')}e="<html"+o+">"+e.innerHTML+"</html>"}return(n=ct.doctype)&&(t="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(n.systemId?' "'+n.systemId+'"':"")+">\n"),t+e},getRootElement:function(){var e=ct.documentElement;return"CSS1Compat"==ct.compatMode?e:ct.body||e},getViewportSize:function(){var e=vt.getRootElement();return[e.clientWidth,e.clientHeight]},getDocumentSize:function(){var e=vt.getRootElement(),t=vt.getViewportSize();return[Math.max(e.scrollWidth,t[0]),Math.max(e.scrollHeight,t[1])]},getDocumentScroll:function(){return[dt.pageXOffset||ct.documentElement&&ct.documentElement.scrollLeft||ct.body&&ct.body.scrollLeft||0,dt.pageYOffset||ct.documentElement&&ct.documentElement.scrollTop||ct.body&&ct.body.scrollTop||0]},getElementXY:function(e){if(!e.ownerDocument||"PARAM"==e.tagName||e==ct.body||e==ct.documentElement)return[0,0];if(e.getBoundingClientRect){e=e.getBoundingClientRect();var t=vt.getDocumentScroll();return[Math.round(e.left+t[0]),Math.round(e.top+t[1])]}for(var n=t=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return[t,n]},getElementParent:function(e){return e==ct.documentElement?null:e==ct.body?ct.documentElement:e.parentNode}},gt={isArray:function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"==Object.prototype.toString.call(e)},mergeArrays:function(e){for(var t=1;t<arguments.length;t++)if(gt.isArray(arguments[t]))for(var n=0;n<arguments[t].length;n++)e[e.length]=arguments[t][n];return e}};vt.getElementChildren=function(e,t){var n=[];if(e){var o=e.childNodes;if(o)for(var i=0,a=o.length;i<a;i++){var r=o[i];"INPUT"==r.nodeName&&r.type&&"hidden"==r.type.toLocaleLowerCase()||t&&r.nodeName!=t||gt.mergeArrays(n,[r])}}return n},vt.getElementNeighborPosition=function(e){var t=vt.getElementParent(e);if(t)for(var n=0,o=0;o<t.childNodes.length;o++)if(e.nodeName==t.childNodes[o].nodeName){if(e==t.childNodes[o])return n;n++}return 0},vt.getElementSize=function(e){return e==ct.body||e==ct.documentElement?vt.getDocumentSize():[e.offsetWidth,e.offsetHeight]},vt.getElementRegion=function(e){var t=vt.getElementXY(e);return e=vt.getElementSize(e),[t[0],t[1],e[0],e[1]]},gt.fletcher=function(e){for(var t=e.length,n=0,o=255,i=255;t;){var a=21<t?21:t;t=t-a;do{var r="string"==typeof e?e.charCodeAt(n):e[n];if(n++,255<r){var s=r>>8;r=(r=255&r)^s}i+=o+=r}while(--a);o=(255&o)+(o>>8),i=(255&i)+(i>>8)}return 65535==(e=(255&o)+(o>>8)<<8|(255&i)+(i>>8))?0:e},vt.calcTextChecksum=function(e){for(var t="",n=0,o=(e=e.childNodes).length;n<o;n++)e[n]&&3==e[n].nodeType&&(t+=e[n].nodeValue);return gt.fletcher(t.replace(/[\u0000-\u0020]+/g,""))},vt.calcAttribChecksum=function(e){var t="",n="width height align title alt name".split(" ");"IMG"==e.tagName&&(t+=e.src.toLowerCase()),"A"==e.tagName&&(t+=e.href.toLowerCase());t+=String(e.className||"").toLowerCase();for(var o=0;o<n.length;o++)e.getAttribute&&(t+=String(e.getAttribute(n[o])||"").toLowerCase());return gt.fletcher(t.replace(/[\u0000-\u0020]+/g,""))},vt.calcChildrenChecksum=function(e){return gt.fletcher((e.innerHTML||"").replace(/(<[^>]*>|[\u0000-\u0020])/g,""))},vt.getFormNumber=function(e){for(var t=ct.getElementsByTagName("form"),n=0,o=t.length;n<o;n++)if(t[n]==e)return n;return-1},vt.classNameExists=function(e,t){return RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e.className)},vt.isEmptyField=function(e){return"INPUT"==e.nodeName&&"submit"!=e.type&&"image"!=e.type&&"hidden"!=e.type?"radio"==e.type||"checkbox"==e.type?!e.checked:!e.value:"TEXTAREA"==e.nodeName?!e.value:"SELECT"!=e.nodeName||e.selectedIndex<0},vt.getElementsByClassName=function(e,t){for(var n=(t=t||ct).getElementsByTagName("*"),o=[],i=0;i<n.length;i++)vt.classNameExists(n[i],e)&&o.push(n[i]);return o},vt.getDocumentTitle=function(){var e=ct.title;return"string"!=typeof e&&(e=(e=ct.getElementsByTagName("title"))&&e.length?e[0].innerHTML:""),e};var yt={getPos:function(e){var t=vt.getRootElement(),n=vt.getDocumentScroll();return[e.pageX||e.clientX+n[0]-(t.clientLeft||0)||0,e.pageY||e.clientY+n[1]-(t.clientTop||0)||0]},getTarget:function(e){return e=e.target||e.srcElement,ht=typeof e+" - "+String(e),!e.ownerDocument&&e.documentElement&&(e=e.documentElement),e},getMouseButton:function(e){return e.which||e.button==r?e.which:1&e.button?1:2&e.button?3:4&e.button?2:0}};gt.mixin=function(e){for(var t=1;t<arguments.length;t++)if(arguments[t]){for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);arguments[t].hasOwnProperty("toString")&&(e.toString=arguments[t].toString)}return e};function o(e){e=e||{},gt.mixin(this,e),this._initComponent()}o.prototype._initComponent=function(){},o.inherit=function(e){e=e||{};var t="function"==typeof this?this:Object;e.hasOwnProperty("constructor")||(e.constructor=function(){t.apply(this,arguments)});function n(){}return n.prototype=t.prototype,e.constructor.prototype=new n,gt.mixin(e.constructor.prototype,e),e.constructor.prototype.constructor=e.constructor,e.constructor.superclass=t.prototype,e.constructor.inherit=o.inherit,e.constructor};var bt=o.inherit({_initComponent:function(){bt.superclass._initComponent.apply(this,arguments),this._listeners=[]},on:function(e,t,n,o,i){i=arguments.length<5||!!i;for(var a=t.split(","),r=0;r<a.length;r++){var s=a[r],l=ut(function(e){n.call(o||this,e||dt.event)},"on"+s);this._listeners[this._listeners.length]=[e,s,n,o,i,l],e.addEventListener?e.addEventListener(s,l,i):e.attachEvent&&e.attachEvent("on"+s,l)}},un:function(e,t,n,o,i){i=arguments.length<5||!!i;for(var a=t.split(","),r=0;r<a.length;r++)for(var s=a[r],l=0;l<this._listeners.length;l++){var d=this._listeners[l];if(d[0]==e&&d[1]==s&&d[2]==n&&d[3]==o&&d[4]==i)return this._listeners.splice(l,1),void this._removeListener(e,s,d[5],i)}},unAll:function(){for(var e=0;e<this._listeners.length;e++){var t=this._listeners[e];this._removeListener(t[0],t[1],t[5],t[4])}this._listeners.length=0},_removeListener:function(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n)}});bt.on=function(e,t,n,o,i){bt._instance||(bt._instance=new bt),bt._instance.on.apply(bt._instance,arguments)},bt.un=function(e,t,n,o,i){bt._instance&&bt._instance.un.apply(bt._instance,arguments)},T=null,gt.toJSON=function(e){if(e===r)return"";if(null===e)return"null";switch(e.constructor){case Boolean:return e.toString();case Number:return isFinite(e)?e.toString():"null";case String:return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"';case Array:for(var t=[],n=0,o=e.length;n<o;n++)t[t.length]=gt.toJSON(e[n]);return"["+t.join(",")+"]";case Object:for(n in t=[],e)e.hasOwnProperty(n)&&e[n]!==r&&(t[t.length]=gt.toJSON(n)+":"+gt.toJSON(e[n]));return"{"+t.join(",")+"}";default:return"null"}};var I=o.inherit({counterId:"",_initComponent:function(){I.superclass._initComponent.apply(this,arguments),this._ls=null;try{this._ls=dt.localStorage}catch(e){}},set:function(e,t){if(this.isEnabled())try{!t||t&&gt.isArray(t)&&!t.length?this.remove(e):this._ls.setItem(this._getLsKey(e),gt.toJSON(t))}catch(e){}},get:function(e){if(this.isEnabled())try{return JSON.parse(this._ls.getItem(this._getLsKey(e)))}catch(e){}return null},remove:function(e){if(this.isEnabled())try{this._ls.removeItem(this._getLsKey(e))}catch(e){}},isEnabled:function(){return this._ls&&dt.JSON&&"object"==typeof this._ls&&"object"==typeof dt.JSON},getStorageId:function(){var e=this.get("lsid");return e||(e=Math.round(Math.random()*new Date),this.set("lsid",e)),e},clearStorageId:function(){this.remove("lsid")},_getLsKey:function(e){return"_ym"+this.counterId+"_"+e}}),R=o.inherit({counterId:"",onlyCurrentDomain:!1,skipPrefix:!1,_initComponent:function(){if(R.superclass._initComponent.apply(this,arguments),this._domain=null,!this.onlyCurrentDomain)for(var e=V.host.split("."),t=2;;){if(!(t<=e.length)){this._domain=null;break}if(this._domain="."+e.slice(-t).join("."),t++,this.isEnabled())break}},create:function(e,t,n){e=[this._prepareName(e)+"="+encodeURIComponent(t)],n&&((t=new Date).setTime(t.getTime()+6e4*n),e.push("expires="+t.toGMTString())),this._domain&&e.push("domain="+this._domain),e.push("path=/");try{ct.cookie=e.join(";")}catch(e){}},read:function(e){try{var t=ct.cookie}catch(e){}return t&&t.match(RegExp("(?:^|;\\s*)"+this._prepareName(e)+"=([^;]*)"))?decodeURIComponent(RegExp.$1):null},erase:function(e){this.create(e,"",-1)},isEnabled:function(){this.create("metrika_enabled","1",60);var e=!!this.read("metrika_enabled");return this.erase("metrika_enabled"),e},_prepareName:function(e){return(this.skipPrefix?"":"_ym_")+e+(this.counterId?"_"+this.counterId:"")}});R.isEnabled=function(){return new R({onlyCurrentDomain:!0}).isEnabled()};var t=o.inherit({transports:[],postParams:[],send:function(e,i,a,r){a=a||function(){},function n(o){if(o<this.transports.length)try{var t=new this.transports[o]({postParams:this.postParams});t.request(e,i,function(e,t){e?a.call(r,t):n.call(this,o+1)},this)}catch(e){s(e,"send by "+(t&&t.id)),n.call(this,o+1)}}.call(this,0)}}),l=function(e){var t,n=[];for(t in e)if(e.hasOwnProperty(t)){var o=e[t];if(gt.isArray(o))for(var i=0;i<o.length;i++)n.push(encodeURIComponent(t)+"="+encodeURIComponent(String(o[i])));else n.push(encodeURIComponent(t)+"="+encodeURIComponent(String(o)))}return n.join("&")};gt.forEachKey=function(e,t,n){for(var o in e)e.hasOwnProperty(o)&&t.call(n,o,e[o],e)},gt.inArray=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1};var i=o.inherit({postParams:[],_buildUrl:function(e,t){return e+(-1<e.indexOf("?")?"&":"?")+l(t)},_splitParams:function(e){var n={},o={};return gt.forEachKey(e,function(e,t){gt.inArray(this.postParams,e)?o[e]=t:n[e]=t},this),{get:n,post:o}}});i.inherit({id:"beacon",request:function(e,t,n,o){"function"==typeof k.sendBeacon?(t=this._splitParams(t),n.call(o,k.sendBeacon(this._buildUrl(e,t.get),l(t.post)))):n.call(o,!1)}}),gt.getNativeFunction=function(e,t){var n=(t=t||dt).constructor&&t.constructor.prototype&&t.constructor.prototype[e]||t[e];return"apply"in n?function(){return n.apply(t,arguments)}:n},gt.setTimeout=function(e,t,n){return gt.getNativeFunction("setTimeout")(ut(e,n||"setTimeout"),t)};var a=i.inherit({id:"XHR",request:function(e,t,n,o){if(/[^a-z0-9.:-]/.test(V.host)&&dt.opera&&"function"==typeof dt.opera.version){var i=dt.opera.version();if("string"==typeof i&&"12"==i.split(".")[0])return n.call(o,!1)}if(dt.XMLHttpRequest){var a=new XMLHttpRequest;if("withCredentials"in a){t=this._splitParams(t),e=this._buildUrl(e,t.get);try{a.open("POST",e,!0)}catch(e){return n.call(o,!1)}return a.withCredentials=!0,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(l(t.post)),void function(){4==a.readyState?n.call(o,200==a.status):gt.setTimeout(arguments.callee,50,"TransportXHR.request")}()}}n.call(o,!1)}});gt.random=function(e,t){return arguments.length<2&&(t=e,e=0),arguments.length<1&&(t=1073741824),Math.floor(Math.random()*(t-e))+e};var d=i.inherit({id:"form",enctype:"application/x-www-form-urlencoded",htmlfileOnly:!1,_initComponent:function(){d.superclass._initComponent.apply(this,arguments),"_htmlfile"in d.prototype||(d.prototype._htmlfile=this._createHtmlfile()),this._doc=this._htmlfile||(this.htmlfileOnly?null:ct)},request:function(e,t,n,o){var i=this._doc;if(!i)return n.call(o,!1);t=this._splitParams(t);var a="ifr"+gt.random(),r=i.createElement("div");r.style.position="absolute",r.style.left="-99999px",r.style.top="-99999px";var s=['<iframe name="',a,'"></iframe>','<form action="',this._buildUrl(e,t.get),'" method="post" target="',a,'" enctype="',this.enctype,'">'];gt.forEachKey(t.post,function(e){gt.mergeArrays(s,['<input type="hidden" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" name="',e,'"/>'])}),gt.mergeArrays(s,["</form>"]),r.innerHTML=s.join(""),i.body.appendChild(r);var l=r.getElementsByTagName("form")[0];return gt.forEachKey(t.post,function(e,t){l[e].value=t}),l.submit(),gt.setTimeout(function(){i.body.removeChild(r)},1e4,"TransportForm.request.2"),n.call(o,!0)},_createHtmlfile:function(){try{if(dt.ActiveXObject){var e=new ActiveXObject("htmlfile");return e.open(),e.write("<html><body></body></html>"),e.close(),e}}catch(e){}return null}}),c=d.inherit({id:"htmlfile",htmlfileOnly:!0}),u=i.inherit({id:"img",request:function(e,t,n,o){e=this._buildUrl(e,t),(t=ct.createElement("img")).onload=ut(function(){n.call(o,!0)},"TransportImage.request"),t.onerror=ut(function(){n.call(o,!1)},"TransportImage.request"),t.src=e}});gt.defer=function(e,t,n,o,i){return gt.setTimeout(function(){e.apply(n,o||[])},t,i)};var H=t.inherit({protocol:"",host:"mc.yandex.ru",resource:"",counterId:"",counterType:0,retry:!1,transports:[a,u,c],_initComponent:function(){H.superclass._initComponent.apply(this,arguments),this.retry&&(this._storage=new I)},send:function(e,t,n,o){var i=this._registerRequest(e,t);this._sendSavedRequest(i,e,t,n,o)},_sendSavedRequest:function(n,e,t,o,i){var a=dt.Ya._metrika.firstReqStatus;if("process"!=a){a||(dt.Ya._metrika.firstReqStatus="process"),a={},this.counterType&&(a["cnt-class"]=this.counterType),gt.mixin(a,e),t.st=Math.round((new Date).getTime()/1e3);var r=[this.protocol,"//",this.host,"/"+this.resource+"/"+this.counterId].join(""),s=[];return t&&(gt.forEachKey(t,function(e,t){"t"!=e&&gt.mergeArrays(s,[e,t])}),t.t&&gt.mergeArrays(s,["t",t.t])),s.length&&(a["browser-info"]=s.join(":")),H.superclass.send.call(this,r,a,function(){dt.Ya._metrika.firstReqStatus="complete",this._unregisterRequest(n);var e=dt.Ya._metrika.firstReqCallbacks;if(dt.Ya._metrika.firstReqCallbacks=null,e)for(var t=0;t<e.length;t++)e[t][0]._sendSavedRequest.apply(e[t][0],e[t][1]);o&&o.apply(i,arguments)},this)}dt.Ya._metrika.firstReqCallbacks=gt.mergeArrays(dt.Ya._metrika.firstReqCallbacks||[],[[this,arguments]])},_isRetryEnabled:function(){return this.retry&&this._storage&&this._storage.isEnabled()},_registerRequest:function(e,t){if(this._isRetryEnabled()){t.rqnl=t.rqnl||0,t.rqnl++;for(var n=this._storage.get("retryReqs")||{},o=1;n[o];)o++;return n[o]={protocol:this.protocol,host:this.host,resource:this.resource,counterId:this.counterId,counterType:this.counterType,postParams:this.postParams,params:e,browserInfo:t,ghid:Ya._globalMetrikaHitId,time:+new Date},this._storage.set("retryReqs",n),o}},_unregisterRequest:function(e){if(e&&this._isRetryEnabled()){var t=this._storage.get("retryReqs")||{};t[e]&&(delete t[e],this._storage.set("retryReqs",t))}}});H.retransmit=function(){var e=new I,t=e.get("retryReqs")||{};e.remove("retryReqs"),gt.forEachKey(t,function(e,t){dt.Ya._metrika.firstReqStatus||(dt.Ya._metrika.firstReqStatus="complete"),t.ghid&&t.ghid!=Ya._globalMetrikaHitId&&t.time&&t.time+864e5>+new Date&&t.browserInfo.rqnl<=2&&new H({protocol:t.protocol,host:t.host,resource:t.resource,counterId:t.counterId,counterType:t.counterType,postParams:t.postParams||[],retry:!0}).send(t.params,t.browserInfo)})};var f={abc:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",tail:"+/=",tailSafe:"*-_",encode:function(e,t){for(var n,o=(f.abc+(t?f.tailSafe:f.tail)).split(""),i=e.length,a=[],r=i-i%3,s=0;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],gt.mergeArrays(a,[o[n>>18&63],o[n>>12&63],o[n>>6&63],o[63&n]]);switch(i-r){case 1:n=e[r]<<4,gt.mergeArrays(a,[o[n>>6&63],o[63&n],o[64],o[64]]);break;case 2:n=(e[r]<<10)+(e[1+r]<<2),gt.mergeArrays(a,[o[n>>12&63],o[n>>6&63],o[63&n],o[64]])}return a.join("")}},p=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);i<128?t.push(i):(127<i&&i<2048?t.push(i>>6|192):(t.push(i>>12|224),t.push(i>>6&63|128)),t.push(63&i|128))}return t},Ct=H.inherit({resource:"webvisor",transports:[a,d],postParams:["wv-data"],sendContent:function(e,t,n,o,i,a,r){return!!e&&(-1<e.indexOf("\r")&&(e=e.replace(/\r\n/g,"\n")),!(245e3<(e={"wv-type":1,"page-url":ft().href,"wv-hit":n,"wv-data":f.encode(p(e))})["wv-data"].length)&&this.send(e,{z:o,i:i,pct:t||""},a,r))}});gt.throttle=function(e,t,n,o){var i,a,r;return function(){a=arguments,r=this,i||function(){i=null,a&&(e.apply(n||r,a),a=null,i=gt.setTimeout(arguments.callee,t,o))}()}};var h=o.inherit({storage:null,storageKey:"dataBuffer",maxBufferSize:255,flushTimeout:1e4,active:!0,meta:null,onFlush:function(){},onFlushCtx:null,bufferExpireTime:864e5,_initComponent:function(){if(h.superclass._initComponent.apply(this,arguments),this._data=[],this._packetNumber=0,this._flushTID=null,this._saveToStorageThrottled=gt.throttle(this._saveToStorage,300,this,"DataBuffer._saveToStorage"),this.storage){var e=this.storage.get(this.storageKey);e&&e.data&&e.meta&&e.time&&e.time+this.bufferExpireTime>+new Date&&this.onFlush.call(this.onFlushCtx||this,e.data,e.meta,e.pnum),this.clear()}},append:function(e,t){gt.mergeArrays(this._data,e),this._saveToStorageThrottled(),this.active&&((t||this._data.length>=this.maxBufferSize)&&this._flush(),this._flushTID||(this._flushTID=gt.defer(this._flush,this.flushTimeout,this,[],"DataBuffer._flush")))},activate:function(){this.active||(this.active=!0,this.append([]))},clear:function(){this._data.length=0,this._flushTID=null,this.storage&&this.storage.remove(this.storageKey)},_flush:function(){this.onFlush.call(this.onFlushCtx||this,this._data,this.meta,this._packetNumber),this._packetNumber++,this.clear()},_saveToStorage:function(){this.storage&&this._data.length&&this.storage.set(this.storageKey,{data:this._data,meta:this.meta,pnum:this._packetNumber,time:+new Date})}});gt.trim=function(e,t){return e=String(e).replace(/^\s+|\s+$/g,""),t&&e.length>t&&(e=e.substr(0,t)),e},gt.arrayIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1};var O={_jScriptVersion:0,getJScriptVersion:function(){return O._jScriptVersion||(O._jScriptVersion=new Function("return /*@cc_on @_jscript_version @*/;")()),O._jScriptVersion},_silverlightVersion:"",getSilverlightVersion:function(){if(!O._silverlightVersion)if(dt.ActiveXObject)try{function e(e,t,n,o){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[n]+=o;t[n]-=o}var t=new ActiveXObject("AgControl.AgControl"),n=[1,0,0,0];e(t,n,0,1),e(t,n,1,1),e(t,n,2,1e4),e(t,n,2,1e3),e(t,n,2,100),e(t,n,2,10),e(t,n,2,1),e(t,n,3,1),O._silverlightVersion=n.join(".")}catch(e){}else(t=(t=dt.navigator).plugins&&t.plugins["Silverlight Plug-In"])&&(O._silverlightVersion=t.description);return O._silverlightVersion||""},_flashVersion:0,getFlashVersion:function(){if(!O._flashVersion){var e=dt.navigator;if(void 0!==e.plugins&&"object"==typeof e.plugins["Shockwave Flash"]){var t=e.plugins["Shockwave Flash"],n=t.version;((t=t.description)||n)&&(void 0!==(e=e.mimeTypes)&&e["application/x-shockwave-flash"]&&!e["application/x-shockwave-flash"].enabledPlugin||(n?O._flashVersion=n:t&&(O._flashVersion=t.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,"."))))}else if(void 0!==dt.ActiveXObject)try{(n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))&&(t=n.GetVariable("$version"))&&(O._flashVersion=t.split(" ")[1].replace(/,/g,".").replace(/[^.\d]/g,""))}catch(e){}}return O._flashVersion},getLanguage:function(){return(dt.navigator&&(k.language||k.browserLanguage)||"").toLowerCase()},getJavaEnabled:function(){try{return k.javaEnabled()}catch(e){return!1}}};gt.fnv32a=function(e){for(var t=2166136261,n=0,o=e.length;n<o;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0},O.getFingerPrint=function(){var e=[];if(k.plugins&&k.plugins.length)for(var t=0;t<k.plugins.length;t++){var n=k.plugins[t];gt.mergeArrays(e,[n.name,n.version,n.description,n.filename])}if(k.mimeTypes&&k.mimeTypes.length)for(t=0;t<k.mimeTypes.length;t++)n=k.mimeTypes[t],gt.mergeArrays(e,[n.type,n.description,n.suffixes]);return gt.fnv32a(e.join(";"))+"01"};var F=H.inherit({hitId:0,trackHash:!1,trimParams:!1,webvisor:!1,counter:null,counterNum:0,resource:"watch",retry:!0,postParams:["site-info"],countersNoTitle:"22836271 1143050 29626870 9928105 26128362 29850769".split(" "),sendTitle:!0,_initComponent:function(){F.superclass._initComponent.apply(this,arguments),this._trackHash=this.trackHash,"0"==""+this.counterType&&(this.sendTitle=-1===gt.arrayIndexOf(this.countersNoTitle,""+this.counterId))},setTrackHash:function(e){this._trackHash=e},sendHit:function(e,t,n,o,i){this._hitExt(e,t,n,o,{ut:i,ar:!0,saveRef:!0})},sendPrerenderHit:function(e,t,n){this._hitExt(e,t,n,null,{ar:!0,pq:!0})},sendAjaxHit:function(e,t,n,o){this._hitExt(e,t,n,null,o)},sendParams:function(e){this._hitExt(ft().href,"","",e,{ar:!0,pa:!0,onlyData:!0})},sendGoal:function(e,t){if(!/[\/&=?#]/.test(e)){var n=e?"goal://"+ft().hostname+"/"+encodeURIComponent(e):ft().href,o=vt.getDocumentTitle(),i=e?ft().href:ct.referrer;this._hitExt(n,o,i,t,{ar:!0})}},sendClickLink:function(e,t,n){this._hitExt(e,t,ft().href,null,n)},sendExtLink:function(e,t,n,o){this._hitExt(e,"",ft().href,o,{ar:!0,ln:!0,ut:Z})},sendFileUpload:function(e,t,n,o){this._hitExt(e,"",ft().href,o,{ar:!0,ln:!0,dl:!0})},sendNotBounce:function(e){this._hitExt(ft().href,"","",null,{cl:e,ar:!0,nb:!0,onlyData:!0})},sendVideoAction:function(e,t,n,o){this._hitExt(n,o||"","",null,{ar:!0,va:e,vt:+t})},sendSocialClick:function(e,t,n){this._hitExt(n||ft().href,"","",null,{ar:!0,sn:gt.trim(e,64),sa:gt.trim(t,64)})},_hitExt:function(e,t,n,o,i,a,r,s,l,d){function c(e,t){t&&(u[e]=t)}if(i=i||{},a=a||{},"MetrikaPlayer"!=dt.name){n=void 0!==n?n:T;var u={};if(i.ar&&!i.onlyData&&(n=this._prepareHitUrl(n),e=this._prepareHitUrl(e)),c("page-ref",gt.trim(n,J)),c("page-url",gt.trim(e,J)),-1!=ft().hostname.search(/(?:^|\.)(?:ya|yandex|narod|narod2)\.(?:\w+|com\.\w+)$/)?c("ut",Z):void 0!==i.ut&&c("ut",gt.trim(i.ut,G)),o)if(e=gt.toJSON(o),this.trimParams&&e.length>K)var f=!0;else c("site-info",e);i.saveRef&&(T=n),gt.mixin(a,this._getTechInfo(t,i,this.counterId,r,s,this._trackHash,this.hitId,this.webvisor,this.counter)),this.send(u,a,function(){f&&new F({protocol:this.protocol,counterType:this.counterType,counterId:this.counterId,hitId:this.hitId,trackHash:this.trackHash,webvisor:this.webvisor,counterNum:this.counterNum,counter:this.counter}).sendParams(o),l&&l.apply(d,arguments)},this)}},_prepareHitUrl:function(e){var t=(n=ft()).host,n=n.href;if(!e)return n;if(-1!=e.search(/^\w+:\/\//))return e;var o=e.charAt(0);return"?"==o?-1==(o=n.search(/\?/))?n+e:n.substr(0,o)+e:"#"==o?-1==(o=n.search(/#/))?n+e:n.substr(0,o)+e:"/"!=o?((t=n.split("/"))[t.length-1]=e,t.join("/")):-1!=(o=n.search(t))?n.substr(0,o+t.length)+e:e},_getTechInfo:function(e,t,n,o,i,a,r,s,l){function d(e,t){e&&t&&(u[e]=t)}t=t||{};var c,u={};if(o=o||b.getTimestamp(),i=i||b.getTimezone(),d("j",O.getJavaEnabled()?"1":""),D&&d("s",D.width+"x"+D.height+"x"+(D.colorDepth||D.pixelDepth)),dt.devicePixelRatio&&d("sk",dt.devicePixelRatio),d("f",O.getFlashVersion()),d("l",O.getSilverlightVersion()),d("fpr",O.getFingerPrint()),d("cn",this.counterNum),!t.pa){var f=vt.getViewportSize();d("w",f[0]+"x"+f[1])}for(d("z",i),d("i",o),d("et",Math.round((new Date).getTime()/1e3)),d("en",vt.getDocumentCharset()),d("v",S),d("c",k.cookieEnabled?"1":""),d("jv",O.getJScriptVersion()),d("la",O.getLanguage()),a&&d("wh","1"),i="ar ln dl ad nb pa pq".split(" "),o=0;o<i.length;o++)c=i[o],t[c]&&d(c,"1");for(i=["va","vt","sn","sa","he"],t.nb&&i.push("cl"),o=0;o<i.length;o++)d(a=i[o],t[a]);if((n=new I({counterId:n})).isEnabled()&&(o=n.getStorageId(),(i=n.get("reqNum"))?i++:i=1,n.set("reqNum",i),n.get("reqNum")==i?(d("ls",o),d("rqn",i)):(n.remove("reqNum"),n.clearStorageId(),1<i&&(d("ls",o),d("rqn",0)))),d("rn",gt.random()),d("hid",r),d("ds",function(e){var t=[],n=e._lastPerformanceTiming,o=P();if(n)for(var i=0,a=n.length;i<a;i++)null===o[i]?t.push(o[i]):t.push(n[i]===o[i]?"":o[i]);else t=o;return e._lastPerformanceTiming=o,t.join(",")}(l)),l._firstPaint||(l._firstPaint=function(){var e;if("object"==typeof dt.chrome&&dt.chrome.loadTimes){if((e=dt.chrome.loadTimes()).requestTime&&e.firstPaintTime)return~~(1e3*(e.firstPaintTime-e.requestTime))}else if(dt.performance&&dt.performance.timing&&((e=dt.performance.timing).navigationStart&&e.msFirstPaint))return e.msFirstPaint-e.navigationStart;return null}(),d("fp",l._firstPaint)),s){dt.name||(dt.name=Math.round(65535*Math.random())),(r=+dt.name)&&(r<0&&(r*=-1),r%=65535),d("wn",r||gt.fletcher(dt.name));try{dt.history&&d("hl",String(dt.history.length))}catch(e){}}return r="",this.sendTitle&&(r=this._getTitle(e)),d("t",r),u},_getTitle:function(e){var t="";return t=void 0===e?(t=vt.getDocumentTitle())?gt.trim(t,Q):"":gt.trim(e,Q)}});gt.array2Props=function(e){for(var t=e.length,n={},o=n,i=0;i<t-1;i++){var a=e[i];o[a]={},i<t-2&&(o=o[a])}return o[a]=e[t-1],n};var m=o.inherit({sampling:1,counterId:26302566,_initComponent:function(){m.superclass._initComponent.apply(this,arguments),this._sender=new F({counterId:this.counterId,retry:!1,counter:{}})},log:function(){this.logParams(gt.array2Props(arguments))},logParams:function(e){Math.random()<this.sampling&&this._sender.sendHit(V.href,"","",e)}}),v=H.inherit({resource:"webvisor",retry:!0,postParams:["wv-data"],sendPacket:function(e,t,n,o,i,a,r,s){if(!e||!e.length)return!1;var l=f.encode(e,!0);return 0==l.indexOf("AAAAAAAAADw")&&dt.Error&&"string"==typeof Error().stack&&new m({sampling:.1}).log("bad visor packet 5",1),e={rn:gt.random(),"page-url":t,wmode:0,"wv-type":0,"wv-hit":n,"wv-part":o+1,"wv-check":gt.fletcher(e),"wv-data":l},this.send(e,{z:i,i:a},r,s)}}),wt=h.inherit({protocol:"",counterId:"",counterType:"",meta:null,maxBufferSize:7500,flushTimeout:3e4,storageKey:"visorbuff",active:!1,_initComponent:function(){this.storage=new I({counterId:this.counterId}),this._sender=new v({protocol:this.protocol,counterId:this.counterId,counterType:this.counterType}),wt.superclass._initComponent.apply(this,arguments)},onFlush:function(e,t,n){this._sender.sendPacket(e,t.url,t.hitId,n,t.timezone,t.timestamp)}});gt.clearTimeout=function(e){return gt.getNativeFunction("clearTimeout")(e)},gt._urlParser=null,gt.parseUrl=function(e){if(!this._urlParser)try{this._urlParser=ct.createElement("a")}catch(e){}return this._urlParser?(this._urlParser.href=e,{protocol:this._urlParser.protocol,host:this._urlParser.host,port:this._urlParser.port,hostname:this._urlParser.hostname,hash:this._urlParser.hash,search:this._urlParser.search,query:this._urlParser.search.replace(/^\?/,""),pathname:this._urlParser.pathname||"/",path:(this._urlParser.pathname||"/")+this._urlParser.search,href:this._urlParser.href}):{}},O.isIE=function(){return O.getJScriptVersion()<=5.8};var B={};B._cookie=new R({onlyCurrentDomain:!0}),B.log=ut(function(){var e=-1<V.href.indexOf("_ym_debug=1")||dt._ym_debug;e&&this._cookie.create("debug","1"),dt.console&&console.log&&(e||"1"===this._cookie.read("debug"))&&console.log.apply(console,arguments)},"DebugConsole.log");var g=H.inherit({resource:"clmap",retry:!0,transports:[u],sendClick:function(e,t,n,o){this.send({"page-url":e,"pointer-click":t},{},n,o)}}),z=o.inherit({filter:null,ignoreTags:[],quota:0,isTrackHash:!1,protocol:"",counterId:0,counterType:0,startTime:0,MAX_LEN_PATH:128,TIMEOUT_CLICK:50,TIMEOUT_SAME_CLICKS:1e3,DELTA_SAME_CLICKS:2,tags:"A B BIG BODY BUTTON DD DIV DL DT EM FIELDSET FORM H1 H2 H3 H4 H5 H6 HR I IMG INPUT LI OL P PRE SELECT SMALL SPAN STRONG SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TR U UL ABBR AREA BLOCKQUOTE CAPTION CENTER CITE CODE CANVAS DFN EMBED FONT INS KBD LEGEND LABEL MAP OBJECT Q S SAMP STRIKE TT ARTICLE AUDIO ASIDE FOOTER HEADER MENU METER NAV PROGRESS SECTION TIME VIDEO NOINDEX NOBR MAIN".split(" "),_initComponent:function(){if(this._lastClick=null,this.hasQuota=!!this.quota,this._quota=this.quota,this._ignoreTags=[],this.ignoreTags)for(var e=0;e<this.ignoreTags.length;e++)this.ignoreTags[e]&&gt.mergeArrays(this._ignoreTags,[String(this.ignoreTags[e]).toUpperCase()]);this._cacheTags={};e=59;for(var t=String.fromCharCode,n=0;n<this.tags.length;n++)this._cacheTags[this.tags[n]]=t(e),t(e),e++;this._sender=new g({protocol:this.protocol,counterId:this.counterId,counterType:this.counterType}),this._start=!1,this.start()},destroy:function(){this.stop()},start:function(){this._start||bt.on(ct,"click",this._handler,this),this._start=!0},stop:function(){this._start&&bt.un(ct,"click",this._handler,this),this._start=!1},setTrackHash:function(e){this.isTrackHash=e},_handler:function(e){if(ht=1,e={el:yt.getTarget(e),pos:yt.getPos(e),button:yt.getMouseButton(e),time:+new Date},ht=2,this._isTrackingClick(e)){ht=3;var t=vt.getElementSize(e.el),n=vt.getElementXY(e.el);t=["rn",gt.random(),"x",Math.floor(65535*(e.pos[0]-n[0])/(t[0]||1)),"y",Math.floor(65535*(e.pos[1]-n[1])/(t[1]||1)),"t",Math.floor((e.time-this.startTime)/100),"p",this._getElPath(e.el)];ht=4,n=ft().href,this.isTrackHash?gt.mergeArrays(t,["wh","1"]):n=n.split("#")[0],ht=5,this._sender.sendClick(gt.trim(n,J),t.join(":")),this._lastClick=e}ht=6},_isTrackingClick:function(e){if(dt.ymDisabledClickmap||"MetrikaPlayer"==dt.name)return!1;var t=e.el.tagName;if((2==e.button||3==e.button)&&"A"!=t||this.filter&&!this.filter(e.el,t))return!1;for(var n=0;n<this._ignoreTags.length;n++)if(this._ignoreTags[n]==t)return!1;for(t=e.el;t;){if(vt.classNameExists(t,"ym-clickmap-ignore"))return!1;t=t.parentNode}if(this._lastClick){if(e.time-this._lastClick.time<this.TIMEOUT_CLICK)return!1;t=Math.abs(this._lastClick.pos[0]-e.pos[0]),n=Math.abs(this._lastClick.pos[1]-e.pos[1]);var o=e.time-this._lastClick.time;if(this._lastClick.el==e.el&&t<this.DELTA_SAME_CLICKS&&n<this.DELTA_SAME_CLICKS&&o<this.TIMEOUT_SAME_CLICKS)return!1}if(this.hasQuota){if(!this._quota)return!1;this._quota--}return!0},_getElPath:function(e){for(var t="";e&&e.parentNode&&"BODY"!=e.tagName&&"HTML"!=e.tagName;)t+=this._cacheTags[e.tagName]||"*",t+=vt.getElementNeighborPosition(e)||"",e=e.parentNode;return gt.trim(t,this.MAX_LEN_PATH)}}),y=o.inherit({_initComponent:function(){y.superclass._initComponent.apply(this,arguments),this._executedMsgs={},bt.on(dt,"message",this.RemoteControl__onMessage,this)},RemoteControl__onMessage:function(e){try{var t=e.origin}catch(e){}if(t&&/^https?:\/\/(.*?\.)?(metr(i(ca?|ka))?|analytics|metrika-(dev|test|ps)(\.haze)?)\.yandex\.(ru|ua|by|kz|com(\.tr)?)(:\d+)?$/.test(t)){try{var n=new Function("return "+e.data)()}catch(e){}n&&n.id&&n.code&&!this._executedMsgs[n.id]&&(this._executedMsgs[n.id]=!0,new Function("evt",n.code)(e))}}}),b={};gt.pad=function(e){return(e<10?"0":"")+e},b.getTimestamp=function(){for(var e=[(e=new Date).getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()],t="",n=0;n<e.length;n++)t+=gt.pad(e[n]);return t},b.getTimezone=function(){return-(new Date).getTimezoneOffset()};var q=o.inherit({counter:null,_initComponent:function(){if(q.superclass._initComponent.apply(this,arguments),dt.dataLayer&&"function"==typeof dt.dataLayer.push){var e=this;e._send(dt.dataLayer);var t=dt.dataLayer.push;dt.dataLayer.push=function(){e._send([].slice.call(arguments,0)),t.apply(this,arguments)}}},_send:function(e){for(var t=[],n=0;n<e.length;n++)e[n].ecommerce&&(t[t.length]=e[n].ecommerce);t.length&&this.counter.params({__ym:{ecommerce:t}})}}),W=(t=i.inherit({id:"script",request:function(e,t,n,o){var i="_ymjsp"+gt.random(),a=ct.createElement("script");return dt[i]=ut(function(e){try{delete dt[i]}catch(e){dt[i]=r}n.call(o,!0,e),a.parentNode&&a.parentNode.removeChild(a)},"transport.script"),a.type="text/javascript",a.src=this._buildUrl(e,gt.mixin({wmode:5,callback:i},t)),(e=ct.getElementsByTagName("head")[0]).insertBefore(a,e.firstChild),!0}}),F.inherit({transports:[t],trimParams:!0,sendHit:function(e,t,n,o,i,a,r,s,l,d,c){var u={};a&&(u.vc=a),r&&(u.pr=1),this._hitExt(e,t,n,o,i,u,s,l,d,c)}})),C=[];dt.Ya=dt.Ya||{},Ya._metrika=Ya._metrika||{},Ya._metrika.counters=Ya._metrika.counters||{},Ya._metrika.hitParam=Ya._metrika.hitParam||{},Ya._metrika.counterNum=Ya._metrika.counterNum||0,Ya._metrika.hitId=Ya._metrika.hitId||gt.random(),Ya._globalMetrikaHitId=gt.random();var U,Y,w,x,V=ft(),xt=b.getTimezone(),kt=b.getTimestamp(),k=dt.navigator,D=dt.screen,X="https:",S="ver636".slice(3),G=64,J=O.isIE()?512:2048,K=O.isIE()?512:2048,Q=O.isIE()?100:400,Z="noindex",ee=RegExp("\\.(3gp|7z|aac|ac3|acs|ai|avi|ape|apk|asf|bmp|bz2|cab|cdr|crc32|css|csv|cue|divx|dmg|djvu?|doc(x|m|b)?|emf|eps|exe|flac?|flv|iso|swf|gif|t?gz|jpe?g?|js|m3u8?|m4a|mp(3|4|e?g?)|m4v|md5|mkv|mov|msi|ods|og(g|m|v)|pdf|phps|png|ppt(x|m|b)?|psd|rar|rss|rtf|sea|sfv|sit|sha1|svg|tar|tif?f|torrent|ts|txt|vob|wave?|wma|wmv|wmf|webm|xls(x|m|b)?|xpi|g?zip)$","i"),te=+new Date;if(dt.Ya.Metrika=function(w,x,k,D){var S=this;return ut(function(){function e(e){var t=!1;if(Ya._metrika.hitParam[s]){if(1!=k||Ya._metrika.counters[s])return!1;t=!0}if(Ya._metrika.counters[s]=S,Ya._metrika.hitParam[s]=1,S._webvisor=!D&&(l&&l.webvisor||!1),S._directCampaign=l&&l.directCampaign,l&&l.trackHash&&r(!0),!D&&!t){S.replacePhones();var v=new R({counterId:w}),g=v.read("visorc");"b"!=g&&"w"!=g&&(g=""),v.isEnabled()&&!M("opera mini")||(g="b"),U=+new Date;t=new W({protocol:X,counterType:k,counterId:w,trackHash:C,hitId:y,webvisor:S._webvisor,counter:S,counterNum:f});var n={ut:d,he:l?~~l.httpError:0,ad:1==k&&dt.Ya&&dt.Ya.Direct,saveRef:!0};B.log("PageView. Counter "+w+". URL: "+V.href+". Referer: "+ct.referrer,". Params: ",x),t.sendHit(V.href,vt.getDocumentTitle(),ct.referrer,x,n,g,e,kt,xt,function(e){Y=Y||+new Date;var t=(e=e||{}).webvisor||{};if(b){var n=+t.recp;(!isFinite(n)||n<0||1<n)&&(g="w"),g=g||(y%1e4/1e4<n?"w":"b"),v.create("visorc",g,30),"w"==g?(b.start(),n=t.arch_type,(t=t.urls)&&n&&b.uploadPages(t,n)):b.stop()}if(t=e.mp2,e=S,v.erase("mp2_substs"),t){e:if((n=t.conditions)&&n.length)for(var o=0;o<n.length;o++){var i;if("ref"==n[o].type)i=$(n[o]);else if(i="adv"==n[o].type){var a=n[o],r=Ya._metrika.counter._directCampaign,s=a.ServiceNamePattern,l=a.RefererPattern;i=r?a.direct_orders:a.direct_camp;var d=ct.referrer,c={};if(u=(u=V.search)&&u.replace(/^\?/,""))for(var u=u.split("&"),f=0;f<u.length;f++){c[A((p=u[f].split("="))[0])]=A(p[1])}u=N(V.search,V.hash),f={};for(var p=["source","medium","campaign","term","content"],h=0;h<p.length;h++)c["utm_"+p[h]]&&(f[p[h]]=c["utm_"+p[h]]);if(h=r?"direct.yandex.ru":u&&u.service||f.source,!(p=!1)&&s&&s.length)for(var m=0;m<s.length;m++)if(RegExp(s[m],"i").test(h)){p=!0;break}if(!p&&l&&l.length)for(s=0;s<l.length;s++)if(RegExp(l[s],"i").test(d)){p=!0;break}if(!p&&a.google_adwords&&c.gclid&&(p=!0),!p&&a.yandex_direct&&c.yclid&&(p=!0),p&&i&&i.length&&(p=!1,a=r||u&&u.campaign||f&&f.campaign))for(r=0;r<i.length;r++)if(i[r]==a){p=!0;break}i=p}if(i){n[o].track_id&&v.create("mp2_track",n[o].track_id,43200);break e}}n=v.read("mp2_track"),t=t.substs&&t.substs[n],n&&t?(v.create("mp2_substs",gt.toJSON(t)),t=L(t),e.params("__ym",t?"mp_trackid":"mp_trackid_bad",n)):E()}else E();bt.on(dt,"load",S.replacePhones,S),S._inited=!0})}o(!1),bt.on(ct,"click",function(e){S._trackLinks.on&&function(n){var o=function(e){if(!(e=e.target||e.srcElement))return!1;3==e.nodeType&&(e=e.parentNode);for(var t=e.nodeName.toString().toLowerCase();e.parentNode&&e.parentNode.nodeName&&("a"!=t&&"area"!=t||!e.href);)t=(e=e.parentNode).nodeName.toString().toLowerCase();return!!e.href&&e}(n);if(o){function e(e){var t=pt(o.innerHTML.replace(/<\/?[^>]+>/gi,""));p.sendClickLink(a,a==t?"":t,e)}function t(){var e,t=o.target;return e=!1,(e=!!o.hostname&&(t&&"_self"!=t&&"_top"!=t&&"_parent"!=t||(e=!0),(t=n.shiftKey||n.ctrlKey||n.altKey)||n.modifiers&&dt.Event&&(t=n.modifiers&dt.Event.CONTROL_MASK||n.modifiers&dt.Event.SHIFT_MASK||n.modifiers&dt.Event.ALT_MASK),e&&!t))?S._trackLinks.delay:0}var i=!1,a=""+o.href,r=a?a.split(/\?/)[0]:"";(ee.test(r)||ee.test(a)||_(a,h)||_(r,h))&&(i=!0);var s=vt.classNameExists(o,"ym-disable-tracklink");r=vt.classNameExists(o,"ym-external-link"),s||(s={ln:!0,dl:i},r?(s.delay=t(),e(s)):(r=o.hostname||gt.parseUrl(o.href).hostname||"",function(e,t){return(e?e.replace(/^www\./,""):"")==(t?t.replace(/^www\./,""):"")}(ft().hostname,r)?i&&(s.ln=!1,s.delay=t(),e(s)):a&&-1!=a.search(/^ *(data|javascript):/i)||(s.ut=Z,s.delay=t(),e(s))))}}(e)}),l&&(l.enableAll?(o(!0),i(!0),a()):(l.clickmap&&i(l.clickmap),l.trackLinks&&o(l.trackLinks),l.accurateTrackBounce&&a(l.accurateTrackBounce),l.ad&&ad()),(l.useDataLayer||Math.random()<.01)&&new q({counter:S})),S._webvisor&&(b=new j(X,w,k,l,y,S))}function o(e){var t={delay:50};switch(typeof e){case"string":t.on=!0;break;case"object":t.on=!0,t.delay="number"!=typeof e.delay?50:e.delay;break;case"boolean":t.on=e;break;default:return}S._trackLinks=t}function i(e){void 0===e&&(e=!0),!0===e&&(e={}),S._clickmap&&S._clickmap.destroy(),e&&(S._clickmap=new z({filter:e.filter,ignoreTags:e.ignoreTags,quota:e.quota,isTrackHash:e.isTrackHash,protocol:X,counterId:w,counterType:k,startTime:te}))}function a(e){if("number"!=typeof e&&(e=15e3),!S._isAccurateTrackBounce){S._isAccurateTrackBounce=!0;var t=new I({counterId:w}),n=t.get("lastHit");t.set("lastHit",+new Date),((t=t.get("lastHit"))&&(!n||n<t-18e5)||!function(e,t){function n(e){return(e=(e=(e=e.split(":"))[1]||"").replace(/^\/*/,"").replace(/^www\./,"")).split("/")[0]}return e&&t?n(e)==n(t):!e&&!t}(ct.referrer,ft().href)||Math.random()<.1)&&function(t,n){function e(){if(!u){c&&gt.clearTimeout(c);var e=n;(e-=s?l:l+ +new Date-d)<0&&(e=0),c=gt.setTimeout(function(){i(!(u=!0)),t()},e,"trackUserTime")}}function o(){r||(r=!(s=!(a=!0)),e())}function i(e){for(var t=0;t<f.length;t+=3)e?bt.on(f[t],f[t+1],f[t+2]):bt.un(f[t],f[t+1],f[t+2])}var a=!1,r=!1,s=!0,l=0,d=+new Date,c=null,u=!1;if(O.isIE())gt.setTimeout(t,n,"trackUserTime");else{var f=[dt,"blur",function(){s=a=r=!0,l+=+new Date-d,d=+new Date,e()},dt,"focus",function(){a||r||(l=0),d=+new Date,a=r=!0,s=!1,e()},ct,"click",o,ct,"mousemove",o,ct,"keydown",o,ct,"scroll",o];i(!0),e()}}(function(){S.notBounce()},e)}}function r(e){!1===e?C&&("onhashchange"in dt?bt.un(dt,"hashchange",t):gt.clearTimeout(m),C=!1):(e=t,C||("onhashchange"in dt?bt.on(dt,"hashchange",e):function(n){function o(){var e=ft().hash.split("#")[1];if(void 0===e)return!1;var t=e.indexOf("?");return 0<t&&(e=e.substring(0,t)),e}var i=o();!function e(){var t=o();t!==i&&(n(),i=t),m=gt.setTimeout(e,200,"trackHash")}()}(e),C=!0)),p.setTrackHash(C),S._trackHash=C}function t(){u=T=c;var e={ut:d,ad:1==k&&dt.Ya&&dt.Ya.Direct,wh:!0,saveRef:!0};p.sendAjaxHit(ft().href,vt.getDocumentTitle(),u,e),c=ft().href}function n(e,t){var n=v.parseValidate(e,t);n&&S.params(n)}var s,l,d="",c=T=V.href,u="";if(Ya._metrika.counter||(Ya._metrika.counter=S),"object"==typeof w&&(D=(l=w).defer,d=w.ut,k=w.type,x=w.params,w=w.id),/^\d+$/.test(w=w||0)||(w=0),s=w+":"+(k=k||0),Ya._metrika.counters[s])return Ya._metrika.counters[s];var y=Ya._metrika.hitId;Ya._metrika.counterNum++;var f=Ya._metrika.counterNum;H.retransmit();var b,p=new F({protocol:X,counterType:k,counterId:w,hitId:y,counter:S,counterNum:f});S.replacePhones=ut(function(){try{var e=new R({counterId:w}).read("mp2_substs");if(e){var t=new Function("return "+e)();t&&L(t,!0)}}catch(e){}},"counter.replacePhones"),S.reachGoal=ut(function(e,t){return B.log("Reach goal. Counter: "+w+". Goal id: "+e+". Params: ",t),p.sendGoal(e,t),!0},"counter.reachGoal"),S.trackLinks=ut(function(e){o(e)},"counter.trackLinks"),S.hit=ut(function(e,t,n,o,i){e&&(B.log("PageView. Counter "+w+". URL: "+e+". Referer: "+n+". Params: ",o),p.sendHit(e,t,n,o,i))},"counter.hit"),S.params=ut(function(e){e&&(1<arguments.length&&(e=gt.array2Props(arguments)),B.log("User params. Counter "+w+". Params: ",e),p.sendParams(e))},"counter.params"),S.file=ut(function(e,t,n,o){e&&p.sendFileUpload(e,t,n,o)},"counter.file"),S.extLink=ut(function(e,t,n,o){e&&p.sendExtLink(e,t,n,o)},"counter.extLink"),S.notBounce=ut(function(){var e=0;U&&Y&&(e=Y-U),p.sendNotBounce(e)},"counter.notBounce");var h=[];S.addFileExtension=function(e){"string"==typeof e?h.push(e):h=h.concat(e)},S.clickmap=function(e){i(e)},S.accurateTrackBounce=function(e){a(e)};var m=null,C=!1;S.trackHash=function(e){r(e)},S.video=ut(function(e,t,n,o){var i=["end","play","pause","seek"];if(e&&n){e:{for(var a=0,r=i.length;a<r;a+=1)if(e===i[a]){i=a;break e}i=-1}-1!==i&&p.sendVideoAction(e,t,n,o)}},"counter.video"),S.social=ut(function(e,t,n){e&&t&&p.sendSocialClick(e,t,n)},"counter.social"),gt.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},gt.isNumber=function(e){return isFinite(e)&&!isNaN(e)&&"[object Number]"==Object.prototype.toString.call(e)},gt.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},gt.arrayEvery=function(e,t,n){for(var o=0;o<e.length;o++)if(!t.call(n,e[o],o,e))return!1;return!0};var v={requiredEcommerceFields:["currency","goods"],parseValidate:function(e,t){var n=this.validate(e,t);if(!n.isValid)return console&&console.log(n.message),!1;for(var o in(n={})[e]={},t.currency&&(n.currencyCode=t.currency),t.goods&&(n[e].products=t.goods),t)t.hasOwnProperty(o)&&-1===gt.arrayIndexOf(this.requiredEcommerceFields,o)&&(n[e].actionField||(n[e].actionField={}),n[e].actionField[o]=t[o]);return{__ym:{ecommerce:[n]}}},validate:function(e,t){var n=!1,o="";if(gt.isObject(t))switch(e){case"detail":case"add":case"remove":gt.isArray(t.goods)&&t.goods.length?(n=gt.arrayEvery(t.goods,function(e){return gt.isObject(e)&&(gt.isString(e.id)||gt.isNumber(e.id)||gt.isString(e.name)||gt.isString(e.name))}))||(o="All items in 'goods' should be objects and contain 'id' or 'name' field"):o="Ecommerce data should contain 'goods' non-empty array";break;case"purchase":gt.isNumber(t.id)||gt.isString(t.id)?n=!0:o="Purchase object should contain string or number 'id' field"}else o="Ecommerce data should be an object";return{isValid:n,message:o}}};if(S.ecommerceDetail=ut(function(e){n("detail",e)},"ecommerce.detail"),S.ecommerceAdd=ut(function(e){n("add",e)},"ecommerce.add"),S.ecommerceRemove=ut(function(e){n("remove",e)},"ecommerce.remove"),S.ecommercePurchase=ut(function(e){n("purchase",e)},"ecommerce.purchase"),S.enableAll=function(){o(!0),i(!0),a()},S.uploadPage=function(){},S._performanceTiming=P,w)if("prerender"==ct.webkitVisibilityState){p.sendPrerenderHit(V.href,vt.getDocumentTitle(),ct.referrer);var g=function(){"prerender"!=ct.webkitVisibilityState&&(bt.un(ct,"webkitvisibilitychange",g),e(!0))};bt.on(ct,"webkitvisibilitychange",g)}else e(!1)},"init")()},dt.performance&&"function"==typeof performance.getEntries){for(i={2343947156:1,1996539654:1,2065498185:1,823651274:1,1417229093:1,138396985:1},a=performance.getEntries(),c={},t=0;t<a.length;t++){var ne=(u=a[t]).name.replace(/^https?:\/\//,"").split("?")[0];i[gt.fnv32a(ne)]&&!c[ne]&&0<u.duration&&(c[ne]={dns:Math.round(u.domainLookupEnd-u.domainLookupStart),tcp:Math.round(u.connectEnd-u.connectStart),duration:Math.round(u.duration),response:Math.round(u.responseEnd-u.requestStart),pages:V.href})}new m({sampling:1e-4}).logParams({timings8:c})}if(dt.Ya._metrika.remoteCtrlInited||(dt.Ya._metrika.remoteCtrlInited=!0,new y),dt.Ya.Metrika.counters=function(){var o=[];return gt.forEachKey(dt.Ya._metrika.counters,function(e,t){var n=e.split(":");o.push({id:+n[0],type:+n[1],accurateTrackBounce:t._isAccurateTrackBounce,clickmap:t._clickmap&&t._clickmap._start,oldCode:!!dt.ya_cid,trackHash:!!t._trackHash,trackLinks:t._trackLinks&&t._trackLinks.on,webvisor:!!t._webvisor})}),o},dt.ya_cid&&new Ya.Metrika(dt.ya_cid,dt.ya_params,dt.ya_class),dt.ya_cid&&!dt.ya_hit&&(dt.ya_hit=function(e,t){Ya._metrika.counter&&Ya._metrika.counter.reachGoal(e,t)}),t=dt.yandex_metrika_callback,i=dt.yandex_metrika_callbacks,"function"==typeof t&&t(),"object"==typeof i)for(t=0;t<i.length;t++)(a=i[t])&&(i[t]=null,a());for(e("yandex_metrika_callback"),e("yandex_metrika_callbacks"),i=["link","click","scroll","res"],t=0;t<i.length;t++)if(a=i[t]+"map",-1!=V.href.search("ym_playback="+a)){n(X+"//old.metrika.yandex.ru/js/"+a+"/_loader.js");break}function oe(){var e=ct.getElementsByTagName("body")[0],t=ct.createElement("iframe");t.src="http://awaps.yandex.ru/0/2153/0.htm?ad=165746&pl=93829&rnd="+gt.random(),t.setAttribute("style","position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden;visibility:hidden"),e.appendChild(t),gt.setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},1e4,"ad")}dt.Ya.Metrika.informer=function(e){var t=!!Ya.Metrika._informer;Ya.Metrika._informer=e,t||n(X+"//mc.yandex.ru/metrika/informer.js")},w=function(){dt.removeEventListener("load",w,!1),oe()},x=dt.performance,gt.random(200)||Ya._metrika.isAd||(Ya._metrika.isAd=!0,"http:"==V.protocol&&"object"==typeof x&&dt.addEventListener&&(x.timing&&x.timing.loadEventStart?oe():dt.addEventListener("load",w,!1)))}(this,this.document),function(U){var Y={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};U.fn.bxSlider=function(t){if(0===this.length)return this;if(1<this.length)return this.each(function(){U(this).bxSlider(t)}),this;var c={},u=this,o=U(window).width(),a=U(window).height();if(!U(u).data("bxSlider")){function n(){U(u).data("bxSlider")||(c.settings=U.extend({},Y,t),c.settings.slideWidth=parseInt(c.settings.slideWidth),c.children=u.children(c.settings.slideSelector),c.children.length<c.settings.minSlides&&(c.settings.minSlides=c.children.length),c.children.length<c.settings.maxSlides&&(c.settings.maxSlides=c.children.length),c.settings.randomStart&&(c.settings.startSlide=Math.floor(Math.random()*c.children.length)),c.active={index:c.settings.startSlide},c.carousel=1<c.settings.minSlides||1<c.settings.maxSlides,c.carousel&&(c.settings.preloadImages="all"),c.minThreshold=c.settings.minSlides*c.settings.slideWidth+(c.settings.minSlides-1)*c.settings.slideMargin,c.maxThreshold=c.settings.maxSlides*c.settings.slideWidth+(c.settings.maxSlides-1)*c.settings.slideMargin,c.working=!1,c.controls={},c.interval=null,c.animProp="vertical"===c.settings.mode?"top":"left",c.usingCSS=c.settings.useCSS&&"fade"!==c.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<t.length;n++)if(void 0!==e.style[t[n]])return c.cssPrefix=t[n].replace("Perspective","").toLowerCase(),c.animProp="-"+c.cssPrefix+"-transform",!0;return!1}(),"vertical"===c.settings.mode&&(c.settings.maxSlides=c.settings.minSlides),u.data("origStyle",u.attr("style")),u.children(c.settings.slideSelector).each(function(){U(this).data("origStyle",U(this).attr("style"))}),d())}function r(){var e=1,t=null;return"horizontal"===c.settings.mode&&0<c.settings.slideWidth?e=c.viewport.width()<c.minThreshold?c.settings.minSlides:c.viewport.width()>c.maxThreshold?c.settings.maxSlides:(t=c.children.first().width()+c.settings.slideMargin,Math.floor((c.viewport.width()+c.settings.slideMargin)/t)||1):"vertical"===c.settings.mode&&(e=c.settings.minSlides),e}function e(){for(var e="",t="",n=y(),o=0;o<n;o++)t="",c.settings.buildPager&&U.isFunction(c.settings.buildPager)||c.settings.pagerCustom?(t=c.settings.buildPager(o),c.pagerEl.addClass("bx-custom-pager")):(t=o+1,c.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+t+"</a></div>";c.pagerEl.html(e)}function s(){u.startAuto()}function l(){u.stopAuto()}function f(e){var t=r();c.settings.ariaHidden&&!c.settings.ticker&&(c.children.attr("aria-hidden","true"),c.children.slice(e,e+t).attr("aria-hidden","false"))}var d=function(){var e=c.children.eq(c.settings.startSlide);u.wrap('<div class="'+c.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),c.viewport=u.parent(),c.settings.ariaLive&&!c.settings.ticker&&c.viewport.attr("aria-live","polite"),c.loader=U('<div class="bx-loading" />'),c.viewport.prepend(c.loader),u.css({width:"horizontal"===c.settings.mode?1e3*c.children.length+215+"%":"auto",position:"relative"}),c.usingCSS&&c.settings.easing?u.css("-"+c.cssPrefix+"-transition-timing-function",c.settings.easing):c.settings.easing||(c.settings.easing="swing"),c.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),c.viewport.parent().css({maxWidth:v()}),c.children.css({float:"horizontal"===c.settings.mode?"left":"none",listStyle:"none",position:"relative"}),c.children.css("width",g()),"horizontal"===c.settings.mode&&0<c.settings.slideMargin&&c.children.css("marginRight",c.settings.slideMargin),"vertical"===c.settings.mode&&0<c.settings.slideMargin&&c.children.css("marginBottom",c.settings.slideMargin),"fade"===c.settings.mode&&(c.children.css({position:"absolute",zIndex:0,display:"none"}),c.children.eq(c.settings.startSlide).css({zIndex:c.settings.slideZIndex,display:"block"})),c.controls.el=U('<div class="bx-controls" />'),c.settings.captions&&S(),c.active.last=c.settings.startSlide===y()-1,c.settings.video&&u.fitVids(),"all"!==c.settings.preloadImages&&!c.settings.ticker||(e=c.children),c.settings.ticker?c.settings.pager=!1:(c.settings.controls&&k(),c.settings.auto&&c.settings.autoControls&&D(),c.settings.pager&&x(),(c.settings.controls||c.settings.autoControls||c.settings.pager)&&c.viewport.after(c.controls.el)),p(e,h)},p=function(e,t){var n=e.find('img:not([src=""]), iframe').length,o=0;0!==n?e.find('img:not([src=""]), iframe').each(function(){U(this).one("load error",function(){++o===n&&t()}).each(function(){!this.complete&&""!=this.src||U(this).trigger("load")})}):t()},h=function(){if(c.settings.infiniteLoop&&"fade"!==c.settings.mode&&!c.settings.ticker){var e="vertical"===c.settings.mode?c.settings.minSlides:c.settings.maxSlides,t=c.children.slice(0,e).clone(!0).addClass("bx-clone"),n=c.children.slice(-e).clone(!0).addClass("bx-clone");c.settings.ariaHidden&&(t.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),u.append(t).prepend(n)}c.loader.remove(),C(),"vertical"===c.settings.mode&&(c.settings.adaptiveHeight=!0),c.viewport.height(m()),u.redrawSlider(),c.settings.onSliderLoad.call(u,c.active.index),c.initialized=!0,c.settings.responsive&&U(window).bind("resize",W),c.settings.auto&&c.settings.autoStart&&(1<y()||c.settings.autoSlideForOnePage)&&j(),c.settings.ticker&&I(),c.settings.pager&&L(c.settings.startSlide),c.settings.controls&&A(),c.settings.touchEnabled&&!c.settings.ticker&&O(),c.settings.keyboardEnabled&&!c.settings.ticker&&U(document).keydown(H)},m=function(){var t=0,e=U();if("vertical"===c.settings.mode||c.settings.adaptiveHeight)if(c.carousel){var n=1===c.settings.moveSlides?c.active.index:c.active.index*b();for(e=c.children.eq(n),i=1;i<=c.settings.maxSlides-1;i++)e=n+i>=c.children.length?e.add(c.children.eq(i-1)):e.add(c.children.eq(n+i))}else e=c.children.eq(c.active.index);else e=c.children;return"vertical"===c.settings.mode?(e.each(function(e){t+=U(this).outerHeight()}),0<c.settings.slideMargin&&(t+=c.settings.slideMargin*(c.settings.minSlides-1))):t=Math.max.apply(Math,e.map(function(){return U(this).outerHeight(!1)}).get()),"border-box"===c.viewport.css("box-sizing")?t+=parseFloat(c.viewport.css("padding-top"))+parseFloat(c.viewport.css("padding-bottom"))+parseFloat(c.viewport.css("border-top-width"))+parseFloat(c.viewport.css("border-bottom-width")):"padding-box"===c.viewport.css("box-sizing")&&(t+=parseFloat(c.viewport.css("padding-top"))+parseFloat(c.viewport.css("padding-bottom"))),t},v=function(){var e="100%";return 0<c.settings.slideWidth&&(e="horizontal"===c.settings.mode?c.settings.maxSlides*c.settings.slideWidth+(c.settings.maxSlides-1)*c.settings.slideMargin:c.settings.slideWidth),e},g=function(){var e=c.settings.slideWidth,t=c.viewport.width();if(0===c.settings.slideWidth||c.settings.slideWidth>t&&!c.carousel||"vertical"===c.settings.mode)e=t;else if(1<c.settings.maxSlides&&"horizontal"===c.settings.mode){if(t>c.maxThreshold)return e;t<c.minThreshold?e=(t-c.settings.slideMargin*(c.settings.minSlides-1))/c.settings.minSlides:c.settings.shrinkItems&&(e=Math.floor((t+c.settings.slideMargin)/Math.ceil((t+c.settings.slideMargin)/(e+c.settings.slideMargin))-c.settings.slideMargin))}return e},y=function(){var e=0,t=0,n=0;if(0<c.settings.moveSlides){if(!c.settings.infiniteLoop){for(;t<c.children.length;)++e,t=n+r(),n+=c.settings.moveSlides<=r()?c.settings.moveSlides:r();return n}e=Math.ceil(c.children.length/b())}else e=Math.ceil(c.children.length/r());return e},b=function(){return 0<c.settings.moveSlides&&c.settings.moveSlides<=r()?c.settings.moveSlides:r()},C=function(){var e,t,n;c.children.length>c.settings.maxSlides&&c.active.last&&!c.settings.infiniteLoop?"horizontal"===c.settings.mode?(e=(t=c.children.last()).position(),w(-(e.left-(c.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===c.settings.mode&&(n=c.children.length-c.settings.minSlides,e=c.children.eq(n).position(),w(-e.top,"reset",0)):(e=c.children.eq(c.active.index*b()).position(),c.active.index===y()-1&&(c.active.last=!0),void 0!==e&&("horizontal"===c.settings.mode?w(-e.left,"reset",0):"vertical"===c.settings.mode&&w(-e.top,"reset",0)))},w=function(e,t,n,o){var i,a;c.usingCSS?(a="vertical"===c.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",u.css("-"+c.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===t?(u.css(c.animProp,a),0!==n?u.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){U(e.target).is(u)&&(u.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),E())}):E()):"reset"===t?u.css(c.animProp,a):"ticker"===t&&(u.css("-"+c.cssPrefix+"-transition-timing-function","linear"),u.css(c.animProp,a),0!==n?u.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){U(e.target).is(u)&&(u.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(o.resetValue,"reset",0),R())}):(w(o.resetValue,"reset",0),R()))):((i={})[c.animProp]=e,"slide"===t?u.animate(i,n,c.settings.easing,function(){E()}):"reset"===t?u.css(c.animProp,e):"ticker"===t&&u.animate(i,n,"linear",function(){w(o.resetValue,"reset",0),R()}))},x=function(){c.settings.pagerCustom?c.pagerEl=U(c.settings.pagerCustom):(c.pagerEl=U('<div class="bx-pager" />'),c.settings.pagerSelector?U(c.settings.pagerSelector).html(c.pagerEl):c.controls.el.addClass("bx-has-pager").append(c.pagerEl),e()),c.pagerEl.on("click touchend","a",$)},k=function(){c.controls.next=U('<a class="bx-next" href="">'+c.settings.nextText+"</a>"),c.controls.prev=U('<a class="bx-prev" href="">'+c.settings.prevText+"</a>"),c.controls.next.bind("click touchend",T),c.controls.prev.bind("click touchend",M),c.settings.nextSelector&&U(c.settings.nextSelector).append(c.controls.next),c.settings.prevSelector&&U(c.settings.prevSelector).append(c.controls.prev),c.settings.nextSelector||c.settings.prevSelector||(c.controls.directionEl=U('<div class="bx-controls-direction" />'),c.controls.directionEl.append(c.controls.prev).append(c.controls.next),c.controls.el.addClass("bx-has-controls-direction").append(c.controls.directionEl))},D=function(){c.controls.start=U('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+c.settings.startText+"</a></div>"),c.controls.stop=U('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+c.settings.stopText+"</a></div>"),c.controls.autoEl=U('<div class="bx-controls-auto" />'),c.controls.autoEl.on("click",".bx-start",_),c.controls.autoEl.on("click",".bx-stop",P),c.settings.autoControlsCombine?c.controls.autoEl.append(c.controls.start):c.controls.autoEl.append(c.controls.start).append(c.controls.stop),c.settings.autoControlsSelector?U(c.settings.autoControlsSelector).html(c.controls.autoEl):c.controls.el.addClass("bx-has-controls-auto").append(c.controls.autoEl),N(c.settings.autoStart?"stop":"start")},S=function(){c.children.each(function(e){var t=U(this).find("img:first").attr("title");void 0!==t&&(""+t).length&&U(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},T=function(e){e.preventDefault(),c.controls.el.hasClass("disabled")||(c.settings.auto&&c.settings.stopAutoOnClick&&u.stopAuto(),u.goToNextSlide())},M=function(e){e.preventDefault(),c.controls.el.hasClass("disabled")||(c.settings.auto&&c.settings.stopAutoOnClick&&u.stopAuto(),u.goToPrevSlide())},_=function(e){u.startAuto(),e.preventDefault()},P=function(e){u.stopAuto(),e.preventDefault()},$=function(e){var t,n;e.preventDefault(),c.controls.el.hasClass("disabled")||(c.settings.auto&&c.settings.stopAutoOnClick&&u.stopAuto(),void 0!==(t=U(e.currentTarget)).attr("data-slide-index")&&(n=parseInt(t.attr("data-slide-index")))!==c.active.index&&u.goToSlide(n))},L=function(n){var e=c.children.length;if("short"===c.settings.pagerType)return 1<c.settings.maxSlides&&(e=Math.ceil(c.children.length/c.settings.maxSlides)),void c.pagerEl.html(n+1+c.settings.pagerShortSeparator+e);c.pagerEl.find("a").removeClass("active"),c.pagerEl.each(function(e,t){U(t).find("a").eq(n).addClass("active")})},E=function(){if(c.settings.infiniteLoop){var e="";0===c.active.index?e=c.children.eq(0).position():c.active.index===y()-1&&c.carousel?e=c.children.eq((y()-1)*b()).position():c.active.index===c.children.length-1&&(e=c.children.eq(c.children.length-1).position()),e&&("horizontal"===c.settings.mode?w(-e.left,"reset",0):"vertical"===c.settings.mode&&w(-e.top,"reset",0))}c.working=!1,c.settings.onSlideAfter.call(u,c.children.eq(c.active.index),c.oldIndex,c.active.index)},N=function(e){c.settings.autoControlsCombine?c.controls.autoEl.html(c.controls[e]):(c.controls.autoEl.find("a").removeClass("active"),c.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},A=function(){1===y()?(c.controls.prev.addClass("disabled"),c.controls.next.addClass("disabled")):!c.settings.infiniteLoop&&c.settings.hideControlOnEnd&&(0===c.active.index?(c.controls.prev.addClass("disabled"),c.controls.next.removeClass("disabled")):c.active.index===y()-1?(c.controls.next.addClass("disabled"),c.controls.prev.removeClass("disabled")):(c.controls.prev.removeClass("disabled"),c.controls.next.removeClass("disabled")))},j=function(){0<c.settings.autoDelay?setTimeout(u.startAuto,c.settings.autoDelay):(u.startAuto(),U(window).focus(s).blur(l)),c.settings.autoHover&&u.hover(function(){c.interval&&(u.stopAuto(!0),c.autoPaused=!0)},function(){c.autoPaused&&(u.startAuto(!0),c.autoPaused=null)})},I=function(){var e,t,n,o,i,a,r,s,l=0;"next"===c.settings.autoDirection?u.append(c.children.clone().addClass("bx-clone")):(u.prepend(c.children.clone().addClass("bx-clone")),e=c.children.first().position(),l="horizontal"===c.settings.mode?-e.left:-e.top),w(l,"reset",0),c.settings.pager=!1,c.settings.controls=!1,c.settings.autoControls=!1,c.settings.tickerHover&&(c.usingCSS?(o="horizontal"===c.settings.mode?4:5,c.viewport.hover(function(){t=u.css("-"+c.cssPrefix+"-transform"),n=parseFloat(t.split(",")[o]),w(n,"reset",0)},function(){s=0,c.children.each(function(e){s+="horizontal"===c.settings.mode?U(this).outerWidth(!0):U(this).outerHeight(!0)}),i=c.settings.speed/s,a="horizontal"===c.settings.mode?"left":"top",r=i*(s-Math.abs(parseInt(n))),R(r)})):c.viewport.hover(function(){u.stop()},function(){s=0,c.children.each(function(e){s+="horizontal"===c.settings.mode?U(this).outerWidth(!0):U(this).outerHeight(!0)}),i=c.settings.speed/s,a="horizontal"===c.settings.mode?"left":"top",r=i*(s-Math.abs(parseInt(u.css(a)))),R(r)})),R()},R=function(e){var t,n,o=e||c.settings.speed,i={left:0,top:0},a={left:0,top:0};"next"===c.settings.autoDirection?i=u.find(".bx-clone").first().position():a=c.children.first().position(),t="horizontal"===c.settings.mode?-i.left:-i.top,n="horizontal"===c.settings.mode?-a.left:-a.top,w(t,"ticker",o,{resetValue:n})},H=function(e){var t=document.activeElement.tagName.toLowerCase();if(null==new RegExp(t,["i"]).exec("input|textarea")&&function(e){var t=U(window),n={top:t.scrollTop(),left:t.scrollLeft()},o=e.offset();return n.right=n.left+t.width(),n.bottom=n.top+t.height(),o.right=o.left+e.outerWidth(),o.bottom=o.top+e.outerHeight(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)}(u)){if(39===e.keyCode)return T(e),!1;if(37===e.keyCode)return M(e),!1}},O=function(){c.touch={start:{x:0,y:0},end:{x:0,y:0}},c.viewport.bind("touchstart MSPointerDown pointerdown",F),c.viewport.on("click",".bxslider a",function(e){c.viewport.hasClass("click-disabled")&&(e.preventDefault(),c.viewport.removeClass("click-disabled"))})},F=function(e){if(c.controls.el.addClass("disabled"),c.working)e.preventDefault(),c.controls.el.removeClass("disabled");else{c.touch.originalPos=u.position();var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t];c.touch.start.x=n[0].pageX,c.touch.start.y=n[0].pageY,c.viewport.get(0).setPointerCapture&&(c.pointerId=t.pointerId,c.viewport.get(0).setPointerCapture(c.pointerId)),c.viewport.bind("touchmove MSPointerMove pointermove",z),c.viewport.bind("touchend MSPointerUp pointerup",q),c.viewport.bind("MSPointerCancel pointercancel",B)}},B=function(e){w(c.touch.originalPos.left,"reset",0),c.controls.el.removeClass("disabled"),c.viewport.unbind("MSPointerCancel pointercancel",B),c.viewport.unbind("touchmove MSPointerMove pointermove",z),c.viewport.unbind("touchend MSPointerUp pointerup",q),c.viewport.get(0).releasePointerCapture&&c.viewport.get(0).releasePointerCapture(c.pointerId)},z=function(e){var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t],o=Math.abs(n[0].pageX-c.touch.start.x),i=Math.abs(n[0].pageY-c.touch.start.y),a=0,r=0;i<3*o&&c.settings.preventDefaultSwipeX?e.preventDefault():o<3*i&&c.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==c.settings.mode&&c.settings.oneToOneTouch&&(a="horizontal"===c.settings.mode?(r=n[0].pageX-c.touch.start.x,c.touch.originalPos.left+r):(r=n[0].pageY-c.touch.start.y,c.touch.originalPos.top+r),w(a,"reset",0))},q=function(e){c.viewport.unbind("touchmove MSPointerMove pointermove",z),c.controls.el.removeClass("disabled");var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t],o=0,i=0;c.touch.end.x=n[0].pageX,c.touch.end.y=n[0].pageY,"fade"===c.settings.mode?(i=Math.abs(c.touch.start.x-c.touch.end.x))>=c.settings.swipeThreshold&&(c.touch.start.x>c.touch.end.x?u.goToNextSlide():u.goToPrevSlide(),u.stopAuto()):(o="horizontal"===c.settings.mode?(i=c.touch.end.x-c.touch.start.x,c.touch.originalPos.left):(i=c.touch.end.y-c.touch.start.y,c.touch.originalPos.top),!c.settings.infiniteLoop&&(0===c.active.index&&0<i||c.active.last&&i<0)?w(o,"reset",200):Math.abs(i)>=c.settings.swipeThreshold?(i<0?u.goToNextSlide():u.goToPrevSlide(),u.stopAuto()):w(o,"reset",200)),c.viewport.unbind("touchend MSPointerUp pointerup",q),c.viewport.get(0).releasePointerCapture&&c.viewport.get(0).releasePointerCapture(c.pointerId)},W=function(e){if(c.initialized)if(c.working)window.setTimeout(W,10);else{var t=U(window).width(),n=U(window).height();o===t&&a===n||(o=t,a=n,u.redrawSlider(),c.settings.onSliderResize.call(u,c.active.index))}};return u.goToSlide=function(e,t){var n,o,i,a,r=!0,s=0,l={left:0,top:0},d=null;if(c.oldIndex=c.active.index,c.active.index=function(e){return e<0?c.settings.infiniteLoop?y()-1:c.active.index:e>=y()?c.settings.infiniteLoop?0:c.active.index:e}(e),!c.working&&c.active.index!==c.oldIndex){if(c.working=!0,void 0!==(r=c.settings.onSlideBefore.call(u,c.children.eq(c.active.index),c.oldIndex,c.active.index))&&!r)return c.active.index=c.oldIndex,void(c.working=!1);"next"===t?c.settings.onSlideNext.call(u,c.children.eq(c.active.index),c.oldIndex,c.active.index)||(r=!1):"prev"===t&&(c.settings.onSlidePrev.call(u,c.children.eq(c.active.index),c.oldIndex,c.active.index)||(r=!1)),c.active.last=c.active.index>=y()-1,(c.settings.pager||c.settings.pagerCustom)&&L(c.active.index),c.settings.controls&&A(),"fade"===c.settings.mode?(c.settings.adaptiveHeight&&c.viewport.height()!==m()&&c.viewport.animate({height:m()},c.settings.adaptiveHeightSpeed),c.children.filter(":visible").fadeOut(c.settings.speed).css({zIndex:0}),c.children.eq(c.active.index).css("zIndex",c.settings.slideZIndex+1).fadeIn(c.settings.speed,function(){U(this).css("zIndex",c.settings.slideZIndex),E()})):(c.settings.adaptiveHeight&&c.viewport.height()!==m()&&c.viewport.animate({height:m()},c.settings.adaptiveHeightSpeed),!c.settings.infiniteLoop&&c.carousel&&c.active.last?"horizontal"===c.settings.mode?(l=(d=c.children.eq(c.children.length-1)).position(),s=c.viewport.width()-d.outerWidth()):(n=c.children.length-c.settings.minSlides,l=c.children.eq(n).position()):c.carousel&&c.active.last&&"prev"===t?(o=1===c.settings.moveSlides?c.settings.maxSlides-b():(y()-1)*b()-(c.children.length-c.settings.maxSlides),l=(d=u.children(".bx-clone").eq(o)).position()):"next"===t&&0===c.active.index?(l=u.find("> .bx-clone").eq(c.settings.maxSlides).position(),c.active.last=!1):0<=e&&(a=e*parseInt(b()),l=c.children.eq(a).position()),void 0!==l&&(i="horizontal"===c.settings.mode?-(l.left-s):-l.top,w(i,"slide",c.settings.speed)),c.working=!1),c.settings.ariaHidden&&f(c.active.index*b())}},u.goToNextSlide=function(){if((c.settings.infiniteLoop||!c.active.last)&&1!=c.working){var e=parseInt(c.active.index)+1;u.goToSlide(e,"next")}},u.goToPrevSlide=function(){if((c.settings.infiniteLoop||0!==c.active.index)&&1!=c.working){var e=parseInt(c.active.index)-1;u.goToSlide(e,"prev")}},u.startAuto=function(e){c.interval||(c.interval=setInterval(function(){"next"===c.settings.autoDirection?u.goToNextSlide():u.goToPrevSlide()},c.settings.pause),c.settings.onAutoChange.call(u,!0),c.settings.autoControls&&!0!==e&&N("stop"))},u.stopAuto=function(e){c.interval&&(clearInterval(c.interval),c.interval=null,c.settings.onAutoChange.call(u,!1),c.settings.autoControls&&!0!==e&&N("start"))},u.getCurrentSlide=function(){return c.active.index},u.getCurrentSlideElement=function(){return c.children.eq(c.active.index)},u.getSlideElement=function(e){return c.children.eq(e)},u.getSlideCount=function(){return c.children.length},u.isWorking=function(){return c.working},u.redrawSlider=function(){c.children.add(u.find(".bx-clone")).outerWidth(g()),c.viewport.css("height",m()),c.settings.ticker||C(),c.active.last&&(c.active.index=y()-1),c.active.index>=y()&&(c.active.last=!0),c.settings.pager&&!c.settings.pagerCustom&&(e(),L(c.active.index)),c.settings.ariaHidden&&f(c.active.index*b())},u.destroySlider=function(){c.initialized&&(c.initialized=!1,U(".bx-clone",this).remove(),c.children.each(function(){void 0!==U(this).data("origStyle")?U(this).attr("style",U(this).data("origStyle")):U(this).removeAttr("style")}),void 0!==U(this).data("origStyle")?this.attr("style",U(this).data("origStyle")):U(this).removeAttr("style"),U(this).unwrap().unwrap(),c.controls.el&&c.controls.el.remove(),c.controls.next&&c.controls.next.remove(),c.controls.prev&&c.controls.prev.remove(),c.pagerEl&&c.settings.controls&&!c.settings.pagerCustom&&c.pagerEl.remove(),U(".bx-caption",this).remove(),c.controls.autoEl&&c.controls.autoEl.remove(),clearInterval(c.interval),c.settings.responsive&&U(window).unbind("resize",W),c.settings.keyboardEnabled&&U(document).unbind("keydown",H),U(this).removeData("bxSlider"),U(window).off("blur",l).off("focus",s))},u.reloadSlider=function(e){void 0!==e&&(t=e),u.destroySlider(),n(),U(u).data("bxSlider",this)},n(),U(u).data("bxSlider",this),this}}}(jQuery),function(l,n){function t(e,t){this.o=l.extend({},o,t),this.e=l(e),this.init()}var o={target:"next",mode:"words",speed:"slow",truncate:10,ellipsis:"...",effect:"fade",controlBtn:"",showText:"Show more",hideText:"Hide text",showClass:"show-class",hideClass:"hide-class",atStart:"hide",lockHide:!1,dynamic:!1,changeText:!1,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null};t.prototype={init:function(){var e,t=this;t.mode=t.o.mode,t.remaining={},t.ctrlHtml=' <a href="#" data-ctrl class="'+(l.isFunction(t.o.controlBtn)?"":t.o.controlBtn)+'"></a>',l(t.e).each(function(){l(this).data("oCnt",t.e.html());var e=l.isFunction(t.o.atStart)?t.o.atStart.call(t.e):t.o.atStart;"hide"==(e=void 0!==t.e.attr("data-start")?t.e.attr("data-start"):e)?t.hide(t.e,0):t.show(t.e,0)}),l(n).on("resize",function(){t.o.dynamic&&"lines"==t.mode&&(clearTimeout(e),e=setTimeout(function(){t.reInit(t.e)},100))})},show:function(e,t){var n=this,o=l(e);void 0===t&&(t=n.o.speed);function i(){l.isFunction(n.o.afterShow)&&n.o.afterShow.call(n.e,n)}switch(l.isFunction(n.o.beforeShow)&&n.o.beforeShow.call(n.e,n),n.mode){case"chars":case"words":var a=o.height();o.html(o.data("tHTML"));var r=o.height();o.height(a),o.animate({height:r},t,function(){o.height("auto"),i()}).removeClass(n.o.hideClass).addClass(n.o.showClass),o.data("tHTML",o.html());break;case"lines":0==o.children("div").length&&o.wrapInner("<div>");var s=o.children("div");a=s.height(),r=s.html(o.data("oCnt")).css("height","").height();s.css("height",a),s.animate({height:r},t,function(){s.height("auto"),i()}),o.removeClass(n.o.hideClass).addClass(n.o.showClass);break;case"block":n.blockMode(o,"show",t,i)}if((n.status=1)==n.o.lockHide)return o.find("[data-ctrl]").remove(),"";"block"==n.mode?o.off("click.coll").on("click.coll",function(e){e.preventDefault(),n.hide(o)}):(0!=o.find("[data-ctrl]").length||l.isFunction(n.o.controlBtn)||o.append(n.ctrlHtml),n.ctrlBtn=l.isFunction(n.o.controlBtn)?n.o.controlBtn.call(n.e):l(o.find("[data-ctrl]")),n.ctrlBtn.off("click.coll").on("click.coll",function(e){e.preventDefault(),n.hide(o)}).html(n.o.hideText))},hide:function(e,t){var n=this,o=l(e);void 0===t&&(t=n.o.speed);var i=function(){l.isFunction(n.o.afterHide)&&n.o.afterHide.call(n.e,n)};switch(l.isFunction(n.o.beforeHide)&&n.o.beforeHide.call(n.e,n),o.find("[data-ctrl]").remove(),n.mode){case"chars":var a=l.trim(o.text());n.remaining.chars=a.length-n.o.truncate,a.length>n.o.truncate&&(o.data("tHTML",o.html()),a=n.pad(a.slice(0,n.o.truncate),a.slice(n.o.truncate,a.length)),o.html(a).removeClass(n.o.showClass).addClass(n.o.hideClass),i());break;case"words":a=(a=l.trim(o.text())).split(" "),n.remaining.words=a.length-n.o.truncate,a.length>n.o.truncate&&(o.data("tHTML",o.html()),a=n.pad(a.slice(0,n.o.truncate).join(" "),a.slice(n.o.truncate,a.length).join(" ")),o.html(a).removeClass(n.o.showClass).addClass(n.o.hideClass),i());break;case"lines":0==o.children("div").length&&o.wrapInner("<div>"),(a=o.children("div").css("height","")).html(a.text());var r=a.height();void 0===o.data("lHeight")?(temp=a.clone(),lHeight=temp.text("a").insertAfter(a).height(),o.data("lHeight",lHeight),a.next().remove()):lHeight=o.data("lHeight"),lines=r/lHeight,n.remaining.lines=lines-n.o.truncate,0<n.remaining.lines&&(a.css("overflow","hidden"),a.animate({height:lHeight*n.o.truncate},t).data("tHeight",r),o.removeClass(n.o.showClass).addClass(n.o.hideClass),0!=o.find("[data-ctrl]").length||l.isFunction(n.o.controlBtn)||o.append(n.ctrlHtml),i());break;case"block":n.blockMode(o,"hide",t,i)}n.status=0,"block"==n.mode?o.unbind("click.coll").bind("click.coll",function(e){e.preventDefault(),n.show(o)}):(n.ctrlBtn=l.isFunction(n.o.controlBtn)?n.o.controlBtn.call(n.e):l(o.find("[data-ctrl]")),n.ctrlBtn.off("click.coll").on("click.coll",function(e){e.preventDefault(),n.show(o)}).html(n.o.showText),a={chars:["character","characters"],words:["word","words"],lines:["lines","lines"]},i=(i=n.o.showText).replace("%s",n.remaining[n.mode]+(1==n.remaining[n.mode]?" "+a[n.mode][0]:" "+a[n.mode][1])),n.ctrlBtn.html(i))},pad:function(e,t){return e+'<span class="coll-ellipsis">'+this.o.ellipsis+"</span>"+(l.isFunction(this.o.ctrlBtn)?"":this.ctrlHtml)+'<span class="coll-hidden" style="display:none">'+t+"</span>"},blockMode:function(e,t,n,o){var i=["fadeOut","slideUp","fadeIn","slideDown"],a="fade"==this.o.effect?0:1;i="hide"==t?i[a]:i[2+a];l.isFunction(this.o.target)?this.o.target.call(this.e)[i](n,o):l.fn[this.o.target]&&l(e)[this.o.target]()[i](n,o),"show"==t?(e.removeClass(this.o.showClass).addClass(this.o.hideClass),this.o.changeText&&e.text(this.o.hideText)):(e.removeClass(this.o.hideClass).addClass(this.o.showClass),this.o.changeText&&e.text(this.o.showText))},reInit:function(e){e.find("[data-ctrl]").remove(),e.html(this.e.data("oCnt")),0==this.status?this.hide(e,0):this.show(e,0)}},l.fn.collapser=function(e){return this.each(function(){l.data(this,"collapser")||l.data(this,"collapser",new t(this,e))})}}(jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(le){le.fn.jScrollPane=function(n){function o(d,e){function c(e){var t,n,o,i,a,r,s=!1,l=!1;if(M=e,void 0===_)a=d.scrollTop(),r=d.scrollLeft(),d.css({overflow:"hidden",padding:0}),P=d.innerWidth()+ie,$=d.innerHeight(),d.width(P),_=le('<div class="jspPane" />').css("padding",oe).append(d.children()),L=le('<div class="jspContainer" />').css({width:P+"px",height:$+"px"}).append(_).appendTo(d);else{if(d.css("width",""),s=M.stickToBottom&&function(){var e=N-$;return 20<e&&e-S()<10}(),l=M.stickToRight&&function(){var e=E-P;return 20<e&&e-D()<10}(),(i=d.innerWidth()+ie!=P||d.outerHeight()!=$)&&(P=d.innerWidth()+ie,$=d.innerHeight(),L.css({width:P+"px",height:$+"px"})),!i&&ae==E&&_.outerHeight()==N)return void d.width(P);ae=E,_.css("width",""),d.width(P),L.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}_.css("overflow","auto"),E=e.contentWidth?e.contentWidth:_[0].scrollWidth,N=_[0].scrollHeight,_.css("overflow",""),I=1<(j=N/$),(R=1<(A=E/P))||I?(d.addClass("jspScrollable"),(t=M.maintainPosition&&(F||q))&&(n=D(),o=S()),I&&(L.append(le('<div class="jspVerticalBar" />').append(le('<div class="jspCap jspCapTop" />'),le('<div class="jspTrack" />').append(le('<div class="jspDrag" />').append(le('<div class="jspDragTop" />'),le('<div class="jspDragBottom" />'))),le('<div class="jspCap jspCapBottom" />'))),W=L.find(">.jspVerticalBar"),U=W.find(">.jspTrack"),H=U.find(">.jspDrag"),M.showArrows&&(X=le('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",h(0,-1)).bind("click.jsp",T),G=le('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",h(0,1)).bind("click.jsp",T),M.arrowScrollOnHover&&(X.bind("mouseover.jsp",h(0,-1,X)),G.bind("mouseover.jsp",h(0,1,G))),p(U,M.verticalArrowPositions,X,G)),Y=$,L.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){Y-=le(this).outerHeight()}),H.hover(function(){H.addClass("jspHover")},function(){H.removeClass("jspHover")}).bind("mousedown.jsp",function(e){le("html").bind("dragstart.jsp selectstart.jsp",T),H.addClass("jspActive");var t=e.pageY-H.position().top;return le("html").bind("mousemove.jsp",function(e){g(e.pageY-t,!1)}).bind("mouseup.jsp mouseleave.jsp",v),!1}),u()),R&&(L.append(le('<div class="jspHorizontalBar" />').append(le('<div class="jspCap jspCapLeft" />'),le('<div class="jspTrack" />').append(le('<div class="jspDrag" />').append(le('<div class="jspDragLeft" />'),le('<div class="jspDragRight" />'))),le('<div class="jspCap jspCapRight" />'))),J=L.find(">.jspHorizontalBar"),K=J.find(">.jspTrack"),B=K.find(">.jspDrag"),M.showArrows&&(ee=le('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",h(-1,0)).bind("click.jsp",T),te=le('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",h(1,0)).bind("click.jsp",T),M.arrowScrollOnHover&&(ee.bind("mouseover.jsp",h(-1,0,ee)),te.bind("mouseover.jsp",h(1,0,te))),p(K,M.horizontalArrowPositions,ee,te)),B.hover(function(){B.addClass("jspHover")},function(){B.removeClass("jspHover")}).bind("mousedown.jsp",function(e){le("html").bind("dragstart.jsp selectstart.jsp",T),B.addClass("jspActive");var t=e.pageX-B.position().left;return le("html").bind("mousemove.jsp",function(e){b(e.pageX-t,!1)}).bind("mouseup.jsp mouseleave.jsp",v),!1}),Q=L.innerWidth(),f()),function(){if(R&&I){var e=K.outerHeight(),t=U.outerWidth();Y-=e,le(J).find(">.jspCap:visible,>.jspArrow").each(function(){Q+=le(this).outerWidth()}),Q-=t,$-=t,P-=e,K.parent().append(le('<div class="jspCorner" />').css("width",e+"px")),u(),f()}R&&_.width(L.outerWidth()-ie+"px"),N=_.outerHeight(),j=N/$,R&&((Z=Math.ceil(1/A*Q))>M.horizontalDragMaxWidth?Z=M.horizontalDragMaxWidth:Z<M.horizontalDragMinWidth&&(Z=M.horizontalDragMinWidth),B.width(Z+"px"),z=Q-Z,C(q)),I&&((V=Math.ceil(1/j*Y))>M.verticalDragMaxHeight?V=M.verticalDragMaxHeight:V<M.verticalDragMinHeight&&(V=M.verticalDragMinHeight),H.height(V+"px"),O=Y-V,y(F))}(),t&&(x(l?E-P:n,!1),w(s?N-$:o,!1)),_.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){k(e.target,!1)}),L.unbind(se).bind(se,function(e,t,n,o){var i=q=q||0,a=F=F||0,r=e.deltaFactor||M.mouseWheelSpeed;return re.scrollBy(n*r,-o*r,!1),i==q&&a==F}),function(){var i,a,r,s,l,d=!1;L.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var t=e.originalEvent.touches[0];i=D(),a=S(),r=t.pageX,s=t.pageY,d=!(l=!1)}).bind("touchmove.jsp",function(e){if(d){var t=e.originalEvent.touches[0],n=q,o=F;return re.scrollTo(i+r-t.pageX,a+s-t.pageY),l=l||5<Math.abs(r-t.pageX)||5<Math.abs(s-t.pageY),n==q&&o==F}}).bind("touchend.jsp",function(){d=!1}).bind("click.jsp-touchclick",function(){return l?l=!1:void 0})}(),M.enableKeyboardNavigation&&function(){function o(){var e=q,t=F;switch(i){case 40:re.scrollByY(M.keyboardSpeed,!1);break;case 38:re.scrollByY(-M.keyboardSpeed,!1);break;case 34:case 32:re.scrollByY($*M.scrollPagePercent,!1);break;case 33:re.scrollByY(-$*M.scrollPagePercent,!1);break;case 39:re.scrollByX(M.keyboardSpeed,!1);break;case 37:re.scrollByX(-M.keyboardSpeed,!1)}return a=e!=q||t!=F}var i,a,r=[];R&&r.push(J[0]),I&&r.push(W[0]),_.focus(function(){d.focus()}),d.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target===this||r.length&&le(e.target).closest(r).length){var t=q,n=F;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=e.keyCode,o();break;case 35:w(N-$),i=null;break;case 36:w(0),i=null}return!(a=e.keyCode==i&&t!=q||n!=F)}}).bind("keypress.jsp",function(e){return e.keyCode==i&&o(),!a}),M.hideFocus?(d.css("outline","none"),"hideFocus"in L[0]&&d.attr("hideFocus",!0)):(d.css("outline",""),"hideFocus"in L[0]&&d.attr("hideFocus",!1))}(),M.clickOnTrack&&(m(),I&&U.bind("mousedown.jsp",function(i){if(void 0===i.originalTarget||i.originalTarget==i.currentTarget){var a,r=le(this),e=r.offset(),s=i.pageY-e.top-F,l=!0,d=function(){var e=r.offset(),t=i.pageY-e.top-V/2,n=$*M.scrollPagePercent,o=O*n/(N-$);if(s<0)t<F-o?re.scrollByY(-n):g(t);else{if(!(0<s))return void c();F+o<t?re.scrollByY(n):g(t)}a=setTimeout(d,l?M.initialDelay:M.trackClickRepeatFreq),l=!1},c=function(){a&&clearTimeout(a),a=null,le(document).unbind("mouseup.jsp",c)};return d(),le(document).bind("mouseup.jsp",c),!1}}),R&&K.bind("mousedown.jsp",function(i){if(void 0===i.originalTarget||i.originalTarget==i.currentTarget){var a,r=le(this),e=r.offset(),s=i.pageX-e.left-q,l=!0,d=function(){var e=r.offset(),t=i.pageX-e.left-Z/2,n=P*M.scrollPagePercent,o=z*n/(E-P);if(s<0)t<q-o?re.scrollByX(-n):b(t);else{if(!(0<s))return void c();q+o<t?re.scrollByX(n):b(t)}a=setTimeout(d,l?M.initialDelay:M.trackClickRepeatFreq),l=!1},c=function(){a&&clearTimeout(a),a=null,le(document).unbind("mouseup.jsp",c)};return d(),le(document).bind("mouseup.jsp",c),!1}})),function(){if(location.hash&&1<location.hash.length){var e,t,n=escape(location.hash.substr(1));try{e=le("#"+n+', a[name="'+n+'"]')}catch(e){return}e.length&&_.find(n)&&(0===L.scrollTop()?t=setInterval(function(){0<L.scrollTop()&&(k(e,!0),le(document).scrollTop(L.position().top),clearInterval(t))},50):(k(e,!0),le(document).scrollTop(L.position().top)))}}(),M.hijackInternalLinks&&(le(document.body).data("jspHijack")||(le(document.body).data("jspHijack",!0),le(document.body).delegate("a[href*=#]","click",function(e){var t,n,o,i,a,r=this.href.substr(0,this.href.indexOf("#")),s=location.href;if(-1!==location.href.indexOf("#")&&(s=location.href.substr(0,location.href.indexOf("#"))),r===s){t=escape(this.href.substr(this.href.indexOf("#")+1));try{n=le("#"+t+', a[name="'+t+'"]')}catch(e){return}n.length&&((o=n.closest(".jspScrollable")).data("jsp").scrollToElement(n,!0),o[0].scrollIntoView&&(i=le(window).scrollTop(),((a=n.offset().top)<i||a>i+le(window).height())&&o[0].scrollIntoView()),e.preventDefault())}})))):(d.removeClass("jspScrollable"),_.css({top:0,left:0,width:L.width()-ie}),L.unbind(se),_.find(":input,a").unbind("focus.jsp"),d.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),m()),M.autoReinitialise&&!ne?ne=setInterval(function(){c(M)},M.autoReinitialiseDelay):!M.autoReinitialise&&ne&&clearInterval(ne),a&&d.scrollTop(0)&&w(a,!1),r&&d.scrollLeft(0)&&x(r,!1),d.trigger("jsp-initialised",[R||I])}function u(){U.height(Y+"px"),F=0,t=M.verticalGutter+U.outerWidth(),_.width(P-t-ie);try{0===W.position().left&&_.css("margin-left",t+"px")}catch(e){}}function f(){L.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){Q-=le(this).outerWidth()}),K.width(Q+"px"),q=0}function p(e,t,n,o){var i,a="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==a?r=t:t==r&&(a=t,i=n,n=o,o=i),e[a](n)[r](o)}function h(e,t,n){return function(){return function(e,t,n,o){n=le(n).addClass("jspActive");var i,a,r=!0,s=function(){0!==e&&re.scrollByX(e*M.arrowButtonSpeed),0!==t&&re.scrollByY(t*M.arrowButtonSpeed),a=setTimeout(s,r?M.initialDelay:M.arrowRepeatFreq),r=!1};s(),i=o?"mouseout.jsp":"mouseup.jsp",(o=o||le("html")).bind(i,function(){n.removeClass("jspActive"),a&&clearTimeout(a),a=null,o.unbind(i)})}(e,t,this,n),this.blur(),!1}}function m(){K&&K.unbind("mousedown.jsp"),U&&U.unbind("mousedown.jsp")}function v(){le("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),H&&H.removeClass("jspActive"),B&&B.removeClass("jspActive")}function g(e,t){I&&(e<0?e=0:O<e&&(e=O),void 0===t&&(t=M.animateScroll),t?re.animate(H,"top",e,y):(H.css("top",e),y(e)))}function y(e){void 0===e&&(e=H.position().top),L.scrollTop(0);var t=0===(F=e||0),n=F==O,o=-(e/O)*(N-$);i==t&&r==n||(i=t,r=n,d.trigger("jsp-arrow-change",[i,r,a,s])),function(e,t){M.showArrows&&(X[e?"addClass":"removeClass"]("jspDisabled"),G[t?"addClass":"removeClass"]("jspDisabled"))}(t,n),_.css("top",o),d.trigger("jsp-scroll-y",[-o,t,n]).trigger("scroll")}function b(e,t){R&&(e<0?e=0:z<e&&(e=z),void 0===t&&(t=M.animateScroll),t?re.animate(B,"left",e,C):(B.css("left",e),C(e)))}function C(e){void 0===e&&(e=B.position().left),L.scrollTop(0);var t=0===(q=e||0),n=q==z,o=-(e/z)*(E-P);a==t&&s==n||(a=t,s=n,d.trigger("jsp-arrow-change",[i,r,a,s])),function(e,t){M.showArrows&&(ee[e?"addClass":"removeClass"]("jspDisabled"),te[t?"addClass":"removeClass"]("jspDisabled"))}(t,n),_.css("left",o),d.trigger("jsp-scroll-x",[-o,t,n]).trigger("scroll")}function w(e,t){g(e/(N-$)*O,t)}function x(e,t){b(e/(E-P)*z,t)}function k(e,t,n){var o,i,a,r,s,l,d,c,u,f=0,p=0;try{o=le(e)}catch(e){return}for(i=o.outerHeight(),a=o.outerWidth(),L.scrollTop(0),L.scrollLeft(0);!o.is(".jspPane");)if(f+=o.position().top,p+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;l=(r=S())+$,f<r||t?c=f-M.horizontalGutter:l<f+i&&(c=f-$+i+M.horizontalGutter),isNaN(c)||w(c,n),d=(s=D())+P,p<s||t?u=p-M.horizontalGutter:d<p+a&&(u=p-P+a+M.horizontalGutter),isNaN(u)||x(u,n)}function D(){return-_.position().left}function S(){return-_.position().top}function T(){return!1}var M,_,P,$,L,E,N,A,j,I,R,H,O,F,B,z,q,W,U,t,Y,V,X,G,J,K,Q,Z,ee,te,ne,oe,ie,ae,re=this,i=!0,a=!0,r=!1,s=!1,n=d.clone(!1,!1).empty(),se=le.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";ie="border-box"===d.css("box-sizing")?oe=0:(oe=d.css("paddingTop")+" "+d.css("paddingRight")+" "+d.css("paddingBottom")+" "+d.css("paddingLeft"),(parseInt(d.css("paddingLeft"),10)||0)+(parseInt(d.css("paddingRight"),10)||0)),le.extend(re,{reinitialise:function(e){c(e=le.extend({},M,e))},scrollToElement:function(e,t,n){k(e,t,n)},scrollTo:function(e,t,n){x(e,n),w(t,n)},scrollToX:function(e,t){x(e,t)},scrollToY:function(e,t){w(e,t)},scrollToPercentX:function(e,t){x(e*(E-P),t)},scrollToPercentY:function(e,t){w(e*(N-$),t)},scrollBy:function(e,t,n){re.scrollByX(e,n),re.scrollByY(t,n)},scrollByX:function(e,t){b((D()+Math[e<0?"floor":"ceil"](e))/(E-P)*z,t)},scrollByY:function(e,t){g((S()+Math[e<0?"floor":"ceil"](e))/(N-$)*O,t)},positionDragX:function(e,t){b(e,t)},positionDragY:function(e,t){g(e,t)},animate:function(e,t,n,o){var i={};i[t]=n,e.animate(i,{duration:M.animateDuration,easing:M.animateEase,queue:!1,step:o})},getContentPositionX:function(){return D()},getContentPositionY:function(){return S()},getContentWidth:function(){return E},getContentHeight:function(){return N},getPercentScrolledX:function(){return D()/(E-P)},getPercentScrolledY:function(){return S()/(N-$)},getIsScrollableH:function(){return R},getIsScrollableV:function(){return I},getContentPane:function(){return _},scrollToBottom:function(e){g(O,e)},hijackInternalLinks:le.noop,destroy:function(){!function(){var e=S(),t=D();d.removeClass("jspScrollable").unbind(".jsp"),d.replaceWith(n.append(_.children())),n.scrollTop(e),n.scrollLeft(t),ne&&clearInterval(ne)}()}}),c(e)}return n=le.extend({},le.fn.jScrollPane.defaults,n),le.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){n[this]=n[this]||n.speed}),this.each(function(){var e=le(this),t=e.data("jsp");t?t.reinitialise(n):(le("script",e).filter('[type="text/javascript"],:not([type])').remove(),t=new o(e,n),e.data("jsp",t))})},le.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(c){function e(){}function u(e,t){m.ev.on("mfp"+e+n,t)}function f(e,t,n,o){var i=document.createElement("div");return i.className="mfp-"+e,n&&(i.innerHTML=n),o?t&&t.appendChild(i):(i=c(i),t&&i.appendTo(t)),i}function p(e,t){m.ev.triggerHandler("mfp"+e,t),m.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),m.st.callbacks[e]&&m.st.callbacks[e].apply(m,c.isArray(t)?t:[t]))}function h(e){return e===t&&m.currTemplate.closeBtn||(m.currTemplate.closeBtn=c(m.st.closeMarkup.replace("%title%",m.st.tClose)),t=e),m.currTemplate.closeBtn}function a(){c.magnificPopup.instance||((m=new e).init(),c.magnificPopup.instance=m)}var m,o,v,i,g,t,s="Close",l="BeforeClose",y="MarkupParse",n=".mfp",b="mfp-ready",r="mfp-removing",d="mfp-prevent-close",C=!!window.jQuery,w=c(window);e.prototype={constructor:e,init:function(){var e=navigator.appVersion;m.isIE7=-1!==e.indexOf("MSIE 7."),m.isIE8=-1!==e.indexOf("MSIE 8."),m.isLowIE=m.isIE7||m.isIE8,m.isAndroid=/android/gi.test(e),m.isIOS=/iphone|ipad|ipod/gi.test(e),m.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),m.probablyMobile=m.isAndroid||m.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),v=c(document),m.popupsCache={}},open:function(e){var t;if(!1===e.isObj){m.items=e.items.toArray(),m.index=0;var n,o=e.items;for(t=0;t<o.length;t++)if((n=o[t]).parsed&&(n=n.el[0]),n===e.el[0]){m.index=t;break}}else m.items=c.isArray(e.items)?e.items:[e.items],m.index=e.index||0;if(!m.isOpen){m.types=[],g="",m.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):v,e.key?(m.popupsCache[e.key]||(m.popupsCache[e.key]={}),m.currTemplate=m.popupsCache[e.key]):m.currTemplate={},m.st=c.extend(!0,{},c.magnificPopup.defaults,e),m.fixedContentPos="auto"===m.st.fixedContentPos?!m.probablyMobile:m.st.fixedContentPos,m.st.modal&&(m.st.closeOnContentClick=!1,m.st.closeOnBgClick=!1,m.st.showCloseBtn=!1,m.st.enableEscapeKey=!1),m.bgOverlay||(m.bgOverlay=f("bg").on("click.mfp",function(){m.close()}),m.wrap=f("wrap").attr("tabindex",-1).on("click.mfp",function(e){m._checkIfClose(e.target)&&m.close()}),m.container=f("container",m.wrap)),m.contentContainer=f("content"),m.st.preloader&&(m.preloader=f("preloader",m.container,m.st.tLoading));var i=c.magnificPopup.modules;for(t=0;t<i.length;t++){var a=i[t];a=a.charAt(0).toUpperCase()+a.slice(1),m["init"+a].call(m)}p("BeforeOpen"),m.st.showCloseBtn&&(m.st.closeBtnInside?(u(y,function(e,t,n,o){n.close_replaceWith=h(o.type)}),g+=" mfp-close-btn-in"):m.wrap.append(h())),m.st.alignTop&&(g+=" mfp-align-top"),m.wrap.css(m.fixedContentPos?{overflow:m.st.overflowY,overflowX:"hidden",overflowY:m.st.overflowY}:{top:w.scrollTop(),position:"absolute"}),!1!==m.st.fixedBgPos&&("auto"!==m.st.fixedBgPos||m.fixedContentPos)||m.bgOverlay.css({height:v.height(),position:"absolute"}),m.st.enableEscapeKey&&v.on("keyup.mfp",function(e){27===e.keyCode&&m.close()}),w.on("resize.mfp",function(){m.updateSize()}),m.st.closeOnContentClick||(g+=" mfp-auto-cursor"),g&&m.wrap.addClass(g);var r=m.wH=w.height(),s={};if(m.fixedContentPos&&m._hasScrollBar(r)){var l=m._getScrollbarSize();l&&(s.marginRight=l)}m.fixedContentPos&&(m.isIE7?c("body, html").css("overflow","hidden"):s.overflow="hidden");var d=m.st.mainClass;return m.isIE7&&(d+=" mfp-ie7"),d&&m._addClassToMFP(d),m.updateItemHTML(),p("BuildControls"),c("html").css(s),m.bgOverlay.add(m.wrap).prependTo(m.st.prependTo||c(document.body)),m._lastFocusedEl=document.activeElement,setTimeout(function(){m.content?(m._addClassToMFP(b),m._setFocus()):m.bgOverlay.addClass(b),v.on("focusin.mfp",m._onFocusIn)},16),m.isOpen=!0,m.updateSize(r),p("Open"),e}m.updateItemHTML()},close:function(){m.isOpen&&(p(l),m.isOpen=!1,m.st.removalDelay&&!m.isLowIE&&m.supportsTransition?(m._addClassToMFP(r),setTimeout(function(){m._close()},m.st.removalDelay)):m._close())},_close:function(){p(s);var e=r+" "+b+" ";if(m.bgOverlay.detach(),m.wrap.detach(),m.container.empty(),m.st.mainClass&&(e+=m.st.mainClass+" "),m._removeClassFromMFP(e),m.fixedContentPos){var t={marginRight:""};m.isIE7?c("body, html").css("overflow",""):t.overflow="",c("html").css(t)}v.off("keyup.mfp focusin.mfp"),m.ev.off(n),m.wrap.attr("class","mfp-wrap").removeAttr("style"),m.bgOverlay.attr("class","mfp-bg"),m.container.attr("class","mfp-container"),!m.st.showCloseBtn||m.st.closeBtnInside&&!0!==m.currTemplate[m.currItem.type]||m.currTemplate.closeBtn&&m.currTemplate.closeBtn.detach(),m._lastFocusedEl&&c(m._lastFocusedEl).focus(),m.currItem=null,m.content=null,m.currTemplate=null,m.prevHeight=0,p("AfterClose")},updateSize:function(e){if(m.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;m.wrap.css("height",n),m.wH=n}else m.wH=e||w.height();m.fixedContentPos||m.wrap.css("height",m.wH),p("Resize")},updateItemHTML:function(){var e=m.items[m.index];m.contentContainer.detach(),m.content&&m.content.detach(),e.parsed||(e=m.parseEl(m.index));var t=e.type;if(p("BeforeChange",[m.currItem?m.currItem.type:"",t]),m.currItem=e,!m.currTemplate[t]){var n=!!m.st[t]&&m.st[t].markup;p("FirstMarkupParse",n),m.currTemplate[t]=!n||c(n)}i&&i!==e.type&&m.container.removeClass("mfp-"+i+"-holder");var o=m["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,m.currTemplate[t]);m.appendContent(o,t),e.preloaded=!0,p("Change",e),i=e.type,m.container.prepend(m.contentContainer),p("AfterChange")},appendContent:function(e,t){(m.content=e)?m.st.showCloseBtn&&m.st.closeBtnInside&&!0===m.currTemplate[t]?m.content.find(".mfp-close").length||m.content.append(h()):m.content=e:m.content="",p("BeforeAppend"),m.container.addClass("mfp-"+t+"-holder"),m.contentContainer.append(m.content)},parseEl:function(e){var t,n=m.items[e];if((n=n.tagName?{el:c(n)}:(t=n.type,{data:n,src:n.src})).el){for(var o=m.types,i=0;i<o.length;i++)if(n.el.hasClass("mfp-"+o[i])){t=o[i];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=t||m.st.type||"inline",n.index=e,n.parsed=!0,m.items[e]=n,p("ElementParse",n),m.items[e]},addGroup:function(t,n){function e(e){e.mfpEl=this,m._openClick(e,t,n)}var o="click.magnificPopup";(n=n||{}).mainEl=t,n.items?(n.isObj=!0,t.off(o).on(o,e)):(n.isObj=!1,n.delegate?t.off(o).on(o,n.delegate,e):(n.items=t).off(o).on(o,e))},_openClick:function(e,t,n){if((void 0!==n.midClick?n.midClick:c.magnificPopup.defaults.midClick)||2!==e.which&&!e.ctrlKey&&!e.metaKey){var o=void 0!==n.disableOn?n.disableOn:c.magnificPopup.defaults.disableOn;if(o)if(c.isFunction(o)){if(!o.call(m))return!0}else if(w.width()<o)return!0;e.type&&(e.preventDefault(),m.isOpen&&e.stopPropagation()),n.el=c(e.mfpEl),n.delegate&&(n.items=t.find(n.delegate)),m.open(n)}},updateStatus:function(e,t){if(m.preloader){o!==e&&m.container.removeClass("mfp-s-"+o),t||"loading"!==e||(t=m.st.tLoading);var n={status:e,text:t};p("UpdateStatus",n),e=n.status,t=n.text,m.preloader.html(t),m.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),m.container.addClass("mfp-s-"+e),o=e}},_checkIfClose:function(e){if(!c(e).hasClass(d)){var t=m.st.closeOnContentClick,n=m.st.closeOnBgClick;if(t&&n)return!0;if(!m.content||c(e).hasClass("mfp-close")||m.preloader&&e===m.preloader[0])return!0;if(e===m.content[0]||c.contains(m.content[0],e)){if(t)return!0}else if(n&&c.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){m.bgOverlay.addClass(e),m.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),m.wrap.removeClass(e)},_hasScrollBar:function(e){return(m.isIE7?v.height():document.body.scrollHeight)>(e||w.height())},_setFocus:function(){(m.st.focus?m.content.find(m.st.focus).eq(0):m.wrap).focus()},_onFocusIn:function(e){return e.target===m.wrap[0]||c.contains(m.wrap[0],e.target)?void 0:(m._setFocus(),!1)},_parseMarkup:function(i,e,t){var a;t.data&&(e=c.extend(t.data,e)),p(y,[i,e,t]),c.each(e,function(e,t){if(void 0===t||!1===t)return!0;if(1<(a=e.split("_")).length){var n=i.find(".mfp-"+a[0]);if(0<n.length){var o=a[1];"replaceWith"===o?n[0]!==t[0]&&n.replaceWith(t):"img"===o?n.is("img")?n.attr("src",t):n.replaceWith('<img src="'+t+'" class="'+n.attr("class")+'" />'):n.attr(a[1],t)}}else i.find(".mfp-"+e).html(t)})},_getScrollbarSize:function(){if(void 0===m.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),m.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return m.scrollbarSize}},c.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return a(),(e=e?c.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return c.magnificPopup.instance&&c.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(c.magnificPopup.defaults[e]=t.options),c.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},c.fn.magnificPopup=function(e){a();var t=c(this);if("string"==typeof e)if("open"===e){var n,o=C?t.data("magnificPopup"):t[0].magnificPopup,i=parseInt(arguments[1],10)||0;n=o.items?o.items[i]:(n=t,o.delegate&&(n=n.find(o.delegate)),n.eq(i)),m._openClick({mfpEl:n},t,o)}else m.isOpen&&m[e].apply(m,Array.prototype.slice.call(arguments,1));else e=c.extend(!0,{},e),C?t.data("magnificPopup",e):t[0].magnificPopup=e,m.addGroup(t,e);return t};function x(){S&&(D.after(S.addClass(k)).detach(),S=null)}var k,D,S,T="inline";c.magnificPopup.registerModule(T,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){m.types.push(T),u(s+"."+T,function(){x()})},getInline:function(e,t){if(x(),e.src){var n=m.st.inline,o=c(e.src);if(o.length){var i=o[0].parentNode;i&&i.tagName&&(D||(k=n.hiddenClass,D=f(k),k="mfp-"+k),S=o.after(D).detach().removeClass(k)),m.updateStatus("ready")}else m.updateStatus("error",n.tNotFound),o=c("<div>");return e.inlineElement=o}return m.updateStatus("ready"),m._parseMarkup(t,{},e),t}}});function M(){P&&c(document.body).removeClass(P)}function _(){M(),m.req&&m.req.abort()}var P,$="ajax";c.magnificPopup.registerModule($,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){m.types.push($),P=m.st.ajax.cursor,u(s+"."+$,_),u("BeforeChange.ajax",_)},getAjax:function(i){P&&c(document.body).addClass(P),m.updateStatus("loading");var e=c.extend({url:i.src,success:function(e,t,n){var o={data:e,xhr:n};p("ParseAjax",o),m.appendContent(c(o.data),$),i.finished=!0,M(),m._setFocus(),setTimeout(function(){m.wrap.addClass(b)},16),m.updateStatus("ready"),p("AjaxContentAdded")},error:function(){M(),i.finished=i.loadError=!0,m.updateStatus("error",m.st.ajax.tError.replace("%url%",i.src))}},m.st.ajax.settings);return m.req=c.ajax(e),""}}});var L;c.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=m.st.image,t=".image";m.types.push("image"),u("Open"+t,function(){"image"===m.currItem.type&&e.cursor&&c(document.body).addClass(e.cursor)}),u(s+t,function(){e.cursor&&c(document.body).removeClass(e.cursor),w.off("resize.mfp")}),u("Resize"+t,m.resizeImage),m.isLowIE&&u("AfterChange",m.resizeImage)},resizeImage:function(){var e=m.currItem;if(e&&e.img&&m.st.image.verticalFit){var t=0;m.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",m.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,L&&clearInterval(L),e.isCheckingImgSize=!1,p("ImageHasSize",e),e.imgHidden&&(m.content&&m.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var n=0,o=t.img[0],i=function(e){L&&clearInterval(L),L=setInterval(function(){return 0<o.naturalWidth?void m._onImageHasSize(t):(200<n&&clearInterval(L),void(3===++n?i(10):40===n?i(50):100===n&&i(500)))},e)};i(1)},getImage:function(e,t){var n=0,o=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===m.currItem&&(m._onImageHasSize(e),m.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,p("ImageLoadComplete")):++n<200?setTimeout(o,100):i())},i=function(){e&&(e.img.off(".mfploader"),e===m.currItem&&(m._onImageHasSize(e),m.updateStatus("error",a.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},a=m.st.image,r=t.find(".mfp-img");if(r.length){var s=document.createElement("img");s.className="mfp-img",e.el&&e.el.find("img").length&&(s.alt=e.el.find("img").attr("alt")),e.img=c(s).on("load.mfploader",o).on("error.mfploader",i),s.src=e.src,r.is("img")&&(e.img=e.img.clone()),0<(s=e.img[0]).naturalWidth?e.hasSize=!0:s.width||(e.hasSize=!1)}return m._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=m.st.image.titleSrc;if(t){if(c.isFunction(t))return t.call(m,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),m.resizeImage(),e.hasSize?(L&&clearInterval(L),e.loadError?(t.addClass("mfp-loading"),m.updateStatus("error",a.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),m.updateStatus("ready"))):(m.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),m.findImageSize(e))),t}}});var E;c.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,a=m.st.zoom;if(a.enabled&&m.supportsTransition){function t(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+a.duration/1e3+"s "+a.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},i="transition";return o["-webkit-"+i]=o["-moz-"+i]=o["-o-"+i]=o[i]=n,t.css(o),t}function n(){m.content.css("visibility","visible")}var o,i,r=a.duration;u("BuildControls.zoom",function(){if(m._allowZoom()){if(clearTimeout(o),m.content.css("visibility","hidden"),!(e=m._getItemToZoom()))return void n();(i=t(e)).css(m._getOffset()),m.wrap.append(i),o=setTimeout(function(){i.css(m._getOffset(!0)),o=setTimeout(function(){n(),setTimeout(function(){i.remove(),e=i=null,p("ZoomAnimationEnded")},16)},r)},16)}}),u(l+".zoom",function(){if(m._allowZoom()){if(clearTimeout(o),m.st.removalDelay=r,!e){if(!(e=m._getItemToZoom()))return;i=t(e)}i.css(m._getOffset(!0)),m.wrap.append(i),m.content.css("visibility","hidden"),setTimeout(function(){i.css(m._getOffset())},16)}}),u(s+".zoom",function(){m._allowZoom()&&(n(),i&&i.remove(),e=null)})}},_allowZoom:function(){return"image"===m.currItem.type},_getItemToZoom:function(){return!!m.currItem.hasSize&&m.currItem.img},_getOffset:function(e){var t,n=(t=e?m.currItem.img:m.st.zoom.opener(m.currItem.el||m.currItem)).offset(),o=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-bottom"),10);n.top-=c(window).scrollTop()-o;var a={width:t.width(),height:(C?t.innerHeight():t[0].offsetHeight)-i-o};return void 0===E&&(E=void 0!==document.createElement("p").style.MozTransform),E?a["-moz-transform"]=a.transform="translate("+n.left+"px,"+n.top+"px)":(a.left=n.left,a.top=n.top),a}}});function N(e){if(m.currTemplate[A]){var t=m.currTemplate[A].find("iframe");t.length&&(e||(t[0].src="//about:blank"),m.isIE8&&t.css("display",e?"block":"none"))}}var A="iframe";c.magnificPopup.registerModule(A,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){m.types.push(A),u("BeforeChange",function(e,t,n){t!==n&&(t===A?N():n===A&&N(!0))}),u(s+"."+A,function(){N()})},getIframe:function(e,t){var n=e.src,o=m.st.iframe;c.each(o.patterns,function(){return-1<n.indexOf(this.index)?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var i={};return o.srcAction&&(i[o.srcAction]=n),m._parseMarkup(t,i,e),m.updateStatus("ready"),t}}});function j(e){var t=m.items.length;return t-1<e?e-t:e<0?t+e:e}function I(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)}c.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=m.st.gallery,e=".mfp-gallery",i=Boolean(c.fn.mfpFastClick);return m.direction=!0,!(!a||!a.enabled)&&(g+=" mfp-gallery",u("Open"+e,function(){a.navigateByImgClick&&m.wrap.on("click"+e,".mfp-img",function(){return 1<m.items.length?(m.next(),!1):void 0}),v.on("keydown"+e,function(e){37===e.keyCode?m.prev():39===e.keyCode&&m.next()})}),u("UpdateStatus"+e,function(e,t){t.text&&(t.text=I(t.text,m.currItem.index,m.items.length))}),u(y+e,function(e,t,n,o){var i=m.items.length;n.counter=1<i?I(a.tCounter,o.index,i):""}),u("BuildControls"+e,function(){if(1<m.items.length&&a.arrows&&!m.arrowLeft){var e=a.arrowMarkup,t=m.arrowLeft=c(e.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(d),n=m.arrowRight=c(e.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(d),o=i?"mfpFastClick":"click";t[o](function(){m.prev()}),n[o](function(){m.next()}),m.isIE7&&(f("b",t[0],!1,!0),f("a",t[0],!1,!0),f("b",n[0],!1,!0),f("a",n[0],!1,!0)),m.container.append(t.add(n))}}),u("Change"+e,function(){m._preloadTimeout&&clearTimeout(m._preloadTimeout),m._preloadTimeout=setTimeout(function(){m.preloadNearbyImages(),m._preloadTimeout=null},16)}),void u(s+e,function(){v.off(e),m.wrap.off("click"+e),m.arrowLeft&&i&&m.arrowLeft.add(m.arrowRight).destroyMfpFastClick(),m.arrowRight=m.arrowLeft=null}))},next:function(){m.direction=!0,m.index=j(m.index+1),m.updateItemHTML()},prev:function(){m.direction=!1,m.index=j(m.index-1),m.updateItemHTML()},goTo:function(e){m.direction=e>=m.index,m.index=e,m.updateItemHTML()},preloadNearbyImages:function(){var e,t=m.st.gallery.preload,n=Math.min(t[0],m.items.length),o=Math.min(t[1],m.items.length);for(e=1;e<=(m.direction?o:n);e++)m._preloadItem(m.index+e);for(e=1;e<=(m.direction?n:o);e++)m._preloadItem(m.index-e)},_preloadItem:function(e){if(e=j(e),!m.items[e].preloaded){var t=m.items[e];t.parsed||(t=m.parseEl(e)),p("LazyLoad",t),"image"===t.type&&(t.img=c('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,p("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var R,H,O="retina";function F(){w.off("touchmove"+H+" touchend"+H)}c.magnificPopup.registerModule(O,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var n=m.st.retina,o=n.ratio;1<(o=isNaN(o)?o():o)&&(u("ImageHasSize."+O,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/o,width:"100%"})}),u("ElementParse."+O,function(e,t){t.src=n.replaceSrc(t,o)}))}}}}),R="ontouchstart"in window,H=".mfpFastClick",c.fn.mfpFastClick=function(l){return c(this).each(function(){var t,n,o,i,a,r,s,e=c(this);R&&e.on("touchstart"+H,function(e){a=!1,s=1,r=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],o=r.clientX,i=r.clientY,w.on("touchmove"+H,function(e){r=e.originalEvent?e.originalEvent.touches:e.touches,s=r.length,r=r[0],(10<Math.abs(r.clientX-o)||10<Math.abs(r.clientY-i))&&(a=!0,F())}).on("touchend"+H,function(e){F(),a||1<s||(t=!0,e.preventDefault(),clearTimeout(n),n=setTimeout(function(){t=!1},1e3),l())})}),e.on("click"+H,function(){t||l()})})},c.fn.destroyMfpFastClick=function(){c(this).off("touchstart"+H+" click"+H),R&&w.off("touchmove"+H+" touchend"+H)},a()}),function(d){var c,u,a,e,f="mmenu";d[f]&&"5.6.3"<d[f].version||(d[f]=function(e,t,n){this.$menu=e,this._api=["bind","init","update","setSelected","getInstance","openPanel","closePanel","closeAllPanels"],this.opts=t,this.conf=n,this.vars={},this.cbck={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var o=this.$pnls.children();return this._initAddons(),this.init(o),"function"==typeof this.___debug&&this.___debug(),this},d[f].version="5.6.3",d[f].addons={},d[f].uniqueId=0,d[f].defaults={extensions:[],navbar:{add:!0,title:"Menu",titleLink:"panel"},onClick:{setSelected:!0},slidingSubmenus:!0},d[f].configuration={classNames:{divider:"Divider",inset:"Inset",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},d[f].prototype={init:function(e){e=e.not("."+c.nopanel),e=this._initPanels(e),this.trigger("init",e),this.trigger("update")},update:function(){this.trigger("update")},setSelected:function(e){this.$menu.find("."+c.listview).children().removeClass(c.selected),e.addClass(c.selected),this.trigger("setSelected",e)},openPanel:function(e){var t=e.parent(),n=this;if(t.hasClass(c.vertical)){var o=t.parents("."+c.subopened);if(o.length)return void this.openPanel(o.first());t.addClass(c.opened),this.trigger("openPanel",e),this.trigger("openingPanel",e),this.trigger("openedPanel",e)}else{if(e.hasClass(c.current))return;var i=this.$pnls.children("."+c.panel),a=i.filter("."+c.current);i.removeClass(c.highest).removeClass(c.current).not(e).not(a).not("."+c.vertical).addClass(c.hidden),d[f].support.csstransitions||a.addClass(c.hidden),e.hasClass(c.opened)?e.nextAll("."+c.opened).addClass(c.highest).removeClass(c.opened).removeClass(c.subopened):(e.addClass(c.highest),a.addClass(c.subopened)),e.removeClass(c.hidden).addClass(c.current),n.trigger("openPanel",e),setTimeout(function(){e.removeClass(c.subopened).addClass(c.opened),n.trigger("openingPanel",e),n.__transitionend(e,function(){n.trigger("openedPanel",e)},n.conf.transitionDuration)},this.conf.openingInterval)}},closePanel:function(e){var t=e.parent();t.hasClass(c.vertical)&&(t.removeClass(c.opened),this.trigger("closePanel",e),this.trigger("closingPanel",e),this.trigger("closedPanel",e))},closeAllPanels:function(){this.$menu.find("."+c.listview).children().removeClass(c.selected).filter("."+c.vertical).removeClass(c.opened);var e=this.$pnls.children("."+c.panel).first();this.$pnls.children("."+c.panel).not(e).removeClass(c.subopened).removeClass(c.opened).removeClass(c.current).removeClass(c.highest).addClass(c.hidden),this.openPanel(e)},togglePanel:function(e){var t=e.parent();t.hasClass(c.vertical)&&this[t.hasClass(c.opened)?"closePanel":"openPanel"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(this.cbck[t])for(var n=0,o=this.cbck[t].length;n<o;n++)this.cbck[t][n].apply(this,e)},_initMenu:function(){this.$menu.attr("id",this.$menu.attr("id")||this.__getUniqueId()),this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){d(this).attr("id",c.mm(d(this).attr("id")))})),this.$menu.contents().each(function(){3==d(this)[0].nodeType&&d(this).remove()}),this.$pnls=d('<div class="'+c.panels+'" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu),this.$menu.parent().addClass(c.wrapper);var e=[c.menu];this.opts.slidingSubmenus||e.push(c.vertical),this.opts.extensions=this.opts.extensions.length?"mm-"+this.opts.extensions.join(" mm-"):"",this.opts.extensions&&e.push(this.opts.extensions),this.$menu.addClass(e.join(" "))},_initPanels:function(e){var s=this,t=this.__findAddBack(e,"ul, ol");this.__refactorClass(t,this.conf.classNames.inset,"inset").addClass(c.nolistview+" "+c.nopanel),t.not("."+c.nolistview).addClass(c.listview);var n=this.__findAddBack(e,"."+c.listview).children();this.__refactorClass(n,this.conf.classNames.selected,"selected"),this.__refactorClass(n,this.conf.classNames.divider,"divider"),this.__refactorClass(n,this.conf.classNames.spacer,"spacer"),this.__refactorClass(this.__findAddBack(e,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel");var o=d(),i=e.add(e.find("."+c.panel)).add(this.__findAddBack(e,"."+c.listview).children().children(this.conf.panelNodetype)).not("."+c.nopanel);this.__refactorClass(i,this.conf.classNames.vertical,"vertical"),this.opts.slidingSubmenus||i.addClass(c.vertical),i.each(function(){var e=d(this),t=e;e.is("ul, ol")?(e.wrap('<div class="'+c.panel+'" />'),t=e.parent()):t.addClass(c.panel);var n=e.attr("id");e.removeAttr("id"),t.attr("id",n||s.__getUniqueId()),e.hasClass(c.vertical)&&(e.removeClass(s.conf.classNames.vertical),t.add(t.parent()).addClass(c.vertical)),o=o.add(t)});var a=d("."+c.panel,this.$menu);o.each(function(e){var t,n,o=d(this),i=o.parent(),a=i.children("a, span").first();if(i.is("."+c.panels)||(i.data(u.sub,o),o.data(u.parent,i)),i.children("."+c.next).length||i.parent().is("."+c.listview)&&(t=o.attr("id"),n=d('<a class="'+c.next+'" href="#'+t+'" data-target="#'+t+'" />').insertBefore(a),a.is("span")&&n.addClass(c.fullsubopen)),!o.children("."+c.navbar).length&&!i.hasClass(c.vertical)){i=i.parent().is("."+c.listview)?i.closest("."+c.panel):(a=i.closest("."+c.panel).find('a[href="#'+o.attr("id")+'"]').first()).closest("."+c.panel);var r=d('<div class="'+c.navbar+'" />');if(i.length){switch(t=i.attr("id"),s.opts.navbar.titleLink){case"anchor":_url=a.attr("href");break;case"panel":case"parent":_url="#"+t;break;default:_url=!1}r.append('<a class="'+c.btn+" "+c.prev+'" href="#'+t+'" data-target="#'+t+'" />').append(d('<a class="'+c.title+'"'+(_url?' href="'+_url+'"':"")+" />").text(a.text())).prependTo(o),s.opts.navbar.add&&o.addClass(c.hasnavbar)}else s.opts.navbar.title&&(r.append('<a class="'+c.title+'">'+s.opts.navbar.title+"</a>").prependTo(o),s.opts.navbar.add&&o.addClass(c.hasnavbar))}});var r=this.__findAddBack(e,"."+c.listview).children("."+c.selected).removeClass(c.selected).last().addClass(c.selected);r.add(r.parentsUntil("."+c.menu,"li")).filter("."+c.vertical).addClass(c.opened).end().each(function(){d(this).parentsUntil("."+c.menu,"."+c.panel).not("."+c.vertical).first().addClass(c.opened).parentsUntil("."+c.menu,"."+c.panel).not("."+c.vertical).first().addClass(c.opened).addClass(c.subopened)}),r.children("."+c.panel).not("."+c.vertical).addClass(c.opened).parentsUntil("."+c.menu,"."+c.panel).not("."+c.vertical).first().addClass(c.opened).addClass(c.subopened);var l=a.filter("."+c.opened);return l.length||(l=o.first()),l.addClass(c.opened).last().addClass(c.current),o.not("."+c.vertical).not(l.last()).addClass(c.hidden).end().filter(function(){return!d(this).parent().hasClass(c.panels)}).appendTo(this.$pnls),o},_initAnchors:function(){var l=this;e.$body.on(a.click+"-oncanvas","a[href]",function(e){var t=d(this),n=!1,o=l.$menu.find(t).length;for(var i in d[f].addons)if(d[f].addons[i].clickAnchor.call(l,t,o)){n=!0;break}var a=t.attr("href");if(!n&&o&&1<a.length&&"#"==a.slice(0,1))try{var r=d(a,l.$menu);r.is("."+c.panel)&&(n=!0,l[t.parent().hasClass(c.vertical)?"togglePanel":"openPanel"](r))}catch(e){}if(n&&e.preventDefault(),!n&&o&&t.is("."+c.listview+" > li > a")&&!t.is('[rel="external"]')&&!t.is('[target="_blank"]')){l.__valueOrFn(l.opts.onClick.setSelected,t)&&l.setSelected(d(e.target).parent());var s=l.__valueOrFn(l.opts.onClick.preventDefault,t,"#"==a.slice(0,1));s&&e.preventDefault(),l.__valueOrFn(l.opts.onClick.close,t,s)&&l.close()}})},_initAddons:function(){var e;for(e in d[f].addons)d[f].addons[e].add.call(this),d[f].addons[e].add=function(){};for(e in d[f].addons)d[f].addons[e].setup.call(this)},_getOriginalMenuId:function(){var e=this.$menu.attr("id");return e&&e.length&&this.conf.clone&&(e=c.umm(e)),e},__api:function(){var n=this,o={};return d.each(this._api,function(e){var t=this;o[t]=function(){var e=n[t].apply(n,arguments);return void 0===e?o:e}}),o},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):void 0===e&&void 0!==n?n:e},__refactorClass:function(e,t,n){return e.filter("."+t).removeClass(t).addClass(c[n])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not("."+c.divider).not("."+c.hidden)},__transitionend:function(e,t,n){function o(){i||t.call(e[0]),i=!0}var i=!1;e.one(a.transitionend,o),e.one(a.webkitTransitionEnd,o),setTimeout(o,1.1*n)},__getUniqueId:function(){return c.mm(d[f].uniqueId++)}},d.fn[f]=function(n,o){return d[f].glbl||(e={$wndw:d(window),$docu:d(document),$html:d("html"),$body:d("body")},c={},u={},a={},d.each([c,u,a],function(e,o){o.add=function(e){for(var t=0,n=(e=e.split(" ")).length;t<n;t++)o[e[t]]=o.mm(e[t])}}),c.mm=function(e){return"mm-"+e},c.add("wrapper menu panels panel nopanel current highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen"),c.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},u.mm=function(e){return"mm-"+e},u.add("parent sub"),a.mm=function(e){return e+".mm"},a.add("transitionend webkitTransitionEnd click scroll keydown mousedown mouseup touchstart touchmove touchend orientationchange"),d[f]._c=c,d[f]._d=u,d[f]._e=a,d[f].glbl=e),n=d.extend(!0,{},d[f].defaults,n),o=d.extend(!0,{},d[f].configuration,o),this.each(function(){var e=d(this);if(!e.data(f)){var t=new d[f](e,n,o);t.$menu.data(f,t.__api())}})},d[f].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1,csstransitions:function(){if("undefined"!=typeof Modernizr&&void 0!==Modernizr.csstransitions)return Modernizr.csstransitions;var e=(document.body||document.documentElement).style,t="transition";if("string"==typeof e[t])return!0;var n=["Moz","webkit","Webkit","Khtml","O","ms"];t=t.charAt(0).toUpperCase()+t.substr(1);for(var o=0;o<n.length;o++)if("string"==typeof e[n[o]+t])return!0;return!1}()})}(jQuery),function(a){var r,o,i,s,l="mmenu",d="offCanvas";a[l].addons[d]={setup:function(){if(this.opts[d]){var e=this.opts[d],t=this.conf[d];s=a[l].glbl,this._api=a.merge(this._api,["open","close","setPage"]),"top"!=e.position&&"bottom"!=e.position||(e.zposition="front"),"string"!=typeof t.pageSelector&&(t.pageSelector="> "+t.pageNodetype),s.$allMenus=(s.$allMenus||a()).add(this.$menu),this.vars.opened=!1;var n=[r.offcanvas];"left"!=e.position&&n.push(r.mm(e.position)),"back"!=e.zposition&&n.push(r.mm(e.zposition)),this.$menu.addClass(n.join(" ")).parent().removeClass(r.wrapper),this.setPage(s.$page),this._initBlocker(),this["_initWindow_"+d](),this.$menu[t.menuInjectMethod+"To"](t.menuWrapperSelector);var o=window.location.hash;if(o){var i=this._getOriginalMenuId();i&&i==o.slice(1)&&this.open()}}},add:function(){r=a[l]._c,o=a[l]._d,i=a[l]._e,r.add("offcanvas slideout blocking modal background opening blocker page"),o.add("style"),i.add("resize")},clickAnchor:function(e,t){if(!this.opts[d])return!1;var n=this._getOriginalMenuId();return n&&e.is('[href="#'+n+'"]')?(this.open(),!0):s.$page?!(!(n=s.$page.first().attr("id"))||!e.is('[href="#'+n+'"]'))&&(this.close(),!0):void 0}},a[l].defaults[d]={position:"left",zposition:"back",blockUI:!0,moveBackground:!0},a[l].configuration[d]={pageNodetype:"div",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuWrapperSelector:"body",menuInjectMethod:"prepend"},a[l].prototype.open=function(){if(!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),this.trigger("open")}},a[l].prototype._openSetup=function(){var e=this,t=this.opts[d];this.closeAllOthers(),s.$page.each(function(){a(this).data(o.style,a(this).attr("style")||"")}),s.$wndw.trigger(i.resize+"-"+d,[!0]);var n=[r.opened];t.blockUI&&n.push(r.blocking),"modal"==t.blockUI&&n.push(r.modal),t.moveBackground&&n.push(r.background),"left"!=t.position&&n.push(r.mm(this.opts[d].position)),"back"!=t.zposition&&n.push(r.mm(this.opts[d].zposition)),this.opts.extensions&&n.push(this.opts.extensions),s.$html.addClass(n.join(" ")),setTimeout(function(){e.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(r.current+" "+r.opened)},a[l].prototype._openFinish=function(){var e=this;this.__transitionend(s.$page.first(),function(){e.trigger("opened")},this.conf.transitionDuration),s.$html.addClass(r.opening),this.trigger("opening")},a[l].prototype.close=function(){if(this.vars.opened){var e=this;this.__transitionend(s.$page.first(),function(){e.$menu.removeClass(r.current).removeClass(r.opened),s.$html.removeClass(r.opened).removeClass(r.blocking).removeClass(r.modal).removeClass(r.background).removeClass(r.mm(e.opts[d].position)).removeClass(r.mm(e.opts[d].zposition)),e.opts.extensions&&s.$html.removeClass(e.opts.extensions),s.$page.each(function(){a(this).attr("style",a(this).data(o.style))}),e.vars.opened=!1,e.trigger("closed")},this.conf.transitionDuration),s.$html.removeClass(r.opening),this.trigger("close"),this.trigger("closing")}},a[l].prototype.closeAllOthers=function(){s.$allMenus.not(this.$menu).each(function(){var e=a(this).data(l);e&&e.close&&e.close()})},a[l].prototype.setPage=function(e){var t=this,n=this.conf[d];e&&e.length||(e=s.$body.find(n.pageSelector),n.noPageSelector.length&&(e=e.not(n.noPageSelector.join(", "))),1<e.length&&n.wrapPageIfNeeded&&(e=e.wrapAll("<"+this.conf[d].pageNodetype+" />").parent())),e.each(function(){a(this).attr("id",a(this).attr("id")||t.__getUniqueId())}),e.addClass(r.page+" "+r.slideout),s.$page=e,this.trigger("setPage",e)},a[l].prototype["_initWindow_"+d]=function(){s.$wndw.off(i.keydown+"-"+d).on(i.keydown+"-"+d,function(e){return s.$html.hasClass(r.opened)&&9==e.keyCode?(e.preventDefault(),!1):void 0});var o=0;s.$wndw.off(i.resize+"-"+d).on(i.resize+"-"+d,function(e,t){if(1==s.$page.length&&(t||s.$html.hasClass(r.opened))){var n=s.$wndw.height();!t&&n==o||(o=n,s.$page.css("minHeight",n))}})},a[l].prototype._initBlocker=function(){var t=this;this.opts[d].blockUI&&(s.$blck||(s.$blck=a('<div id="'+r.blocker+'" class="'+r.slideout+'" />')),s.$blck.appendTo(s.$body).off(i.touchstart+"-"+d+" "+i.touchmove+"-"+d).on(i.touchstart+"-"+d+" "+i.touchmove+"-"+d,function(e){e.preventDefault(),e.stopPropagation(),s.$blck.trigger(i.mousedown+"-"+d)}).off(i.mousedown+"-"+d).on(i.mousedown+"-"+d,function(e){e.preventDefault(),s.$html.hasClass(r.modal)||(t.closeAllOthers(),t.close())}))}}(jQuery),function(i){var a,r,s,l="mmenu",d="scrollBugFix";i[l].addons[d]={setup:function(){var t=this,e=this.opts[d];if(this.conf[d],s=i[l].glbl,i[l].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&("boolean"==typeof e&&(e={fix:e}),"object"!=typeof e&&(e={}),(e=this.opts[d]=i.extend(!0,{},i[l].defaults[d],e)).fix)){var n=this.$menu.attr("id"),o=!1;this.bind("opening",function(){this.$pnls.children("."+a.current).scrollTop(0)}),s.$docu.on(r.touchmove,function(e){t.vars.opened&&e.preventDefault()}),s.$body.on(r.touchstart,"#"+n+"> ."+a.panels+"> ."+a.current,function(e){t.vars.opened&&(o||(o=!0,0===e.currentTarget.scrollTop?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1),o=!1))}).on(r.touchmove,"#"+n+"> ."+a.panels+"> ."+a.current,function(e){t.vars.opened&&i(this)[0].scrollHeight>i(this).innerHeight()&&e.stopPropagation()}),s.$wndw.on(r.orientationchange,function(){t.$pnls.children("."+a.current).scrollTop(0).css({"-webkit-overflow-scrolling":"auto"}).css({"-webkit-overflow-scrolling":"touch"})})}},add:function(){a=i[l]._c,i[l]._d,r=i[l]._e},clickAnchor:function(e,t){}},i[l].defaults[d]={fix:!0}}(jQuery),function(a){var r,e,t="mmenu",n="autoHeight";a[t].addons[n]={setup:function(){if(this.opts.offCanvas){var i=this.opts[n];if(this.conf[n],a[t].glbl,"boolean"==typeof i&&i&&(i={height:"auto"}),"string"==typeof i&&(i={height:i}),"object"!=typeof i&&(i={}),"auto"==(i=this.opts[n]=a.extend(!0,{},a[t].defaults[n],i)).height||"highest"==i.height){this.$menu.addClass(r.autoheight);function e(e){if(this.vars.opened){var t=parseInt(this.$pnls.css("top"),10)||0,n=parseInt(this.$pnls.css("bottom"),10)||0,o=0;this.$menu.addClass(r.measureheight),"auto"==i.height?((e=e||this.$pnls.children("."+r.current)).is("."+r.vertical)&&(e=e.parents("."+r.panel).not("."+r.vertical).first()),o=e.outerHeight()):"highest"==i.height&&this.$pnls.children().each(function(){var e=a(this);e.is("."+r.vertical)&&(e=e.parents("."+r.panel).not("."+r.vertical).first()),o=Math.max(o,e.outerHeight())}),this.$menu.height(o+t+n).removeClass(r.measureheight)}}this.bind("opening",e),"highest"==i.height&&this.bind("init",e),"auto"==i.height&&(this.bind("update",e),this.bind("openPanel",e),this.bind("closePanel",e))}}},add:function(){r=a[t]._c,a[t]._d,e=a[t]._e,r.add("autoheight measureheight"),e.add("resize")},clickAnchor:function(e,t){}},a[t].defaults[n]={height:"default"}}(jQuery),function(o){var i,a,r="mmenu",s="backButton";o[r].addons[s]={setup:function(){if(this.opts.offCanvas){var t=this,e=this.opts[s];if(this.conf[s],a=o[r].glbl,"boolean"==typeof e&&(e={close:e}),"object"!=typeof e&&(e={}),(e=o.extend(!0,{},o[r].defaults[s],e)).close){var n="#"+t.$menu.attr("id");this.bind("opened",function(e){location.hash!=n&&history.pushState(null,document.title,n)}),o(window).on("popstate",function(e){a.$html.hasClass(i.opened)?(e.stopPropagation(),t.close()):location.hash==n&&(e.stopPropagation(),t.open())})}}},add:function(){return window.history&&window.history.pushState?(i=o[r]._c,o[r]._d,void o[r]._e):void(o[r].addons[s].setup=function(){})},clickAnchor:function(e,t){}},o[r].defaults[s]={close:!1}}(jQuery),function(r){var s,l,d="mmenu",c="columns";r[d].addons[c]={setup:function(){var t=this.opts[c];if(this.conf[c],l=r[d].glbl,"boolean"==typeof t&&(t={add:t}),"number"==typeof t&&(t={add:!0,visible:t}),"object"!=typeof t&&(t={}),"number"==typeof t.visible&&(t.visible={min:t.visible,max:t.visible}),(t=this.opts[c]=r.extend(!0,{},r[d].defaults[c],t)).add){t.visible.min=Math.max(1,Math.min(6,t.visible.min)),t.visible.max=Math.max(t.visible.min,Math.min(6,t.visible.max)),this.$menu.addClass(s.columns);for(var n=this.opts.offCanvas?this.$menu.add(l.$html):this.$menu,o=[],e=0;e<=t.visible.max;e++)o.push(s.columns+"-"+e);o=o.join(" ");function i(){var e=this.$pnls.children("."+s.panel).filter("."+s.opened).length;e=Math.min(t.visible.max,Math.max(t.visible.min,e)),n.removeClass(o).addClass(s.columns+"-"+e)}var a=function(e){this.$pnls.children("."+s.panel).removeClass(o).filter("."+s.subopened).removeClass(s.hidden).add(e).slice(-t.visible.max).each(function(e){r(this).addClass(s.columns+"-"+e)})};this.bind("open",i),this.bind("close",function(){this.opts.offCanvas&&l.$html.removeClass(o)}),this.bind("init",function(e){a.call(this,this.$pnls.children("."+s.current)),t.hideNavbars&&e.removeClass(s.hasnavbar)}),this.bind("openPanel",a),this.bind("openingPanel",i),this.bind("openedPanel",i),this.opts.offCanvas||i.call(this)}},add:function(){s=r[d]._c,r[d]._d,r[d]._e,s.add("columns")},clickAnchor:function(e,t){if(!this.opts[c].add)return!1;if(t){var n=e.attr("href");if(1<n.length&&"#"==n.slice(0,1))try{if(r(n,this.$menu).is("."+s.panel))for(var o=parseInt(e.closest("."+s.panel).attr("class").split(s.columns+"-")[1].split(" ")[0],10)+1;!1!==o;){var i=this.$pnls.children("."+s.columns+"-"+o);if(!i.length){o=!1;break}o++,i.removeClass(s.subopened).removeClass(s.opened).removeClass(s.current).removeClass(s.highest).addClass(s.hidden)}}catch(e){}}}},r[d].defaults[c]={add:!1,visible:{min:1,max:3},hideNavbars:!1}}(jQuery),function(i){var a,r,e="mmenu",t="counters";i[e].addons[t]={setup:function(){var o=this,n=this.opts[t];this.conf[t],i[e].glbl,"boolean"==typeof n&&(n={add:n,update:n}),"object"!=typeof n&&(n={}),n=this.opts[t]=i.extend(!0,{},i[e].defaults[t],n),this.bind("init",function(e){this.__refactorClass(i("em",e),this.conf.classNames[t].counter,"counter")}),n.add&&this.bind("init",function(e){var t;switch(n.addTo){case"panels":t=e;break;default:t=e.filter(n.addTo)}t.each(function(){var e=i(this).data(r.parent);e&&(e.children("em."+a.counter).length||e.prepend(i('<em class="'+a.counter+'" />')))})}),n.update&&this.bind("update",function(){this.$pnls.children("."+a.panel).each(function(){var e=i(this),t=e.data(r.parent);if(t){var n=t.children("em."+a.counter);n.length&&((e=e.children("."+a.listview)).length&&n.html(o.__filterListItems(e.children()).length))}})})},add:function(){a=i[e]._c,r=i[e]._d,i[e]._e,a.add("counter search noresultsmsg")},clickAnchor:function(e,t){}},i[e].defaults[t]={add:!1,addTo:"panels",update:!1},i[e].configuration.classNames[t]={counter:"Counter"}}(jQuery),function(i){var a,r,e="mmenu",s="dividers";i[e].addons[s]={setup:function(){var n=this,o=this.opts[s];if(this.conf[s],i[e].glbl,"boolean"==typeof o&&(o={add:o,fixed:o}),"object"!=typeof o&&(o={}),o=this.opts[s]=i.extend(!0,{},i[e].defaults[s],o),this.bind("init",function(e){this.__refactorClass(i("li",this.$menu),this.conf.classNames[s].collapsed,"collapsed")}),o.add&&this.bind("init",function(e){var t;switch(o.addTo){case"panels":t=e;break;default:t=e.filter(o.addTo)}i("."+a.divider,t).remove(),t.find("."+a.listview).not("."+a.vertical).each(function(){var t="";n.__filterListItems(i(this).children()).each(function(){var e=i.trim(i(this).children("a, span").text()).slice(0,1).toLowerCase();e!=t&&e.length&&(t=e,i('<li class="'+a.divider+'">'+e+"</li>").insertBefore(this))})})}),o.collapse&&this.bind("init",function(e){i("."+a.divider,e).each(function(){var e=i(this);e.nextUntil("."+a.divider,"."+a.collapsed).length&&(e.children("."+a.subopen).length||(e.wrapInner("<span />"),e.prepend('<a href="#" class="'+a.subopen+" "+a.fullsubopen+'" />')))})}),o.fixed){function t(e){if((e=e||this.$pnls.children("."+a.current)).find("."+a.divider).not("."+a.hidden).length){this.$menu.addClass(a.hasdividers);var t=e.scrollTop()||0,n="";e.is(":visible")&&e.find("."+a.divider).not("."+a.hidden).each(function(){i(this).position().top+t<t+1&&(n=i(this).text())}),this.$fixeddivider.text(n)}else this.$menu.removeClass(a.hasdividers)}this.$fixeddivider=i('<ul class="'+a.listview+" "+a.fixeddivider+'"><li class="'+a.divider+'"></li></ul>').prependTo(this.$pnls).children(),this.bind("openPanel",t),this.bind("update",t),this.bind("init",function(e){e.off(r.scroll+"-dividers "+r.touchmove+"-dividers").on(r.scroll+"-dividers "+r.touchmove+"-dividers",function(e){t.call(n,i(this))})})}},add:function(){a=i[e]._c,i[e]._d,r=i[e]._e,a.add("collapsed uncollapsed fixeddivider hasdividers"),r.add("scroll")},clickAnchor:function(e,t){if(this.opts[s].collapse&&t){var n=e.parent();if(n.is("."+a.divider)){var o=n.nextUntil("."+a.divider,"."+a.collapsed);return n.toggleClass(a.opened),o[n.hasClass(a.opened)?"addClass":"removeClass"](a.uncollapsed),!0}}return!1}},i[e].defaults[s]={add:!1,addTo:"panels",fixed:!1,collapse:!1},i[e].configuration.classNames[s]={collapsed:"Collapsed"}}(jQuery),function(m){function v(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}var g,y,b="mmenu",C="dragOpen";m[b].addons[C]={setup:function(){if(this.opts.offCanvas){var t=this,n=this.opts[C],o=this.conf[C];if(y=m[b].glbl,"boolean"==typeof n&&(n={open:n}),"object"!=typeof n&&(n={}),(n=this.opts[C]=m.extend(!0,{},m[b].defaults[C],n)).open){var i,a,r,s,l,d={},c=0,u=!1,f=!1,p=0,h=0;switch(this.opts.offCanvas.position){case"left":case"right":d.events="panleft panright",d.typeLower="x",d.typeUpper="X",f="width";break;case"top":case"bottom":d.events="panup pandown",d.typeLower="y",d.typeUpper="Y",f="height"}switch(this.opts.offCanvas.position){case"right":case"bottom":d.negative=!0,s=function(e){e>=y.$wndw[f]()-n.maxStartPos&&(c=1)};break;default:d.negative=!1,s=function(e){e<=n.maxStartPos&&(c=1)}}switch(this.opts.offCanvas.position){case"left":d.open_dir="right",d.close_dir="left";break;case"right":d.open_dir="left",d.close_dir="right";break;case"top":d.open_dir="down",d.close_dir="up";break;case"bottom":d.open_dir="up",d.close_dir="down"}switch(this.opts.offCanvas.zposition){case"front":l=function(){return this.$menu};break;default:l=function(){return m("."+g.slideout)}}var e=this.__valueOrFn(n.pageNode,this.$menu,y.$page);"string"==typeof e&&(e=m(e)),new Hammer(e[0],n.vendors.hammer).on("panstart",function(e){s(e.center[d.typeLower]),y.$slideOutNodes=l(),u=d.open_dir}).on(d.events+" panend",function(e){0<c&&e.preventDefault()}).on(d.events,function(e){if(i=e["delta"+d.typeUpper],d.negative&&(i=-i),i!=p&&(u=p<=i?d.open_dir:d.close_dir),(p=i)>n.threshold&&1==c){if(y.$html.hasClass(g.opened))return;c=2,t._openSetup(),t.trigger("opening"),y.$html.addClass(g.dragging),h=v(y.$wndw[f]()*o[f].perc,o[f].min,o[f].max)}2==c&&(a=v(p,10,h)-("front"==t.opts.offCanvas.zposition?h:0),d.negative&&(a=-a),r="translate"+d.typeUpper+"("+a+"px )",y.$slideOutNodes.css({"-webkit-transform":"-webkit-"+r,transform:r}))}).on("panend",function(e){2==c&&(y.$html.removeClass(g.dragging),y.$slideOutNodes.css("transform",""),t[u==d.open_dir?"_openFinish":"close"]()),c=0})}}},add:function(){return"function"!=typeof Hammer||Hammer.VERSION<2?void(m[b].addons[C].setup=function(){}):(g=m[b]._c,m[b]._d,m[b]._e,void g.add("dragging"))},clickAnchor:function(e,t){}},m[b].defaults[C]={open:!1,maxStartPos:100,threshold:50,vendors:{hammer:{}}},m[b].configuration[C]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}}}(jQuery),function(w){var x,i,a,k,D="mmenu",S="dropdown";w[D].addons[S]={setup:function(){if(this.opts.offCanvas){var t=this,y=this.opts[S],b=this.conf[S];if(k=w[D].glbl,"boolean"==typeof y&&y&&(y={drop:y}),"object"!=typeof y&&(y={}),"string"==typeof y.position&&(y.position={of:y.position}),(y=this.opts[S]=w.extend(!0,{},w[D].defaults[S],y)).drop){if("string"!=typeof y.position.of){var e=this.$menu.attr("id");e&&e.length&&(this.conf.clone&&(e=x.umm(e)),y.position.of='[href="#'+e+'"]')}if("string"==typeof y.position.of){var C=w(y.position.of);if(C.length){this.$menu.addClass(x.dropdown),y.tip&&this.$menu.addClass(x.tip),y.event=y.event.split(" "),1==y.event.length&&(y.event[1]=y.event[0]),"hover"==y.event[0]&&C.on(a.mouseenter+"-dropdown",function(){t.open()}),"hover"==y.event[1]&&this.$menu.on(a.mouseleave+"-dropdown",function(){t.close()}),this.bind("opening",function(){this.$menu.data(i.style,this.$menu.attr("style")||""),k.$html.addClass(x.dropdown)}),this.bind("closed",function(){this.$menu.attr("style",this.$menu.data(i.style)),k.$html.removeClass(x.dropdown)});function n(e,t){var n,o,i=t[0],a=t[1],r="x"==e?"scrollLeft":"scrollTop",s="x"==e?"outerWidth":"outerHeight",l="x"==e?"left":"top",d="x"==e?"right":"bottom",c="x"==e?"width":"height",u="x"==e?"maxWidth":"maxHeight",f=null,p=k.$wndw[r](),h=C.offset()[l]-=p,m=h+C[s](),v=k.$wndw[c](),g=b.offset.button[e]+b.offset.viewport[e];if(y.position[e])switch(y.position[e]){case"left":case"bottom":f="after";break;case"right":case"top":f="before"}return null===f&&(f=h+(m-h)/2<v/2?"after":"before"),"after"==f?(o=v-((n="x"==e?h:m)+g),i[l]=n+b.offset.button[e],i[d]="auto",a.push(x["x"==e?"tipleft":"tiptop"])):(o=(n="x"==e?m:h)-g,i[d]="calc( 100% - "+(n-b.offset.button[e])+"px )",i[l]="auto",a.push(x["x"==e?"tipright":"tipbottom"])),i[u]=Math.min(w[D].configuration[S][c].max,o),[i,a]}function o(e){if(this.vars.opened){this.$menu.attr("style",this.$menu.data(i.style));var t=[{},[]];t=n.call(this,"y",t),t=n.call(this,"x",t),this.$menu.css(t[0]),y.tip&&this.$menu.removeClass(x.tipleft+" "+x.tipright+" "+x.tiptop+" "+x.tipbottom).addClass(t[1].join(" "))}}this.bind("opening",o),k.$wndw.on(a.resize+"-dropdown",function(e){o.call(t)}),this.opts.offCanvas.blockUI||k.$wndw.on(a.scroll+"-dropdown",function(e){o.call(t)})}}}}},add:function(){x=w[D]._c,i=w[D]._d,a=w[D]._e,x.add("dropdown tip tipleft tipright tiptop tipbottom"),a.add("mouseenter mouseleave resize scroll")},clickAnchor:function(e,t){}},w[D].defaults[S]={drop:!1,event:"click",position:{},tip:!0},w[D].configuration[S]={offset:{button:{x:-10,y:10},viewport:{x:20,y:20}},height:{max:880},width:{max:440}}}(jQuery),function(n){var e,o,i="mmenu",a="fixedElements";n[i].addons[a]={setup:function(){if(this.opts.offCanvas){var e=this.opts[a];this.conf[a],o=n[i].glbl,e=this.opts[a]=n.extend(!0,{},n[i].defaults[a],e);function t(e){var t=this.conf.classNames[a].fixed;this.__refactorClass(e.find("."+t),t,"slideout").appendTo(o.$body)}t.call(this,o.$page),this.bind("setPage",t)}},add:function(){e=n[i]._c,n[i]._d,n[i]._e,e.add("fixed")},clickAnchor:function(e,t){}},n[i].configuration.classNames[a]={fixed:"Fixed"}}(jQuery),function(a){var r,s="mmenu",l="iconPanels";a[s].addons[l]={setup:function(){var t=this,n=this.opts[l];if(this.conf[l],a[s].glbl,"boolean"==typeof n&&(n={add:n}),"number"==typeof n&&(n={add:!0,visible:n}),"object"!=typeof n&&(n={}),(n=this.opts[l]=a.extend(!0,{},a[s].defaults[l],n)).visible++,n.add){this.$menu.addClass(r.iconpanel);for(var o=[],e=0;e<=n.visible;e++)o.push(r.iconpanel+"-"+e);o=o.join(" ");function i(e){e.hasClass(r.vertical)||t.$pnls.children("."+r.panel).removeClass(o).filter("."+r.subopened).removeClass(r.hidden).add(e).not("."+r.vertical).slice(-n.visible).each(function(e){a(this).addClass(r.iconpanel+"-"+e)})}this.bind("openPanel",i),this.bind("init",function(e){i.call(t,t.$pnls.children("."+r.current)),n.hideNavbars&&e.removeClass(r.hasnavbar),e.not("."+r.vertical).each(function(){a(this).children("."+r.subblocker).length||a(this).prepend('<a href="#'+a(this).closest("."+r.panel).attr("id")+'" class="'+r.subblocker+'" />')})})}},add:function(){r=a[s]._c,a[s]._d,a[s]._e,r.add("iconpanel subblocker")},clickAnchor:function(e,t){}},a[s].defaults[l]={add:!1,visible:3,hideNavbars:!1}}(jQuery),function(p){var h,m="mmenu",v="navbars";p[m].addons[v]={setup:function(){var d=this,c=this.opts[v],u=this.conf[v];if(p[m].glbl,void 0!==c){c instanceof Array||(c=[c]);var f={};for(var e in p.each(c,function(e){var t=c[e];"boolean"==typeof t&&t&&(t={}),"object"!=typeof t&&(t={}),void 0===t.content&&(t.content=["prev","title"]),t.content instanceof Array||(t.content=[t.content]);var n=(t=p.extend(!0,{},d.opts.navbar,t)).position,o=t.height;"number"!=typeof o&&(o=1),o=Math.min(4,Math.max(1,o)),"bottom"!=n&&(n="top"),f[n]||(f[n]=0),f[n]++;var i=p("<div />").addClass(h.navbar+" "+h.navbar+"-"+n+" "+h.navbar+"-"+n+"-"+f[n]+" "+h.navbar+"-size-"+o);f[n]+=o-1;for(var a=0,r=0,s=t.content.length;r<s;r++){var l=p[m].addons[v][t.content[r]]||!1;l?a+=l.call(d,i,t,u):((l=t.content[r])instanceof p||(l=p(t.content[r])),i.append(l))}1<(a+=Math.ceil(i.children().not("."+h.btn).not("."+h.title+"-prev").length/o))&&i.addClass(h.navbar+"-content-"+a),i.children("."+h.btn).length&&i.addClass(h.hasbtns),i.prependTo(d.$menu)}),f)d.$menu.addClass(h.hasnavbar+"-"+e+"-"+f[e])}},add:function(){h=p[m]._c,p[m]._d,p[m]._e,h.add("close hasbtns")},clickAnchor:function(e,t){}},p[m].configuration[v]={breadcrumbSeparator:"/"},p[m].configuration.classNames[v]={}}(jQuery),function(d){d.mmenu.addons.navbars.breadcrumbs=function(e,t,r){var s=d.mmenu._c,l=d.mmenu._d;s.add("breadcrumbs separator");var n=d('<span class="'+s.breadcrumbs+'" />').appendTo(e);this.bind("init",function(e){e.removeClass(s.hasnavbar).each(function(){for(var e=[],t=d(this),n=d('<span class="'+s.breadcrumbs+'"></span>'),o=d(this).children().first(),i=!0;o&&o.length;){o.is("."+s.panel)||(o=o.closest("."+s.panel));var a=o.children("."+s.navbar).children("."+s.title).text();e.unshift(i?"<span>"+a+"</span>":'<a href="#'+o.attr("id")+'">'+a+"</a>"),i=!1,o=o.data(l.parent)}n.append(e.join('<span class="'+s.separator+'">'+r.breadcrumbSeparator+"</span>")).appendTo(t.children("."+s.navbar))})});function o(){n.html(this.$pnls.children("."+s.current).children("."+s.navbar).children("."+s.breadcrumbs).html())}return this.bind("openPanel",o),this.bind("init",o),0}}(jQuery),function(r){r.mmenu.addons.navbars.close=function(e,t){function n(e){a.attr("href","#"+e.attr("id"))}var o=r.mmenu._c,i=r.mmenu.glbl,a=r('<a class="'+o.close+" "+o.btn+'" href="#" />').appendTo(e);return n.call(this,i.$page),this.bind("setPage",n),-1}}(jQuery),function(s){var l="navbars";s.mmenu.addons[l].next=function(e,t){function n(e){var t=(e=e||this.$pnls.children("."+a.current)).find("."+this.conf.classNames[l].panelNext);o=t.attr("href"),i=t.html(),r[o?"attr":"removeAttr"]("href",o),r[o||i?"removeClass":"addClass"](a.hidden),r.html(i)}var o,i,a=s.mmenu._c,r=s('<a class="'+a.next+" "+a.btn+'" href="#" />').appendTo(e);return this.bind("openPanel",n),this.bind("init",function(){n.call(this)}),-1},s.mmenu.configuration.classNames[l].panelNext="Next"}(jQuery),function(s){var l="navbars";s.mmenu.addons[l].prev=function(e,t){var n=s.mmenu._c,o=s('<a class="'+n.prev+" "+n.btn+'" href="#" />').appendTo(e);this.bind("init",function(e){e.removeClass(n.hasnavbar).children("."+n.navbar).addClass(n.hidden)});function i(e){if(!(e=e||this.$pnls.children("."+n.current)).hasClass(n.vertical)){var t=e.find("."+this.conf.classNames[l].panelPrev);t.length||(t=e.children("."+n.navbar).children("."+n.prev)),a=t.attr("href"),r=t.html(),o[a?"attr":"removeAttr"]("href",a),o[a||r?"removeClass":"addClass"](n.hidden),o.html(r)}}var a,r;return this.bind("openPanel",i),this.bind("init",function(){i.call(this)}),-1},s.mmenu.configuration.classNames[l].panelPrev="Prev"}(jQuery),function(i){i.mmenu.addons.navbars.searchfield=function(e,t){var n=i.mmenu._c,o=i('<div class="'+n.search+'" />').appendTo(e);return"object"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=o,0}}(jQuery),function(s){var l="navbars";s.mmenu.addons[l].title=function(e,n){function t(e){if(!(e=e||this.$pnls.children("."+a.current)).hasClass(a.vertical)){var t=e.find("."+this.conf.classNames[l].panelTitle);t.length||(t=e.children("."+a.navbar).children("."+a.title)),o=t.attr("href"),i=t.html()||n.title,r[o?"attr":"removeAttr"]("href",o),r[o||i?"removeClass":"addClass"](a.hidden),r.html(i)}}var o,i,a=s.mmenu._c,r=s('<a class="'+a.title+'" />').appendTo(e);return this.bind("openPanel",t),this.bind("init",function(e){t.call(this)}),0},s.mmenu.configuration.classNames[l].panelTitle="Title"}(jQuery),function(r){function s(e,t,n){e.prop("aria-"+t,n)[n?"attr":"removeAttr"]("aria-"+t,"true")}function l(e){return'<span class="'+d.sronly+'">'+e+"</span>"}var d,c="mmenu",u="screenReader";r[c].addons[u]={setup:function(){var e=this.opts[u],t=this.conf[u];if(r[c].glbl,"boolean"==typeof e&&(e={aria:e,text:e}),"object"!=typeof e&&(e={}),(e=this.opts[u]=r.extend(!0,{},r[c].defaults[u],e)).aria){if(this.opts.offCanvas){function n(){s(this.$menu,"hidden",!0)}this.bind("open",function(){s(this.$menu,"hidden",!1)}),this.bind("close",n),n.call(this)}function o(){s(this.$menu.find("."+d.hidden),"hidden",!0),s(this.$menu.find('[aria-hidden="true"]').not("."+d.hidden),"hidden",!1)}this.bind("update",o),this.bind("openPanel",o),this.bind("openPanel",function(e){s(this.$pnls.children("."+d.panel).not(e).not("."+d.hidden),"hidden",!0),s(e,"hidden",!1)});function i(e){s(e.find("."+d.prev+", ."+d.next),"haspopup",!0)}this.bind("init",i),i.call(this,this.$menu.children("."+d.navbar))}if(e.text){function a(e){e.children("."+d.navbar).children("."+d.prev).html(l(t.text.closeSubmenu)).end().children("."+d.next).html(l(t.text.openSubmenu)).end().children("."+d.close).html(l(t.text.closeMenu)),e.is("."+d.panel)&&e.find("."+d.listview).find("."+d.next).each(function(){r(this).html(l(t.text[r(this).parent().is("."+d.vertical)?"toggleSubmenu":"openSubmenu"]))})}this.bind("init",a),a.call(this,this.$menu)}},add:function(){d=r[c]._c,r[c]._d,r[c]._e,d.add("sronly")},clickAnchor:function(e,t){}},r[c].defaults[u]={aria:!1,text:!1},r[c].configuration[u]={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}}}(jQuery),function(h){var m,v,g,e="mmenu",y="searchfield";h[e].addons[y]={setup:function(){var f=this,p=this.opts[y],d=this.conf[y];h[e].glbl,"boolean"==typeof p&&(p={add:p}),"object"!=typeof p&&(p={}),"boolean"==typeof p.resultsPanel&&(p.resultsPanel={add:p.resultsPanel}),p=this.opts[y]=h.extend(!0,{},h[e].defaults[y],p),d=this.conf[y]=h.extend(!0,{},h[e].configuration[y],d),this.bind("close",function(){this.$menu.find("."+m.search).find("input").blur()}),this.bind("init",function(e){if(p.add){var t;switch(p.addTo){case"panels":t=e;break;default:t=this.$menu.find(p.addTo)}if(t.each(function(){var e=h(this);if(!e.is("."+m.panel)||!e.is("."+m.vertical)){if(!e.children("."+m.search).length){var t,n=f.__valueOrFn(d.clear,e),o=f.__valueOrFn(d.form,e),i=f.__valueOrFn(d.input,e),a=f.__valueOrFn(d.submit,e),r=h("<"+(o?"form":"div")+' class="'+m.search+'" />'),s=h('<input placeholder="'+p.placeholder+'" type="text" autocomplete="off" />');if(r.append(s),i)for(t in i)s.attr(t,i[t]);if(n&&h('<a class="'+m.btn+" "+m.clear+'" href="#" />').appendTo(r).on(g.click+"-searchfield",function(e){e.preventDefault(),s.val("").trigger(g.keyup+"-searchfield")}),o){for(t in o)r.attr(t,o[t]);a&&!n&&h('<a class="'+m.btn+" "+m.next+'" href="#" />').appendTo(r).on(g.click+"-searchfield",function(e){e.preventDefault(),r.submit()})}e.hasClass(m.search)?e.replaceWith(r):e.prepend(r).addClass(m.hassearch)}if(p.noResults)if(e.closest("."+m.panel).length||(e=f.$pnls.children("."+m.panel).first()),!e.children("."+m.noresultsmsg).length){var l=e.children("."+m.listview).first();h('<div class="'+m.noresultsmsg+" "+m.hidden+'" />').append(p.noResults)[l.length?"insertAfter":"prependTo"](l.length?l:e)}}}),p.search){if(p.resultsPanel.add){p.showSubPanels=!1;var u=this.$pnls.children("."+m.resultspanel);u.length||(u=h('<div class="'+m.panel+" "+m.resultspanel+" "+m.hidden+'" />').appendTo(this.$pnls).append('<div class="'+m.navbar+" "+m.hidden+'"><a class="'+m.title+'">'+p.resultsPanel.title+"</a></div>").append('<ul class="'+m.listview+'" />').append(this.$pnls.find("."+m.noresultsmsg).first().clone()),this.init(u))}this.$menu.find("."+m.search).each(function(){var n,o,e=h(this),i=e.closest("."+m.panel).length;o=i?n=e.closest("."+m.panel):(n=h("."+m.panel,f.$menu),f.$menu),p.resultsPanel.add&&(n=n.not(u));function t(){var e=a.val().toLowerCase();if(e!=d){if(d=e,p.resultsPanel.add&&u.children("."+m.listview).empty(),n.scrollTop(0),l.add(s).addClass(m.hidden).find("."+m.fullsubopensearch).removeClass(m.fullsubopen+" "+m.fullsubopensearch),l.each(function(){var e=h(this),t="a";(p.showTextItems||p.showSubPanels&&e.find("."+m.next))&&(t="a, span"),-1<(e.data(v.searchtext)||e.children(t).text()).toLowerCase().indexOf(d)&&e.add(e.prevAll("."+m.divider).first()).removeClass(m.hidden)}),p.showSubPanels&&n.each(function(e){var t=h(this);f.__filterListItems(t.find("."+m.listview).children()).each(function(){var e=h(this),t=e.data(v.sub);e.removeClass(m.nosubresults),t&&t.find("."+m.listview).children().removeClass(m.hidden)})}),p.resultsPanel.add)if(""===d)this.closeAllPanels(),this.openPanel(this.$pnls.children("."+m.subopened).last());else{var t=h();n.each(function(){var e=f.__filterListItems(h(this).find("."+m.listview).children()).not("."+m.hidden).clone(!0);e.length&&(p.resultsPanel.dividers&&(t=t.add('<li class="'+m.divider+'">'+h(this).children("."+m.navbar).text()+"</li>")),t=t.add(e))}),t.find("."+m.next).remove(),u.children("."+m.listview).append(t),this.openPanel(u)}else h(n.get().reverse()).each(function(e){var t=h(this),n=t.data(v.parent);n&&(f.__filterListItems(t.find("."+m.listview).children()).length?(n.hasClass(m.hidden)&&n.children("."+m.next).not("."+m.fullsubopen).addClass(m.fullsubopen).addClass(m.fullsubopensearch),n.removeClass(m.hidden).removeClass(m.nosubresults).prevAll("."+m.divider).first().removeClass(m.hidden)):i||(t.hasClass(m.opened)&&setTimeout(function(){f.openPanel(n.closest("."+m.panel))},(e+1)*(1.5*f.conf.openingInterval)),n.addClass(m.nosubresults)))});o.find("."+m.noresultsmsg)[l.not("."+m.hidden).length?"addClass":"removeClass"](m.hidden),this.update()}}var a=e.children("input"),r=f.__findAddBack(n,"."+m.listview).children("li"),s=r.filter("."+m.divider),l=f.__filterListItems(r),d="";a.off(g.keyup+"-"+y+" "+g.change+"-"+y).on(g.keyup+"-"+y,function(e){!function(e){switch(e){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1}(e.keyCode)&&t.call(f)}).on(g.change+"-"+y,function(e){t.call(f)});var c=e.children("."+m.btn);c.length&&a.on(g.keyup+"-"+y,function(e){c[a.val().length?"removeClass":"addClass"](m.hidden)}),a.trigger(g.keyup+"-"+y)})}}})},add:function(){m=h[e]._c,v=h[e]._d,g=h[e]._e,m.add("clear search hassearch resultspanel noresultsmsg noresults nosubresults fullsubopensearch"),v.add("searchtext"),g.add("change keyup")},clickAnchor:function(e,t){}},h[e].defaults[y]={add:!1,addTo:"panels",placeholder:"Search",noResults:"No results found.",resultsPanel:{add:!1,dividers:!0,title:"Search results"},search:!0,showTextItems:!1,showSubPanels:!0},h[e].configuration[y]={clear:!1,form:!1,input:!1,submit:!1}}(jQuery),function(s){var l,i,e="mmenu",t="sectionIndexer";s[e].addons[t]={setup:function(){var r=this,o=this.opts[t];this.conf[t],s[e].glbl,"boolean"==typeof o&&(o={add:o}),"object"!=typeof o&&(o={}),o=this.opts[t]=s.extend(!0,{},s[e].defaults[t],o),this.bind("init",function(e){if(o.add){var t;switch(o.addTo){case"panels":t=e;break;default:t=s(o.addTo,this.$menu).filter("."+l.panel)}t.find("."+l.divider).closest("."+l.panel).addClass(l.hasindexer)}if(!this.$indexer&&this.$pnls.children("."+l.hasindexer).length){this.$indexer=s('<div class="'+l.indexer+'" />').prependTo(this.$pnls).append('<a href="#a">a</a><a href="#b">b</a><a href="#c">c</a><a href="#d">d</a><a href="#e">e</a><a href="#f">f</a><a href="#g">g</a><a href="#h">h</a><a href="#i">i</a><a href="#j">j</a><a href="#k">k</a><a href="#l">l</a><a href="#m">m</a><a href="#n">n</a><a href="#o">o</a><a href="#p">p</a><a href="#q">q</a><a href="#r">r</a><a href="#s">s</a><a href="#t">t</a><a href="#u">u</a><a href="#v">v</a><a href="#w">w</a><a href="#x">x</a><a href="#y">y</a><a href="#z">z</a>'),this.$indexer.children().on(i.mouseover+"-sectionindexer "+l.touchstart+"-sectionindexer",function(e){var t=s(this).attr("href").slice(1),n=r.$pnls.children("."+l.current),o=n.find("."+l.listview),i=!1,a=n.scrollTop();n.scrollTop(0),o.children("."+l.divider).not("."+l.hidden).each(function(){!1===i&&t==s(this).text().slice(0,1).toLowerCase()&&(i=s(this).position().top)}),n.scrollTop(!1!==i?i:a)});function n(e){r.$menu[(e.hasClass(l.hasindexer)?"add":"remove")+"Class"](l.hasindexer)}this.bind("openPanel",n),n.call(this,this.$pnls.children("."+l.current))}})},add:function(){l=s[e]._c,s[e]._d,i=s[e]._e,l.add("indexer hasindexer"),i.add("mouseover touchstart")},clickAnchor:function(e,t){return!!e.parent().is("."+l.indexer)||void 0}},s[e].defaults[t]={add:!1,addTo:"panels"}}(jQuery),function(n){var o,i,a="mmenu",r="setSelected";n[a].addons[r]={setup:function(){var e=this.opts[r];if(this.conf[r],n[a].glbl,"boolean"==typeof e&&(e={hover:e,parent:e}),"object"!=typeof e&&(e={}),(e=this.opts[r]=n.extend(!0,{},n[a].defaults[r],e)).current||this.bind("init",function(e){e.find("."+o.listview).children("."+o.selected).removeClass(o.selected)}),e.hover&&this.$menu.addClass(o.hoverselected),e.parent){this.$menu.addClass(o.parentselected);function t(e){this.$pnls.find("."+o.listview).find("."+o.next).removeClass(o.selected);for(var t=e.data(i.parent);t&&t.length;)t=t.children("."+o.next).addClass(o.selected).closest("."+o.panel).data(i.parent)}this.bind("openedPanel",t),this.bind("init",function(e){t.call(this,this.$pnls.children("."+o.current))})}},add:function(){o=n[a]._c,i=n[a]._d,n[a]._e,o.add("hoverselected parentselected")},clickAnchor:function(e,t){}},n[a].defaults[r]={current:!0,hover:!1,parent:!1}}(jQuery),function(a){var r,e="mmenu",t="toggles";a[e].addons[t]={setup:function(){var i=this;this.opts[t],this.conf[t],a[e].glbl,this.bind("init",function(e){this.__refactorClass(a("input",e),this.conf.classNames[t].toggle,"toggle"),this.__refactorClass(a("input",e),this.conf.classNames[t].check,"check"),a("input."+r.toggle+", input."+r.check,e).each(function(){var e=a(this),t=e.closest("li"),n=e.hasClass(r.toggle)?"toggle":"check",o=e.attr("id")||i.__getUniqueId();t.children('label[for="'+o+'"]').length||(e.attr("id",o),t.prepend(e),a('<label for="'+o+'" class="'+r[n]+'"></label>').insertBefore(t.children("a, span").last()))})})},add:function(){r=a[e]._c,a[e]._d,a[e]._e,r.add("toggle check")},clickAnchor:function(e,t){}},a[e].configuration.classNames[t]={toggle:"Toggle",check:"Check"}}(jQuery),function(t,n,o){"function"==typeof define&&define.amd?define(["jquery"],function(e){return o(e,t,n),e.mobile}):o(t.jQuery,t,n)}(this,document,function(e,t,n,o){function d(e,t,n,o){var i=n.type;n.type=t,o?c.event.trigger(n,r,e):c.event.dispatch.call(e,n),n.type=i}var c,a,r,u,i,s,l,f,p,h,m;(function(f,e,t,p){function h(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function a(e){for(var t,n,o={};e;){for(n in t=f.data(e,w))t[n]&&(o[n]=o.hasVirtualBinding=!0);e=e.parentNode}return o}function i(){A=!0}function r(){A=!1}function s(){l(),_=setTimeout(function(){H=_=0,E.length=0,N=!1,i()},f.vmouse.resetTimerDuration)}function l(){_&&(clearTimeout(_),_=0)}function d(e,t,n){var o;return(n&&n[e]||!n&&function(e,t){for(var n;e;){if((n=f.data(e,w))&&(!t||n[t]))return e;e=e.parentNode}return null}(t.target,e))&&(o=function(e,t){var n,o,i,a,r,s,l,d,c,u=e.type;if((e=f.Event(e)).type=t,n=e.originalEvent,o=f.event.props,-1<u.search(/^(mouse|click)/)&&(o=T),n)for(l=o.length;l;)e[a=o[--l]]=n[a];if(-1<u.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==u.search(/^touch/)&&(u=(i=h(n)).touches,r=i.changedTouches,s=u&&u.length?u[0]:r&&r.length?r[0]:p))for(d=0,c=D.length;d<c;d++)e[a=D[d]]=s[a];return e}(t,e),f(t.target).trigger(o)),o}function c(e){var t,n=f.data(e.target,x);N||H&&H===n||(t=d("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function u(e){var t,n,o,i=h(e).touches;!i||1!==i.length||(n=a(t=e.target)).hasVirtualBinding&&(H=R++,f.data(t,x,H),l(),r(),L=!1,o=h(e).touches[0],P=o.pageX,$=o.pageY,d("vmouseover",e,n),d("vmousedown",e,n))}function m(e){A||(L||d("vmousecancel",e,a(e.target)),L=!0,s())}function v(e){if(!A){var t=h(e).touches[0],n=L,o=f.vmouse.moveDistanceThreshold,i=a(e.target);(L=L||Math.abs(t.pageX-P)>o||Math.abs(t.pageY-$)>o)&&!n&&d("vmousecancel",e,i),d("vmousemove",e,i),s()}}function g(e){if(!A){i();var t,n,o=a(e.target);d("vmouseup",e,o),L||(t=d("vclick",e,o))&&t.isDefaultPrevented()&&(n=h(e).changedTouches[0],E.push({touchID:H,x:n.clientX,y:n.clientY}),N=!0),d("vmouseout",e,o),L=!1,s()}}function y(e){var t,n=f.data(e,w);if(n)for(t in n)if(n[t])return!0;return!1}function b(){}function n(n){var o=n.substr(1);return{setup:function(){y(this)||f.data(this,w,{}),f.data(this,w)[n]=!0,M[n]=(M[n]||0)+1,1===M[n]&&I.bind(o,c),f(this).bind(o,b),j&&(M.touchstart=(M.touchstart||0)+1,1===M.touchstart&&I.bind("touchstart",u).bind("touchend",g).bind("touchmove",v).bind("scroll",m))},teardown:function(){--M[n],M[n]||I.unbind(o,c),j&&(--M.touchstart,M.touchstart||I.unbind("touchstart",u).unbind("touchmove",v).unbind("touchend",g).unbind("scroll",m));var e=f(this),t=f.data(this,w);t&&(t[n]=!1),e.unbind(o,b),y(this)||e.removeData(w)}}}var C,o,w="virtualMouseBindings",x="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),D="clientX clientY pageX pageY screenX screenY".split(" "),S=f.event.mouseHooks?f.event.mouseHooks.props:[],T=f.event.props.concat(S),M={},_=0,P=0,$=0,L=!1,E=[],N=!1,A=!1,j="addEventListener"in t,I=f(t),R=1,H=0;for(f.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},o=0;o<k.length;o++)f.event.special[k[o]]=n(k[o]);j&&t.addEventListener("click",function(e){var t,n,o,i,a,r=E.length,s=e.target;if(r)for(t=e.clientX,n=e.clientY,C=f.vmouse.clickDistanceThreshold,o=s;o;){for(i=0;i<r;i++)if(a=E[i],0,o===s&&Math.abs(a.x-t)<C&&Math.abs(a.y-n)<C||f.data(o,x)===a.touchID)return e.preventDefault(),void e.stopPropagation();o=o.parentNode}},!0)})(e,0,n),e.mobile={},m={touch:"ontouchend"in n},(h=e).mobile.support=h.mobile.support||{},h.extend(h.support,m),h.extend(h.mobile.support,m),a=this,u=(c=e)(n),i=c.mobile.support.touch,s="touchmove scroll",l=i?"touchstart":"mousedown",f=i?"touchend":"mouseup",p=i?"touchmove":"mousemove",c.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,t){c.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},c.attrFn&&(c.attrFn[t]=!0)}),c.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){d(i,(n=t)?"scrollstart":"scrollstop",e)}var n,o,i=this;c(i).bind(s,function(e){c.event.special.scrollstart.enabled&&(n||t(e,!0),clearTimeout(o),o=setTimeout(function(){t(e,!1)},50))})},teardown:function(){c(this).unbind(s)}},c.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var r=this,s=c(r),l=!1;s.bind("vmousedown",function(e){function t(){clearTimeout(i)}function n(){t(),s.unbind("vclick",o).unbind("vmouseup",t),u.unbind("vmousecancel",n)}function o(e){n(),l||a!==e.target?l&&e.preventDefault():d(r,"tap",e)}if(l=!1,e.which&&1!==e.which)return!1;var i,a=e.target;s.bind("vmouseup",t).bind("vclick",o),u.bind("vmousecancel",n),i=setTimeout(function(){c.event.special.tap.emitTapOnTaphold||(l=!0),d(r,"taphold",c.Event("taphold",{target:a}))},c.event.special.tap.tapholdThreshold)})},teardown:function(){c(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),u.unbind("vmousecancel")}},c.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var t=a.pageXOffset,n=a.pageYOffset,o=e.clientX,i=e.clientY;return 0===e.pageY&&Math.floor(i)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=t,i-=n):(i<e.pageY-n||o<e.pageX-t)&&(o=e.pageX-t,i=e.pageY-n),{x:o,y:i}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=c.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:c(e.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=c.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(e,t,n,o){if(t.time-e.time<c.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>c.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<c.event.special.swipe.verticalDistanceThreshold){var i=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return d(n,"swipe",c.Event("swipe",{target:o,swipestart:e,swipestop:t}),!0),d(n,i,c.Event(i,{target:o,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,a=this,t=c(a),r={};(e=c.data(this,"mobile-events"))||(e={length:0},c.data(this,"mobile-events",e)),e.length++,(e.swipe=r).start=function(e){if(!c.event.special.swipe.eventInProgress){c.event.special.swipe.eventInProgress=!0;var t,n=c.event.special.swipe.start(e),o=e.target,i=!1;r.move=function(e){n&&!e.isDefaultPrevented()&&(t=c.event.special.swipe.stop(e),i||(i=c.event.special.swipe.handleSwipe(n,t,a,o))&&(c.event.special.swipe.eventInProgress=!1),Math.abs(n.coords[0]-t.coords[0])>c.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},r.stop=function(){i=!0,c.event.special.swipe.eventInProgress=!1,u.off(p,r.move),r.move=null},u.on(p,r.move).one(f,r.stop)}},t.on(l,r.start)},teardown:function(){var e,t;(e=c.data(this,"mobile-events"))&&(t=e.swipe,delete e.swipe,e.length--,0===e.length&&c.removeData(this,"mobile-events")),t&&(t.start&&c(this).off(l,t.start),t.move&&u.off(p,t.move),t.stop&&u.off(f,t.stop))}},c.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){c.event.special[e]={setup:function(){c(this).bind(t,c.noop)},teardown:function(){c(this).unbind(t)}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(d){var c,u,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],f=Array.prototype.slice;if(d.event.fixHooks)for(var n=e.length;n;)d.event.fixHooks[e[--n]]=d.event.mouseHooks;var o=d.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;d.data(this,"mousewheel-line-height",o.getLineHeight(this)),d.data(this,"mousewheel-page-height",o.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(d(e)["offsetParent"in d.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return d(e).height()},settings:{adjustOldDeltas:!0}};function i(e){var t,n=e||window.event,o=f.call(arguments,1),i=0,a=0,r=0;if((e=d.event.fix(n)).type="mousewheel","detail"in n&&(r=-1*n.detail),"wheelDelta"in n&&(r=n.wheelDelta),"wheelDeltaY"in n&&(r=n.wheelDeltaY),"wheelDeltaX"in n&&(a=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(a=-1*r,r=0),i=0===r?a:r,"deltaY"in n&&(i=r=-1*n.deltaY),"deltaX"in n&&(a=n.deltaX,0===r&&(i=-1*a)),0!==r||0!==a){if(1===n.deltaMode){var s=d.data(this,"mousewheel-line-height");i*=s,r*=s,a*=s}else if(2===n.deltaMode){var l=d.data(this,"mousewheel-page-height");i*=l,r*=l,a*=l}return t=Math.max(Math.abs(r),Math.abs(a)),(!u||t<u)&&h(n,u=t)&&(u/=40),h(n,t)&&(i/=40,a/=40,r/=40),i=Math[1<=i?"floor":"ceil"](i/u),a=Math[1<=a?"floor":"ceil"](a/u),r=Math[1<=r?"floor":"ceil"](r/u),e.deltaX=a,e.deltaY=r,e.deltaFactor=u,e.deltaMode=0,o.unshift(e,i,a,r),c&&clearTimeout(c),c=setTimeout(p,200),(d.event.dispatch||d.event.handle).apply(this,o)}}function p(){u=null}function h(e,t){return o.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(d){function t(e){var t=e||window.event,n=h.call(arguments,1),o=0,i=0,a=0,r=0;if((e=d.event.fix(t)).type="mousewheel","detail"in t&&(a=-1*t.detail),"wheelDelta"in t&&(a=t.wheelDelta),"wheelDeltaY"in t&&(a=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*a,a=0),o=0===a?i:a,"deltaY"in t&&(o=a=-1*t.deltaY),"deltaX"in t&&(i=t.deltaX,0===a&&(o=-1*i)),0!==a||0!==i){if(1===t.deltaMode){var s=d.data(this,"mousewheel-line-height");o*=s,a*=s,i*=s}else if(2===t.deltaMode){var l=d.data(this,"mousewheel-page-height");o*=l,a*=l,i*=l}return r=Math.max(Math.abs(a),Math.abs(i)),(!p||r<p)&&(u(t,p=r)&&(p/=40)),u(t,r)&&(o/=40,i/=40,a/=40),o=Math[1<=o?"floor":"ceil"](o/p),i=Math[1<=i?"floor":"ceil"](i/p),a=Math[1<=a?"floor":"ceil"](a/p),e.deltaX=i,e.deltaY=a,e.deltaFactor=p,e.deltaMode=0,n.unshift(e,o,i,a),f&&clearTimeout(f),f=setTimeout(c,200),(d.event.dispatch||d.event.handle).apply(this,n)}}function c(){p=null}function u(e,t){return i.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var f,p,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(d.event.fixHooks)for(var o=e.length;o;)d.event.fixHooks[e[--o]]=d.event.mouseHooks;var i=d.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t;d.data(this,"mousewheel-line-height",i.getLineHeight(this)),d.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(d(e)["offsetParent"in d.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return d(e).height()},settings:{adjustOldDeltas:!0}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(n){"use strict";var e,t,o,i,a,r,s,l;for(l=window.document,s=Object.defineProperty||n.noop,a=!1,t=["ms","moz","webkit",""];t.length;)if(e=t.pop(),(r=e?e+"Hidden":"hidden")in l){a=!0;break}if(a)e&&(n.event.special.visibilitychange={bindType:e+"visibilitychange"},s(l,"hidden",{get:function(){return l[r]}}),s(l,"visibilityState",{get:function(){return l[e+"VisibilityState"]}}));else{o=l.hidden=!1,i=l.visibilityState="visible";try{s(l,"hidden",{get:function(){return o},set:n.noop}),s(l,"visibilityState",{get:function(){return i},set:n.noop})}catch(e){}n(window).bind("focus blur",function(e){var t="blur"===e.type;o!==t&&(l.hidden=o=t,l.visibilityState=i=t?"hidden":"visible",n(l).trigger("visibilitychange"))})}}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.salvattore=t()}(this,function(){return window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var n,o=document.createElement("style"),e=document.getElementsByTagName("script")[0];o.type="text/css",o.id="matchmediajs-test",e.parentNode.insertBefore(o,e),n="getComputedStyle"in window&&window.getComputedStyle(o,null)||o.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return o.styleSheet?o.styleSheet.cssText=t:o.textContent=t,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){"use strict";if(window.matchMedia&&window.matchMedia("all").addListener)return;function i(e){clearTimeout(t),t=setTimeout(function(){for(var e=0,t=l.length;e<t;e++){var n=l[e].mql,o=l[e].listeners||[],i=s(n.media).matches;if(i!==n.matches){n.matches=i;for(var a=0,r=o.length;a<r;a++)o[a].call(window,n)}}},30)}var s=window.matchMedia,a=s("only all").matches,r=!1,t=0,l=[];window.matchMedia=function(e){var t=s(e),o=[],n=0;return t.addListener=function(e){a&&(r||(r=!0,window.addEventListener("resize",i,!0)),0===n&&(n=l.push({mql:t,listeners:o})),o.push(e))},t.removeListener=function(e){for(var t=0,n=o.length;t<n;t++)o[t]===e&&o.splice(t,1)},t}}(),function(){"use strict";for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),o=Math.max(0,16-(n-a)),i=window.setTimeout(function(){e(n+o)},o);return a=n+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),"function"!=typeof window.CustomEvent&&function(){"use strict";function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(s,c){"use strict";if(-1<(" "+c.documentElement.className+" ").indexOf("lt-ie9"))return!1;function u(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+t,n)}var f={},o=[],i=[],a=[];return f.obtainGridSettings=function(e){var t=s.getComputedStyle(e,":before").getPropertyValue("content").slice(1,-1).match(/^\s*(\d+)((?:\s*(?:\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*))+)\s*(balanced)?\s*$/),n="1",o=[],i=!1;return t?(n=t[1],(o=(o=t[2].trim()).split(".")).shift(),o=o.map(Function.prototype.call,String.prototype.trim),t[3]&&"balanced"===t[3]&&(i=!0)):o=["column"],{numberOfColumns:n,columnClasses:o,balanced:i}},f.addColumns=function(e,t){var n,o=f.obtainGridSettings(e),i=o.numberOfColumns,a=o.columnClasses,r=new Array(+i),s=c.createDocumentFragment(),l=i;if(f.balanced=o.balanced,f.balanced){for(;0!=l--;){var d=c.createElement("div");d.className=a.join(" "),s.appendChild(d)}e.appendChild(s),f.appendElements(e,Array.prototype.slice.call(t.children))}else{for(;0!=l--;)n="[data-columns] > *:nth-child("+i+"n-"+l+")",r.push(t.querySelectorAll(n));r.forEach(function(e){var t=c.createElement("div"),n=c.createDocumentFragment();t.className=a.join(" "),Array.prototype.forEach.call(e,function(e){n.appendChild(e)}),t.appendChild(n),s.appendChild(t)}),e.appendChild(s)}u(e,"columns",i)},f.removeColumns=function(e){var t=c.createRange();t.selectNodeContents(e);var n=Array.prototype.filter.call(t.extractContents().childNodes,function(e){return e instanceof s.HTMLElement}),o=n.length,i=n[0].childNodes.length,a=new Array(i*o);Array.prototype.forEach.call(n,function(e,n){Array.prototype.forEach.call(e.children,function(e,t){a[t*o+n]=e})});var r=c.createElement("div");return u(r,"columns",0),a.filter(function(e){return!!e}).forEach(function(e){r.appendChild(e)}),r},f.recreateColumns=function(t){s.requestAnimationFrame(function(){f.addColumns(t,f.removeColumns(t));var e=new CustomEvent("columnsChange");t.dispatchEvent(e)})},f.mediaQueryChange=function(e){e.matches&&Array.prototype.forEach.call(o,f.recreateColumns)},f.getCSSRules=function(e){var t;try{t=e.sheet.cssRules||e.sheet.rules}catch(e){return[]}return t||[]},f.getStylesheets=function(){var n=Array.prototype.slice.call(c.querySelectorAll("style"));return n.forEach(function(e,t){"text/css"!==e.type&&""!==e.type&&n.splice(t,1)}),Array.prototype.concat.call(n,Array.prototype.slice.call(c.querySelectorAll("link[rel='stylesheet']")))},f.mediaRuleHasColumnsSelector=function(e){var t,n;try{t=e.length}catch(e){t=0}for(;t--;)if((n=e[t]).selectorText&&n.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},f.scanMediaQueries=function(){var t=[];if(s.matchMedia){f.getStylesheets().forEach(function(e){Array.prototype.forEach.call(f.getCSSRules(e),function(e){try{e.media&&e.cssRules&&f.mediaRuleHasColumnsSelector(e.cssRules)&&t.push(e)}catch(e){}})});var n=i.filter(function(e){return-1===t.indexOf(e)});a.filter(function(e){return-1!==n.indexOf(e.rule)}).forEach(function(e){e.mql.removeListener(f.mediaQueryChange)}),a=a.filter(function(e){return-1===n.indexOf(e.rule)}),t.filter(function(e){return-1==i.indexOf(e)}).forEach(function(e){var t=s.matchMedia(e.media.mediaText);t.addListener(f.mediaQueryChange),a.push({rule:e,mql:t})}),i.length=0,i=t}},f.rescanMediaQueries=function(){f.scanMediaQueries(),Array.prototype.forEach.call(o,f.recreateColumns)},f.nextElementColumnIndex=function(e,t){function n(e){c[i]+=f.getHeightFromElement(e)}var o,i,a,r=e.children,s=r.length,l=0,d=0,c=[];if(f.balanced){for(i=0;i<s;i++)c[i]=f.getHeightFromElement(r[i]),Array.prototype.forEach.call(t[i].childNodes,n);if(0<(a=Math.min.apply(Math,c)))return c.indexOf(a)}for(i=0;i<s;i++)o=r[i].children.length+(t[i].children||t[i].childNodes).length,0===l&&(l=o),o<l&&(d=i,l=o);return d},f.createFragmentsList=function(e){for(var t=new Array(e),n=0;n!==e;)t[n]=c.createDocumentFragment(),n++;return t},f.replaceElements=function(e,t){var n=e.children;Array.prototype.forEach.call(n,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}),f.appendElements(e,t)},f.appendElements=function(n,e){var t=n.children,o=t.length,i=f.createFragmentsList(o),a=c.createElement("div");f.balanced&&(a.className=f.obtainGridSettings(n).columnClasses.join(" "),a.appendChild(f.createFragment(e)),n.appendChild(a),f.saveElementsHeight(e),n.removeChild(a)),Array.prototype.forEach.call(e,function(e){var t=f.nextElementColumnIndex(n,i);i[t].appendChild(e)}),Array.prototype.forEach.call(t,function(e,t){e.appendChild(i[t])})},f.prependElements=function(e,t){var n=e.children,o=n.length,i=f.createFragmentsList(o),a=o-1;t.forEach(function(e){var t=i[a];t.insertBefore(e,t.firstChild),0===a?a=o-1:a--}),Array.prototype.forEach.call(n,function(e,t){e.insertBefore(i[t],e.firstChild)});for(var r=c.createDocumentFragment(),s=t.length%o;0!=s--;)r.appendChild(e.lastChild);e.insertBefore(r,e.firstChild)},f.registerGrid=function(e){if("none"!==s.getComputedStyle(e).display){var t=c.createRange();t.selectNodeContents(e);var n=c.createElement("div");n.appendChild(t.extractContents()),u(n,"columns",0),f.addColumns(e,n),o.push(e)}},f.createFragment=function(e){var t=c.createDocumentFragment();return Array.prototype.forEach.call(e,function(e){t.appendChild(e)}),t},f.getHeightFromElement=function(e){var t=e.getBoundingClientRect().height;if(!t){var n=function(e,t){return e.dataset?e.dataset[t]:e.setAttribute("data-"+t)}(e,"salvatorreHeight");n&&(t=parseInt(n,10))}return t},f.saveElementsHeight=function(e){Array.prototype.forEach.call(e,function(e){u(e,"salvatorreHeight",Math.floor(e.getBoundingClientRect().height))})},f.init=function(){var e=c.createElement("style");e.innerHTML="[data-columns]::before{display:block;visibility:hidden;position:absolute;font-size:1px;}",c.head.appendChild(e);var t=c.querySelectorAll("[data-columns]");Array.prototype.forEach.call(t,f.registerGrid),f.scanMediaQueries()},f.init(),{appendElements:f.appendElements,prependElements:f.prependElements,replaceElements:f.replaceElements,registerGrid:f.registerGrid,recreateColumns:f.recreateColumns,rescanMediaQueries:f.rescanMediaQueries,init:f.init,append_elements:f.appendElements,prepend_elements:f.prependElements,register_grid:f.registerGrid,recreate_columns:f.recreateColumns,rescan_media_queries:f.rescanMediaQueries,_test:{obtainGridSettings:f.obtainGridSettings}}}(window,window.document)});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var AjaxFetch=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n),this.namespace=e,this.handler={},this.rawHandler={},"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&(this.handler=Object.assign(this.handler,t)),this.throwErrorOnInvalidCode=function(e){if("number"!=typeof e&&!this.checkStatusCode(e))throw"range must by of format 100-599"},"function"==typeof $&&"function"==typeof $.ajax&&(this.ajaxFn=$.ajax)}return _createClass(n,[{key:"withAjaxFunction",value:function(e){this.ajaxFn=e}},{key:"setHandler",value:function(e,t){var n=this;Array.isArray(e)?e.forEach(function(e){n.throwErrorOnInvalidCode(e),n.handler[e]=t}):(this.throwErrorOnInvalidCode(e),this.handler[e]=t)}},{key:"handlers",value:function(){return this.handler}},{key:"setRawHandler",value:function(e,t){var n=this;Array.isArray(e)?e.forEach(function(e){n.throwErrorOnInvalidCode(e),n.rawHandler[e]=t}):(this.throwErrorOnInvalidCode(e),this.rawHandler[e]=t)}},{key:"rawHandlers",value:function(){return this.rawHandler}},{key:"getRequest",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return t=Object.assign(t,{headers:{cache:!1}})}},{key:"statusCodeMatchingHandlers",value:function(e,t){var n=[],o=Object.keys(e);if(o.length<=0)return n;var i=parseInt(t);if(isNaN(i))throw"code can only be of type number (100-599)";for(var a,r,s,l,d,c=/^-*[0-9]+$/,u=0;u<o.length;u++){var f=o[u];f.match(c)?(l=parseInt(f),void 0,((d=parseInt(l))<0?d+i!==0:i===d)&&n.push(e[f])):(void 0,a=f.split("-"),r=parseInt(a[0]),s=parseInt(a[1]),r<=t&&t<=s&&n.push(e[f]))}return n}},{key:"checkStatusCode",value:function(e){if("string"!=typeof e)return 100<=e&&e<=599;if(e.match(/^[0-9]{3}$/)){var t=parseInt(e);return!isNaN(t)&&t<600}var n=String(e).split("-");return 2===n.length&&!(n[0]<100||599<n[0]||n[1]<100||599<n[1])}},{key:"_call",value:function(e){var i=this,a=this;return this.ajaxFn(this.namespace,e).then(function(t,n,o){var i="";a.statusCodeMatchingHandlers(a.rawHandler,o.status).forEach(function(e){return e(o,t,n)});try{i=JSON.parse(t)}catch(e){try{i=JSON.parse(o.responseText)}catch(e){}}return a.handler[o.status]?{data:a.handler[o.status](i),status:o.status}:{data:i,status:o.status}}).fail(function(t){var n=void 0,e=t.status,o=null;i.statusCodeMatchingHandlers(i.rawHandler,t.status).forEach(function(e){return e(t)}),a.handler[e]?o=a.handler[e]:a.handler._default&&(o=a.handler._default);try{n=JSON.parse(t.responseText)}catch(e){n=null}if("function"==typeof o)try{n=o({data:n,status:e})}catch(e){n=null}return{data:n,status:e}})}},{key:"get",value:function(e){var t=this.getRequest(e);return t.method="GET",this._call(t)}},{key:"post",value:function(e,t){var n=this.getRequest(t);return n.method="POST",n.data=JSON.stringify(e),this._call(n)}},{key:"postForm",value:function(e,t){var n=this.getRequest(t);return n.method="POST",n.data=e,this._call(n)}},{key:"put",value:function(e,t){var n=this.getRequest(t);return n.method="PUT",n.data=JSON.stringify(e),this._call(n)}},{key:"del",value:function(e,t){var n=this.getRequest(t);return n.method="DELETE",n.data=JSON.stringify(e),this._call(n)}}]),n}();"object"===(void 0===R?"undefined":_typeof(R))?R.me("AjaxFetch"):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=AjaxFetch);_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CartMutator=function(){function n(e,t){_classCallCheck(this,n),this._storage=e,this._localsessionstorage=t,this._mutated={}}return _createClass(n,[{key:"getMutated",value:function(){return this._mutated}},{key:"parseCartResult",value:function(o){var i=this;this._mutated={};var e=parseInt(o.order.timestamp);if(isNaN(e)||e<this._storage.ts)return this._storage.init(),o;try{if(Array.isArray(o.unavailableItems)){var t=[];o.unavailableItems.forEach(function(e){i._storage.remove(e.hnum),t.push(e.hnum)}),this._mutated.removed=t}if(Array.isArray(o.priceChanges)){var n=[],a=!0;o.priceChanges.forEach(function(e){var t=i._storage.get(e.hnum);null!==t&&(0<=t.price&&(a=!1),i._storage.set(e.hnum,t.amount,e.newPrice),n.push(e.hnum))}),0<n.length&&(this._mutated.changed=n),this._mutated.priceChangesAllInitially=a}if(o&&o.order&&o.order.items){var r=Object.keys(o.order.items),s=this._storage.hnums();this._mutated.removed=this._mutated.removed||[],s.forEach(function(e){r.indexOf(e)<0&&(i._storage.remove(e),i._mutated.removed.push(e))}),r.forEach(function(e){i._storage.set(e,o.order.items[e].amount,o.order.items[e].unitPrice+o.order.items[e].rabattUnit)})}if(o.errors)if(o.errors.purgeVouchers)this._storage.removeFlag("vouchers"),this._mutated.purgedVouchers=!0;else if(o.errors.vouchers){var l=this._storage.getFlag("vouchers"),d=o.errors.vouchers;Array.isArray(l)&&(36==d.err?(this._mutated.itemsVoucherMaxQuantity=0,this._storage.hnums().forEach(function(e){var t=i._storage.get(e),n=o.order.items[e];t.amount!=n.amount&&(i._storage.set(e,n.amount,t.price),i._mutated.itemsVoucherMaxQuantity=d.maxQuantity)})):(l.splice(l.indexOf(d.code),1),this._mutated.voucherRemoved=d.code,this._storage.setFlag("vouchers",l)))}this._storage.hasFlag("ordersign")&&(o.ordersign=this._storage.getFlag("ordersign")),o.removeVinylSwag&&this._storage.removeFlag("vinylSwag"),o.removeSwag&&this._storage.removeSwagFlags()}catch(d){if("cart dirty but changed in background"===d)return this._storage.init(),o}return this._storage.ts<=e?this._storage.persist():this._storage.init(),this._localsessionstorage.addRemovedHnums(this._mutated),o}}]),n}();R.me("CartMutator");_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var LocalSessionStorage=function(){function t(e){_classCallCheck(this,t),this._storage=void 0!==e?e:sessionStorage}return _createClass(t,[{key:"add",value:function(e,t){this._storage.setItem(e,JSON.stringify(t))}},{key:"addRemovedHnums",value:function(t){var n=this,o=[6510070,6510071],i={},a={};["removed"].forEach(function(e){t&&t[e]&&0<t[e].length&&(i[e]=n.get(e),i[e]||(i[e]=[]),a[e]=i[e].concat(t[e]),a[e]=a[e].filter(function(e,t,n){return!(10<e.length)&&n.indexOf(e)===t&&o.indexOf(e)<0}),0<a[e].length&&n.add(e,a[e]))})}},{key:"remove",value:function(e){this._storage.removeItem(e)}},{key:"clearAll",value:function(){this._storage.clear()}},{key:"clearRemoved",value:function(){this._storage.removeItem("removed")}},{key:"get",value:function(e){return JSON.parse(this._storage.getItem(e))}},{key:"getAllRemovedHnumsAndClearThem",value:function(){var e=this.get("removed");return this.clearRemoved(),e}},{key:"getAllRemovedHnums",value:function(){return this.get("removed")}}]),t}();"undefined"!=typeof window?R.me("LocalSessionStorage"):"undefined"!=typeof module&&(module.exports=LocalSessionStorage);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CartStorage=function(){function e(){_classCallCheck(this,e),this._items={},this._flags={},this._ns="cart",this._lt=36288e5,this._loadTs=0,this._isDirty=!1,this.init()}return _createClass(e,[{key:"ts",get:function(){var e=parseInt(localStorage.getItem(this._ns+"Ts"));return isNaN(e)?0:e},set:function(e){var t=e;e instanceof Date&&(t=e.getTime()),isNaN(t)&&(t=0),localStorage.setItem(this._ns+"Ts",t)}}]),_createClass(e,[{key:"clear",value:function(){var t=this;return["Ts","Items","Lifetime","Flags"].forEach(function(e){localStorage.removeItem(t._ns+e)}),this._items={},this._flags={},this._isDirty=!0,this}},{key:"clearAndWrite",value:function(){return this.clear().persist()}},{key:"init",value:function(){var e,t;if(this._items={},this._flags={},this._isDirty=!1,"undefined"==typeof localStorage)throw new Error("cartstorage localStorage undefined: "+JSON.stringify({userAgent:navigator.userAgent,opener:String(window.opener),frameElement:String(window.frameElement)}));return e=localStorage.getItem(this._ns+"Items"),t=localStorage.getItem(this._ns+"Flags"),e&&(this._items=this.validateItems(JSON.parse(e))),t&&(this._flags=JSON.parse(t)),this._loadTs=(new Date).getTime(),this}},{key:"validateItems",value:function(t){if(t!==Object(t))return t;var e=Object.keys(t),n={};return e.forEach(function(e){null!==t[e].amount&&void 0!==t[e].amount&&null!==t[e].price&&void 0!==t[e].price&&(n[String(e)]=t[e])}),n}},{key:"shouldUpdate",value:function(){if(this.ts>this._loadTs){if(this._isDirty)throw new Exception("cart dirty but changed in background");return!0}return!1}},{key:"set",value:function(e,t,n,o){if(3<arguments.length&&void 0!==o&&o||!this.shouldUpdate()||this.init(),null==e||""==e)throw"hnum not valid: "+e;if(isNaN(t))throw"amount not a number: "+t;if(isNaN(n))throw"price not a number: "+n;return n=Math.round(100*n)/100,this._items[String(e)]={amount:t,price:n},this._isDirty=!0,this}},{key:"setAndWrite",value:function(e,t,n){return this.init().set(e,t,n,!0).persist()}},{key:"get",value:function(e){return this.shouldUpdate()&&this.init(),this._items[e]||null}},{key:"has",value:function(e){return this.shouldUpdate()&&this.init(),!!this._items[e]}},{key:"remove",value:function(e,t){return 1<arguments.length&&void 0!==t&&t||!this.shouldUpdate()||this.init(),this._items[e]&&delete this._items[e],this._isDirty=!0,this}},{key:"removeAndWrite",value:function(e){return this.init().remove(e,!0).persist()}},{key:"hnums",value:function(){this.shouldUpdate()&&this.init();var e=Object.keys(this._items),t=[];return e.forEach(function(e){t.push(e)}),t}},{key:"calculate",value:function(){var o=this,i=0,a=0;return Object.keys(this._items).forEach(function(e){var t=parseInt(o._items[e].amount),n=parseFloat(o._items[e].price);isNaN(t)||isNaN(n)||(i+=t,a+=n*t)}),null!=this.getFlag("vinylSwag")&&i++,null!=this.getFlag("swag")&&i++,{amount:i,price:a}}},{key:"setFlag",value:function(e,t,n){var o=!(1<arguments.length&&void 0!==t)||t;return 2<arguments.length&&void 0!==n&&n||!this.shouldUpdate()||this.init(),this._flags[e]=o,this._isDirty=!0,this}},{key:"setFlagAndWrite",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;return this.init().setFlag(e,n,!0).persist()}},{key:"getFlag",value:function(e){return this.shouldUpdate()&&this.init(),void 0===this._flags[e]?null:this._flags[e]}},{key:"getSwagFlags",value:function(){this.shouldUpdate()&&this.init();var e=[];for(var t in this._flags)"swag-"==t.substring(0,5)&&""!=this._flags[t]&&(e[t]=this._flags[t]);return e}},{key:"getSwagAmounts",value:function(){this.shouldUpdate()&&this.init();var e=[];for(var t in this._flags)"swagamount-"==t.substring(0,11)&&""!=t.substring(11)&&(e[t]=this._flags[t]);return e}},{key:"hasFlag",value:function(e){return this.shouldUpdate()&&this.init(),!!this._flags[e]}},{key:"removeFlag",value:function(e,t){return 1<arguments.length&&void 0!==t&&t||!this.shouldUpdate()||this.init(),this._flags[e]&&delete this._flags[e],this._isDirty=!0,this}},{key:"removeSwagFlags",value:function(e){var t=0<arguments.length&&void 0!==e&&e;for(var n in!t&&this.shouldUpdate()&&this.init(),this._flags)"swag-"==n.substring(0,5)&&delete this._flags[n],"swagamount-"==n.substring(0,11)&&delete this._flags[n],"swagamountset-"==n.substring(0,14)&&delete this._flags[n];return this._isDirty=!0,this}},{key:"removeFlagAndWrite",value:function(e){return this.init().removeFlag(e,!0).persist()}},{key:"persist",value:function(){return!(!this._isDirty||(this.ts=(new Date).getTime(),localStorage.setItem(this._ns+"Items",JSON.stringify(this._items)),localStorage.setItem(this._ns+"Flags",JSON.stringify(this._flags)),localStorage.setItem(this._ns+"Lifetime",(this.ts+this._lt).toString()),this._isDirty=!1))}},{key:"stringify",value:function(){return this.shouldUpdate()&&this.init(),JSON.stringify({items:this._items,flags:this._flags})}},{key:"postData",value:function(){return{items:this._items,flags:this._flags,ts:this.ts}}}]),e}();"object"===(void 0===R?"undefined":_typeof(R))?R.me("CartStorage"):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=CartStorage);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CartStorageSync=function(){function n(e,t){_classCallCheck(this,n),this._cartStorage=e,this._successHandler=t}return _createClass(n,[{key:"withSessionSyncHandler",value:function(e){this._sessionSyncHandler=e}},{key:"sessionSyncHandler",value:function(){if("function"==typeof this._sessionSyncHandler)return this._sessionSyncHandler;var t=this.sessionSyncConnector();return this._sessionSyncHandler=function(e){setTimeout(function(){t.post(e)},1e3)},this._sessionSyncHandler}},{key:"withSessionSyncConnector",value:function(e){this._sessionSyncConnector=e}},{key:"sessionSyncConnector",value:function(){return"object"===_typeof(this._sessionSyncConnector)||(this._sessionSyncConnector=new AjaxFetch("/session/cart")),this._sessionSyncConnector}},{key:"withCartSyncConnector",value:function(e){this._cartSyncConnector=e}},{key:"cartSyncConnector",value:function(){if("object"===_typeof(this._cartSyncConnector))return this._cartSyncConnector;this._cartSyncConnector=new AjaxFetch("/checkout/cart/recalculate");var t=this.errorHandler();return this._cartSyncConnector.setRawHandler("400-599",function(e){t.handleErrorResponse(e,"cartstoragesync cart error")}),this._cartSyncConnector}},{key:"withErrorHandler",value:function(e){this._errorHandler=e}},{key:"errorHandler",value:function(){return"object"===_typeof(this._errorHandler)||(this._errorHandler=new CartErrorHandler),this._errorHandler}},{key:"syncCart",value:function(){var e=this._cartStorage.postData(),t=this.errorHandler(),n=this.sessionSyncHandler(),o=this.cartSyncConnector(),i=this._successHandler;o.post(e).then(function(e){"object"===(void 0===e?"undefined":_typeof(e))&&"object"===_typeof(e.data)&&"object"===_typeof(e.data.order)?i(e):t.handleException('no valid return "'+JSON.stringify(e)+'"',"cartstoragesync then")}),n(e)}}]),n}();"object"===(void 0===R?"undefined":_typeof(R))?R.me("CartStorageSync",["AjaxFetch","CartStorage","CartMutator","CartErrorHandler"]):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=CartStorageSync);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CartErrorHandler=function(){function e(){var n=this;_classCallCheck(this,e),this.xhrBuilder=function(){return new XMLHttpRequest},this.localStorageAccessor=function(){return localStorage},this.send=function(e){var t=n.xhrBuilder();t.open("POST","/checkout/cart/errorhandler",!0),t.setRequestHeader("Content-Type","application/json"),t.send(e)},this.localStorageAsPlainObject=function(){var e=n.localStorageAccessor(),t=JSON.parse(JSON.stringify(e));return"object"===(void 0===t?"undefined":_typeof(t))?t:{exception:"cannot serialize localstorage",rawData:e}}}return _createClass(e,[{key:"withXmlHttpRequestBuilder",value:function(e){this.xhrBuilder=e}},{key:"withLocalStorageAccessor",value:function(e){this.localStorageAccessor=e}},{key:"handleException",value:function(e,t){var n,o=void 0,i=void 0,a=void 0,r=void 0;n=e instanceof Error?(o=e.message,JSON.stringify(e.stack)):(o=e,""),"undefined"!=typeof navigator&&(i=navigator.platform,a=navigator.userAgent),"undefined"!=typeof location&&(r=location.href),this.send(JSON.stringify({origin:t,exception:o,stack:n,platform:String(i),userAgent:String(a),url:String(r),localStorage:this.localStorageAsPlainObject()}))}},{key:"handleErrorResponse",value:function(e,t){this.send(JSON.stringify({origin:t,status:e.status,responseText:e.responseText,responseHeader:e.getAllResponseHeaders(),localStorage:this.localStorageAsPlainObject()}))}}]),e}();"object"===(void 0===R?"undefined":_typeof(R))?R.me("CartErrorHandler",!1):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=CartErrorHandler);var GiftCard={C:null,_GIFTCARD_HNUM:"40000000",_TYPE_PRINT:"print",_TYPE_ONLINE:"online",toCartHandler:function(){GiftCard.C=new CartStorage,GiftCard.createTextArea(),GiftCard.applyOnlineToCartEvent(),GiftCard.applyPrintToCartEvent()},init:function(){Dom.voucherPage=$(".voucher-page"),Dom.voucherPage[0]&&GiftCard.toCartHandler()},applyPrintToCartEvent:function(){var d=[15,20,25,30,50,100],c=$("#printGiftCard form").first(),u=void 0;if(!c[0])return!1;location.hash.match(/printGiftCard/)&&(u=GiftCard.applyPreload(c)),c.find(">button").on("click.submit",function(e){e.preventDefault();var t=parseInt(c.find("input:checked").val()),n=parseInt(c.find(".gcAmount").val()||1);if(-1===d.indexOf(t))return!1;var o=c.find(".recipient-text").val().trim(),i=o.replace(/\r|\n/g,"").length,a=o.split("\n").length;if(i>c.data("maxlength")||a>c.data("rows"))return c.find(".messageError").fadeIn(),!1;var r=GiftCard.genHnum(u);GiftCard.C.set(r,n,t);var s={type:GiftCard._TYPE_PRINT,hnum:GiftCard._GIFTCARD_HNUM,value:t,text:stripTags(o)};GiftCard.C.hasFlag("giftcard")||GiftCard.C.setFlag("giftcard",{});var l=GiftCard.C.getFlag("giftcard");l[r]=s,GiftCard.C.setFlag("giftcard",l),GiftCard.C.persist(),ModuleBody.setMiniCart()})},applyPreload:function(e){var t=new CartStorage,n=location.search.match(/hnum=([-0-9]+)/);if(null!==n&&n[1]){var o=t.getFlag("giftcard");if(!o||!o[n[1]])return!1;var i=t.get(n[1]),a=o[n[1]],r=e.find("button.to-cart");if(r.find(".button-text")&&(r.find(".button-text")[0].innerHTML=r.data("edit-text")),"online"==a.type?(e.find("input[name=couponnum][value="+a.value+"]").prop("checked",!0),e.find("input[name=coupontheme][value="+a.motif+"]").prop("checked",!0),e.find("input[name=gcAmount]").val(i.amount),""!=a.email&&void 0!==a.email&&(e.find(".hasrecipient").prop("checked",!0),e.find("input[disabled],textarea[disabled]").prop("disabled",!1),e.find("input[name=recipient]").val(a.email))):(a.type="print")&&e.find("input[name=giftnum][data-value"+a.value+"]").prop("checked",!0),""!==a.text){e.find("textarea[name=recipient_text]").val(a.text);var s=e.data("cols"),l=e.data("rows"),d=e.data("maxlength");GiftCard.countChars(e,d,s,l)}return n[1]}},applyOnlineToCartEvent:function(){var f=[15,20,25,30,50,100],p=$("#onlineGiftCard form").first(),h=void 0;if(!p[0])return!1;location.hash.match(/onlineGiftCard/)&&(h=GiftCard.applyPreload(p)),p.find("button").on("click.submit",function(e){e.preventDefault();var t=parseInt(p.find(".valueSelector").find("input:checked").val()),n=p.find(".motifSelector").find("input:checked").val(),o=p.find(".hasrecipient").prop("checked"),i=p.find(".recipient").val(),a=p.find(".recipient-text").val().trim(),r=parseInt(p.find(".gcAmount").val()||1),s=a.replace(/\r|\n/g,"").length,l=a.split("\n").length;if(s>p.data("maxlength")||l>p.data("cols"))return p.find(".messageError").fadeIn(),!1;if(-1===f.indexOf(parseInt(t)))return p.find(".priceError").fadeIn(),!1;if(o&&!i.match(/@.*\./))return p.find(".mailError").fadeIn(),!1;var d=GiftCard.genHnum(h);GiftCard.C.set(d,r,t);var c;c=o?{type:GiftCard._TYPE_ONLINE,hnum:GiftCard._GIFTCARD_HNUM,value:t,email:stripTags(i),motif:n,text:stripTags(a)}:{type:GiftCard._TYPE_ONLINE,hnum:GiftCard._GIFTCARD_HNUM,value:t,motif:n},GiftCard.C.hasFlag("giftcard")||GiftCard.C.setFlag("giftcard",{});var u=GiftCard.C.getFlag("giftcard");u[d]=c,GiftCard.C.setFlag("giftcard",u),GiftCard.C.persist(),ModuleBody.setMiniCart()})},genHnum:function(e){if(e)return e;for(var t=1,n=GiftCard._GIFTCARD_HNUM+"-"+t;GiftCard.C.has(n);)t++,n=GiftCard._GIFTCARD_HNUM+"-"+t;return n},countChars:function(e,t,d,n){var o=e.find(".recipient-text"),c=e.find(".text-counter"),u=e.find("button"),f=e.find(".text-char-cnt"),p=e.find(".text-lines-cnt");if(!(o.length<=0)){var h=o.val().length,m=o.val().split("\n");f.html(t-h),p.html(n-m.length),o.off("keyup").on("keyup",function(e){var i=[],a="",r=o.prop("selectionStart"),s=o.prop("selectionEnd"),l=0;if(m=o.val().split("\n"),h=m.join("").length,m.forEach(function(e){var t=[],n=[];if(""!=a?t=(a+" "+e).split(" "):""!=e&&(t=e.split(" ")),a="",1==t.length&&t[0].length>d)i.push(t[0].substr(0,d)),a=t[0].substr(d);else{for(;0<t.length&&n.concat(t[0]).join(" ").length<=d;){var o=t.shift();n.push(o),l+=o.length}0<t.length&&(a=t.join(" "),r==s&&l<=r&&r<=l+a.length&&(r++,s++)),i.push(n.join(" "))}}),""!=a)for(;""==i[i.length-1]?i[i.length-1]=a.substr(0,d):i.push(a.substr(0,d)),0<(a=a.substr(d)).length;);o.val(i.join("\n")),e.ctrlKey||e.altKey||e.metaKey||r!=s||o.prop("selectionStart",r).prop("selectionEnd",r),t-h<0||n-i.length<0?(c.removeClass("error").addClass("error"),u.removeClass("disabled").addClass("disabled").prop("disabled",!0)):(c.removeClass("error"),u.removeClass("disabled").prop("disabled",!1)),f.html(t-h),p.html(n-i.length)})}},createTextArea:function(){Dom.voucherPage.find(".vouchersection").each(function(){var e=$(this).find("form"),t=e.find(".recipient-text"),n=e.data("cols"),o=e.data("rows"),i=e.data("maxlength"),a="disabled='disabled'";1==t.data("enabled")&&(a="");var r=$('<textarea  cols="'+n+'" rows="'+o+'" name="recipient_text"'+a+' class="recipient-text"></textarea>');t.replaceWith(r),GiftCard.countChars(e,i,n,o)})}};R.me("GiftCard",!1);var Ajax={getStdConfig:function(){return{url:Main.jpcng+"/xajax.php",method:"GET",p:"ajax",data:{NG:1,xjxr:parseInt((new Date).getTime()/1e3,10)},success:function(){return!0},error:function(){var e=$('<div class="help-layer error-layer"></div>');e.html("<h2>Leider ist ein Fehler aufgetreten!</h2>"),Dom.body.append(e),ModuleBody.openHelpLayer(e)},complete:function(){return!0}}},doXHR:function(e,t,n,o,i){var a=$.extend({},Ajax.getStdConfig());return"POST"!=(e=e.toUpperCase())&&"GET"!=e||(a.method=e),null!=t&&null!=t&&(a.data=$.extend(a.data,t)),$.isFunction(n)&&(a.success=n),$.isFunction(o)&&(a.error=o),$.isFunction(i)&&(a.complete=i),$.ajax(a),!0},get:function(e,t,n,o){Ajax.doXHR("GET",e,t,n,o)},post:function(e,t,n,o){Ajax.doXHR("POST",e,t,n,o)}};R.me("ajax");var Dom={};function cl(e){"object"==typeof console?console.log(e):alert("console.log: "+e)}function openPopup(e,t,n,o){var i=0,a=0;t=t||"Neues Fenster",n=n||600,o=o||600,void 0!==window.screenLeft?(i=window.screenLeft,a=window.screenTop):void 0!==window.screenX&&(i=window.screenX,a=window.screenY);var r={toolbar:"no",location:"no",directories:"no",left:i+($(window).width()-n)/2,top:a+($(window).height()-o)/2,status:"yes",menubar:"no",scrollbars:"yes",resizable:"no",width:n,height:o},s=[];for(var l in r)s.push(l+"="+r[l]);var d=s.join(",");null!=Dom&&Dom.html.hasClass("lt-ie9")&&(t="");var c=window.open(e,t,d);return c.focus(),c}function strHasWhiteSpace(e){return 0<=e.indexOf(" ")}function respondMinOnly(e){return!!Dom.html.hasClass("no-mediaqueries")||Modernizr.mq("screen and (min-width: "+e+"px)")}function respondMaxOnly(e){return Modernizr.mq("(max-width: "+e+"px)")}function respondMinMax(e,t){return Modernizr.mq("screen and (min-width: "+e+"px) and (max-width: "+t+"px)")}function stopPropagation(e){e.stopPropagation()}function getFormData(e){var t={};return e.find("input, select, textarea").each(function(){if(1==$(this).attr("disabled")||"disabled"==$(this).attr("disabled"))return!0;if(("checkbox"==$(this).attr("type")||"radio"==$(this).attr("type"))&&!$(this).is(":checked"))return!0;var e=$(this).attr("name");e&&(e.endsWith("[]")?(e=e.replace("[]",""),$.isArray(t[e])||(t[e]=[]),t[e].push($(this).val())):t[e]=$(this).val())}),t}function sendAjaxForm(e,t,n,o){var i={method:e.attr("method"),url:e.attr("action"),data:getFormData(e)};return $.isFunction(t)&&(i.success=t),$.isFunction(n)&&(i.fail=n),$.isFunction(o)&&(i.complete=o),$.ajax(i),!0}function clone(e){if(!e||"object"!=typeof e||"[object Function]"===Object.prototype.toString.call(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,n,o;if(e instanceof Array)for(t=[],n=0,o=e.length;n<o;++n)n in e&&t.push(clone(e[n]));else t=e.constructor?new e.constructor:{};return function(e,t,n){var o,i,a={};for(o in t)i=t[o],o in e&&(e[o]===i||o in a&&a[o]===i)||(e[o]=n?n(i):i);return e}(t,e,clone)}function createCookie(e,t,n){var o="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()}document.cookie=e+"="+t+o+"; path=/"}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function readJWT(){try{var e=readCookie("jwt");if(null!=e){var t=e.split(".");if(t[1]){var n=decode64(t[1]);if(n){n=n.substring(n.indexOf("{"),n.lastIndexOf("}")+1);var o=JSON.parse(n);if(o)return o}}}}catch(e){return!1}return null}function getCustomerIdFromJwt(){var e,t=readJWT();return"object"==typeof t&&null!==t&&(e=parseInt(t.id||0),!isNaN(e)&&0!==e&&e)}function getLocalCachedFlag(e){var t,n,o;try{t=JSON.parse(localStorage.getItem("localCache"))}catch(e){return removeLocalCachedFlag(null),null}return"object"!=typeof t||null===t?(removeLocalCachedFlag(null),null):"object"!=typeof t[e]||null===t[e]?null:(n=parseInt(t[e].ts||!1),!isNaN(n)&&n<=parseInt((new Date).getTime()/1e3)?(removeLocalCachedFlag(e),null):(o=parseInt(t[e].cId||!1),isNaN(o)||o===getCustomerIdFromJwt()?void 0===t[e].val?null:t[e].val:(removeLocalCachedFlag(e),null)))}function saveLocalCachedFlag(e,t,n,o){var i,a;try{i=JSON.parse(localStorage.getItem("localCache"))}catch(e){}"object"==typeof i&&null!==i||(i={}),i[e]={val:t},isNaN(n)||(i[e].cId=n),void 0===o?o=600:null!==o&&(o=parseInt(o)),!isNaN(o)&&0<o&&(a=parseInt((new Date).getTime()/1e3),i[e].ts=a+o);try{localStorage.setItem("localCache",JSON.stringify(i))}catch(e){return!1}return!0}function removeLocalCachedFlag(e){var t;if(null===e)try{return localStorage.removeItem("localCache"),!0}catch(e){return!1}try{t=JSON.parse(localStorage.getItem("localCache"))}catch(e){}if("object"!=typeof t||null===t)return!0;void 0!==t[e]&&delete t[e];try{localStorage.setItem("localCache",JSON.stringify(t))}catch(e){return!1}return!0}function clearLocalCachedFlagsForCustomer(){var t;try{t=JSON.parse(localStorage.getItem("localCache"))}catch(e){return removeLocalCachedFlag(null),null}if("object"!=typeof t||null===t)return removeLocalCachedFlag(null),null;Object.keys(t).forEach(function(e){"number"==typeof t[e].cId&&delete t[e]});try{return localStorage.setItem("localCache",JSON.stringify(t)),!0}catch(e){return!1}}function getCustomerFlag(n){var o,i,a;return o=$.Deferred(),!1===(a=getCustomerIdFromJwt())?o.reject():(null!==(i=getLocalCachedFlag(n))?o.resolve(i):new AjaxFetch("/myaccount/ajax/contactflags").get().then(function(t){200!==t.status?o.reject():(Object.keys(t.data).forEach(function(e){saveLocalCachedFlag(e,i=t.data[e],a,300),e===n&&o.resolve(t.data[n])}),"resolved"!==o.state&&o.reject())}),o)}function decode64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",o=0;do{var i=t.indexOf(e.charAt(o++)),a=t.indexOf(e.charAt(o++)),r=t.indexOf(e.charAt(o++)),s=(63&i)<<2|a>>4&3,l=(15&a)<<4|r>>2&15,d=(3&r)<<6|63&t.indexOf(e.charAt(o++));n+=String.fromCharCode(s)+(l?String.fromCharCode(l):"")+(d?String.fromCharCode(d):"")}while(o<e.length);return n}function changeButtonToSubmit(t){if("submit"==(t=$(t)).prop("type"))return t;try{return t.prop("type","submit")}catch(e){var n=$("<div>").append(t.clone()).html(),o=/type=(\")?([^\"\s]+)(\")?/,a=$(null==n.match(o)?n.replace(">",' type="submit">'):n.replace(o,'type="submit"'));a.data("type",t.data("type"));var r=function(t){return function(){for(i in t){var e=t[i];for(j in e)a.bind(i,e[j].handler)}}}(t.data("events"));return t.replaceWith(a),setTimeout(r,10),a}}function extendTriggerBehavior(o){o._events={},o._eventLoop=function(e,i){$.each(e.split(","),function(e,t){var n=t.replace(/^ +| +$/g,""),o=n.split(".")[0];i(o,n)})},o.trigger=function(e,n){return o._eventLoop(e,function(e,t){o._events[e]&&(o._events[e]&&e==t?$.each(o._events[e],function(e,t){$.each(t,function(e,t){t(n)})}):o._events[e][t]&&$.each(o._events[e][t],function(e,t){t(n)}))}),o},o.on=function(e,n){return o._eventLoop(e,function(e,t){o._events[e]||(o._events[e]={}),o._events[e][t]||(o._events[e][t]=[]),o._events[e][t].push(n)}),o},o.overwrite=function(e,t){o.off(e),o.on(e,t)},o.off=function(e){return o._eventLoop(e,function(e,t){o._events[e]&&(e==t?delete o._events[e]:o._events[e][t]&&delete o._events[e][t])}),o}}function stripTags(e){if(""==e)return"";var t=(new DOMParser).parseFromString(e,"text/html");return t&&t.body&&t.body.textContent&&t.body.textContent||""}function getEasterDate(e){var t=e.getFullYear(),n=t%19,o=(19*n+24)%30,i=o+(t%4*2+t%7*4+6*o+5)%7;(35==i||34==i&&28==o&&10<n)&&(i-=7);var a=new Date(t,2,22);return a.setTime(a.getTime()+864e5*i),a}function osternIsNear(e,t,n){var o;return dateIsNear(getEasterDate(o="[object Date]"!==Object.prototype.toString.call(n)?new Date:n),e,t,o)}function vatertagIsNear(e,t,n){var o,i=getEasterDate(o="[object Date]"!==Object.prototype.toString.call(n)?new Date:n);return i.setTime(i.getTime()+33696e5),dateIsNear(i,e,t,o)}function muttertagIsNear(e,t,n){var o;o="[object Date]"!==Object.prototype.toString.call(n)?new Date:n;var i=8-new Date(o.getFullYear(),4,1).getDay();return dateIsNear(new Date(o.getFullYear(),4,8+i),e,t,o)}function weihnachtenIsNear(e,t,n){var o;return o="[object Date]"!==Object.prototype.toString.call(n)?new Date:n,dateIsNear(new Date(o.getFullYear(),11,24),e,t,o)}function valentinstagIsNear(e,t,n){var o;return o="[object Date]"!==Object.prototype.toString.call(n)?new Date:n,dateIsNear(new Date(o.getFullYear(),1,14),e,t,o)}function dateIsNear(e,t,n,o){var i;i="[object Date]"!==Object.prototype.toString.call(o)?new Date:o;var a=getDayInYear(e),r=getDateFromDayInYear(a-t,i.getFullYear()),s=getDateFromDayInYear(a+n,i.getFullYear());return r<=i&&i<=s}function getDayInYear(e){"[object Date]"!==Object.prototype.toString.call(e)&&(e=new Date);var t=new Date(e.getFullYear(),0,0);return Math.floor((e-t)/864e5)}function getDateFromDayInYear(e,t){t=t||(new Date).getFullYear();var n=new Date(t,0,1);return new Date(n.setMonth(0,e))}R.me("dom"),Number.prototype.formatMoney=function(e,t,n){var o=this,i=(e=isNaN(e=Math.abs(e))?2:e,t=null==t?".":t,n=null==n?",":n,o<0?"-":""),a=parseInt(o=Math.abs(+o||0).toFixed(e))+"",r=3<(r=a.length)?r%3:0;return i+(r?a.substr(0,r)+n:"")+a.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(o-a).toFixed(e).slice(2):"")},"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),function(){var e=getLocalCachedFlag("lc"),t=getCustomerIdFromJwt();e!==t&&(clearLocalCachedFlagsForCustomer(),saveLocalCachedFlag("lc",t,null,3600))}(),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),o=0;o<a;){var r;o in i&&(r=i[o],e.call(n,r,o,i)),o++}}),"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e});var sessionStorage_transfer=function(e){if((e=e||window.event).newValue)if("getSessionStorage"==e.key)localStorage.setItem("sessionStorage",JSON.stringify(sessionStorage)),localStorage.removeItem("sessionStorage");else if("sessionStorage"==e.key&&!sessionStorage.length){var t=JSON.parse(e.newValue);for(var n in t)sessionStorage.setItem(n,t[n])}};window.addEventListener?window.addEventListener("storage",sessionStorage_transfer,!1):window.attachEvent("onstorage",sessionStorage_transfer),R.me("functions"),function(r){r.fn.sameHeight=function(n,e,t){function o(){!1===n?a.css("height","auto"):a.css("min-height","0").css("height","auto");var o={},i={};a.each(function(e){var t=parseInt(r(this).offset().top),n=parseInt(r(this).outerHeight());i[e]=t,(null==o[t]||n>parseInt(o[t]))&&(o[t]=n)}),a.each(function(e){var t=parseInt(i[e]);if(null==o[t]||0==parseInt(o[t]))return!0;!1===n?r(this).css("height",o[t]+"px"):r(this).css("min-height",o[t]+"px")}),r.isFunction(e)&&e(a)}var a=r(this);if(!0!==t){var i="sameHeight-"+a.attr("class");Respond.onLoad(i,o),Respond.onResize(i,o)}return o(),this}}(jQuery),function(t){t.fn.changeElementType=function(e){var n={};t.each(this[0].attributes,function(e,t){n[t.nodeName]=t.nodeValue}),this.replaceWith(function(){return t("<"+e+"/>",n).append(t(this).contents())})}}(jQuery),jQuery.Benchmark=function(){var t=(new Date).getTime();return this.stop=function(){var e=((new Date).getTime()-t)/1e3;cl(""),cl("_____BENCHMARK_____"),cl(e),cl("___________________"),cl("")},this},$.fn.enterKey=function(t,e){return this.each(function(){null!=e&&e?$(this).off("keypress.enterKey",e).on("keypress.enterKey",e,function(e){"13"==(e.keyCode?e.keyCode:e.which)&&t.call(this,e)}):$(this).off("keypress.enterKey").on("keypress.enterKey",function(e){"13"==(e.keyCode?e.keyCode:e.which)&&t.call(this,e)})})},jQuery.ucfirst=function(e){var t,n=e.split(" "),o=n.length,i=[];for(t=0;t<o;t++){var a=n[t];if(null==a[0]||null==a[0])return e;var r=a[0].toUpperCase()+a.substring(1,a.length);i.push(r)}return i.join(" ")},function(s){s.fn.Buttons=function(){return this.each(function(){var r=!1;s(this).off("vclick.buttonClick",".btn").on("vclick.buttonClick",".btn",function(e){if(r)return!0;r=!0;var t=s(this);t.find("i")[0]||t.prepend("<i></i>");var n=t.find("i");if(n.removeClass("animate"),!n.height()||!n.width()){var o=Math.max(t.outerWidth(),t.outerHeight());n.css({height:o,width:o})}var i=e.pageX-t.offset().left-n.width()/2,a=e.pageY-t.offset().top-n.height()/2;n.css({top:a+"px",left:i+"px"}).addClass("animate"),setTimeout(function(){n.remove(),r=!1},700)})})}}(jQuery),function(i){i.fn.Progress=function(e,t){if(null!=t&&!0===t||(t=!1),1<this.length)return this.each(function(){i(this).Progress(e,t)}),this;e="string"===i.type(e)?e:"div";var n=i(this);if(!0===t&&n.css("position","relative"),n.find(e+".progress")[0])return this;if(n.append("<"+e+' class="progress"><i></i></'+e+">"),Dom.html.hasClass("no-cssanimations")){var o=Dom.body.hasClass("lang-en")?"Please wait...":"Bitte warten...";n.find(e+".progress").addClass("old").html(o)}else n.find(e+".progress").addClass("active");return this.stop=function(){return n.find(e+".progress").remove(),this},this}}(jQuery),function(o){o.fn.ShowOverlay=function(e){if(1<this.length)return this.each(function(){o(this).ShowOverlay()}),this;Dom.body.addClass("no-scroll");var t=o(this);if(t.find("div.off-canvas-overlay")[0])return this;t.append('<div class="off-canvas-overlay"></div>');var n=t.find("div.off-canvas-overlay");return n.off("vclick.close").on("vclick.close",function(){t.HideOverlay()}),0<parseInt(e)&&n.css("z-index",parseInt(e)),setTimeout(function(){n.addClass("visible")},20),this}}(jQuery),function(t){t.fn.HideOverlay=function(){if(1<this.length)return this.each(function(){t(this).HideOverlay()}),this;Dom.body.removeClass("no-scroll");var e=t(this).find("div.off-canvas-overlay");return e[0]&&(e.removeClass("visible"),setTimeout(function(){e.remove()},500)),this}}(jQuery),function(s){s.fn.CloseCanvasBySwipe=function(o,t,n){void 0!==o&&"right"===o||(o="left");var i=s(this),a=0,r=0;return i.off("vmousedown").on("vmousedown",function(e){i.addClass("no-transition"),a=e.clientX,r=e.clientY,!0}).off("vmouseup").on("vmouseup",function(e){if(!1,i.removeClass("no-transition"),i.removeAttr("style").find("li.is-fixed strong.headline").removeAttr("style"),s.isFunction(n)&&n(e),("left"==o?-1*parseInt(i.css("left")):i.offset().left)<Respond.width/3)return!0;s.isFunction(t)&&t(e)}).off("vmousemove").on("vmousemove",function(e){var t="left"==o?a-e.clientX:e.clientX-a;t<0&&(t=0);var n=r-e.clientY;if(n<0&&(n*=-1),t<10||30<n)return!0;"left"==o?i.css("left",-t):i.css("right",-t).find("li.is-fixed strong.headline").css("right",-t)}),i.find("a").off("click.normal vclick.normal").on("click.normal vclick.normal",function(){var e=s(this).attr("href");return null==e||""==e||"#"==e||(i.Progress(),window.location.href=e),!0}),this}}(jQuery),function(o){o.belowthefold=function(e,t){return o(window).height()+o(window).scrollTop()<=o(e).offset().top-t.threshold},o.abovethetop=function(e,t){return o(window).scrollTop()>=o(e).offset().top+o(e).height()-t.threshold},o.rightofscreen=function(e,t){return o(window).width()+o(window).scrollLeft()<=o(e).offset().left-t.threshold},o.leftofscreen=function(e,t){return o(window).scrollLeft()>=o(e).offset().left+o(e).width()-t.threshold},o.inviewport=function(e,t){return!(o.rightofscreen(e,t)||o.leftofscreen(e,t)||o.belowthefold(e,t)||o.abovethetop(e,t))},o.extend(o.expr[":"],{"below-the-fold":function(e,t,n){return o.belowthefold(e,{threshold:0})},"above-the-top":function(e,t,n){return o.abovethetop(e,{threshold:0})},"left-of-screen":function(e,t,n){return o.leftofscreen(e,{threshold:0})},"right-of-screen":function(e,t,n){return o.rightofscreen(e,{threshold:0})},"in-viewport":function(e,t,n){return o.inviewport(e,{threshold:0})}})}(jQuery),R.me("plugins");var Respond={addContent:{},load:{},resize:{},scroll:{},scrollStraight:{},goBack:{},width:0,height:0,retina:!1,scrolled:0,oldScrolled:0,scrollDirection:"down",scrollDirectionBuffer:6,scrollTimeout:null,scrollTimeoutMs:15,currentUrl:window.location.href,start:function(){Dom.html.hasClass("no-performance")&&(Respond.scrollTimeoutMs=50),Dom.window.off("load").on("load",Respond.doOnLoad),Dom.window.off("resize").on("resize",Respond.doOnResize),Dom.window.off("scroll.lazy").on("scroll.lazy",Respond.doOnScroll),Dom.window.off("scroll.straight").on("scroll.straight",Respond.doOnScrollStraight)},onLoad:function(e,t){Respond.load[e]=t},onResize:function(e,t){Respond.resize[e]=t},onScroll:function(e,t){Respond.scroll[e]=t},onScrollStraight:function(e,t){Respond.scrollStraight[e]=t},onGoBack:function(e,t){Respond.goBack[e]=t},onAddContent:function(e,t){Respond.addContent[e]=t},offLoad:function(e){try{delete Respond.load[e]}catch(e){}return Respond},offResize:function(e){try{delete Respond.resize[e]}catch(e){}return Respond},offScroll:function(e){try{delete Respond.scroll[e]}catch(e){}},offScrollStraight:function(e){try{delete Respond.scrollStraight[e]}catch(e){}return Respond},offGoBack:function(e){try{delete Respond.goBack[e]}catch(e){}},offAddContent:function(e){try{delete Respond.addContent[e]}catch(e){}return Respond},doOnEverything:function(){Respond.width=Dom.window.width(),Respond.height=Dom.window.height(),Respond.scrolled=Dom.document.scrollTop(),Respond.retina=1<window.devicePixelRatio,0==Respond.scrolled||Respond.oldScrolled+Respond.scrollDirectionBuffer<Respond.scrolled?Respond.scrollDirection="down":Respond.oldScrolled-Respond.scrollDirectionBuffer>Respond.scrolled&&(Respond.scrollDirection="up")},doOnLoad:function(){return Respond.doOnEverything(),$.each(Respond.load,function(e,t){if(!$.isFunction(t))return cl("onLoad: "+e+" has no valid callback function"),!0;t()}),!0},doOnResize:function(){return Respond.width==Dom.window.width()||(Respond.doOnEverything(),$.each(Respond.resize,function(e,t){if(!$.isFunction(t))return cl("onResize: "+e+" has no valid callback function"),!0;t()})),!0},doOnScroll:function(){return clearTimeout(Respond.scrollTimeout),Respond.scrollTimeout=setTimeout(function(){Respond.doOnEverything(),$.each(Respond.scroll,function(e,t){if(!$.isFunction(t))return cl("onScroll: "+e+" has no valid callback function"),!0;t()}),Respond.oldScrolled=Respond.scrolled},Respond.scrollTimeoutMs),!0},doOnScrollStraight:function(){return Respond.doOnEverything(),$.each(Respond.scrollStraight,function(e,t){if(!$.isFunction(t))return cl("onScrollStraight: "+e+" has no valid callback function"),!0;t()}),Respond.oldScrolled=Respond.scrolled,!0},doOnAddContent:function(){return Respond.doOnEverything(),$.each(Respond.addContent,function(e,t){if(!$.isFunction(t))return cl("onAddContent: "+e+" has no valid callback function"),!0;t()}),!0},doOnGoback:function(e){e.originalEvent.state;return Respond.goBack.length<=0||""==window.location.href||window.location.href==Respond.currentUrl||(Respond.goBack.length<=0&&(location.href=location.href),e.preventDefault(),$.each(Respond.goBack,function(e,t){if(!$.isFunction(t))return cl("onOnGoback: "+e+" has no valid callback function"),!0;t()})),!0}};R.me("respond");var ModuleAddressform={init:function(){return Dom.addressforms=Dom.body.find("form.addressform"),process=!0,!!Dom.addressforms[0]&&(Dom.addressforms.each(function(){if($(this).hasClass("no-classic-form-handler"))return process=!1}),!!process&&(Dom.addressforms.each(function(){ModuleAddressform.initForm($(this))}),!0))},initForm:function(e){if(!e[0])return!1;ModuleAddressform.checkSubmit(e),ModuleAddressform.changeZip(e),ModuleAddressform.changeStreet(e)},checkForm:function(e){var t=e.Progress("div",!0),n=$.Deferred();return n.always(function(){t.stop()}),e.hasClass("all-ready")?(e.removeClass("all-ready"),n.resolve()):"DE"!=e.find("label.field-country select").val()?n.resolve():Dom.html.hasClass("no-formvalidation")&&!e.hasClass("is-valid")?n.resolve():ModuleAddressform.checkCity(e).then(function(){if(e.hasClass("city-gap"))return n.resolve(),!0;ModuleAddressform.checkStreet(e).then(function(e,t){n.resolve()}).fail(function(){n.reject("street")})}).fail(function(){n.reject("city")}),n},checkSubmit:function(){$form.off("submit.checkAddress").on("submit.checkAddress",function(e){var t=ModuleAddressform.checkForm($form);e.preventDefault(),t.done(function(){$form.addClass("all-ready").submit()})})},checkStreet:function(o){var i=$.Deferred();if(o.hasClass("street-okay"))return i.resolve(),i;var a=$("div.street-layer"),e=o.find("label.field-zip input").val(),t=o.find("label.field-street input").val();return e&&t?$.post("/address/check/street",{zip:e,street:t},function(e){if(!e)return o.addClass("street-okay"),i.resolve(),!0;var t=$.parseJSON(e);if(!t||null==t)return o.addClass("street-okay"),i.resolve(),!0;function n(e){if(""!=e||o.hasClass("streetNo-okay"))return!0;var t=$("div.nr-layer");return t.find("button.no").off("vclick.no").on("vclick.no",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer()}),t.find("button.yes").off("vclick.yes").on("vclick.yes",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer(),o.addClass("streetNo-okay streetNo-ignore").submit()}),ModuleBody.openHelpLayer(t),!1}0==t.streetOK?(a.find("strong.street-name").html(t.street).data("no",t.street_no),a.find("button.no").off("vclick.no").on("vclick.no",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer()}),a.find("button.yes").off("vclick.yes").on("vclick.yes",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer(),o.addClass("street-okay street-ignore"),n(t.street_no)&&o.submit()}),ModuleBody.openHelpLayer(a),i.reject("layer")):n(t.street_no)?i.resolve(t.street,t.street_no):i.reject("layer")}):i.resolve(),i},checkCity:function(o){var i=$.Deferred();if(o.hasClass("city-okay"))return i.resolve(),i;var a=$("div.city-layer"),r=o.find("label.field-zip input").val(),s=o.find("label.field-city input").val();return r?$.post("/address/s/zip",{zip:r},function(e){var t;if(!e)return o.addClass("city-okay"),i.resolve(),!0;var n=$.parseJSON(e);return n&&null!=n[r]?1!=n[r].length?(o.addClass("city-okay"),i.resolve(),!0):null==n[r][0]?(o.addClass("city-okay"),i.resolve(),!0):(t=n[r][0],s.toLowerCase()==t.n.toLowerCase()?(o.addClass("city-okay"),1==t.g&&o.addClass("city-gap"),i.resolve(),!0):(a.find("strong.city-name").html(s),a.find("button.no").off("vclick.no").on("vclick.no",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer()}),a.find("button.yes").off("vclick.yes").on("vclick.yes",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer(),o.addClass("city-okay city-ignore").submit()}),ModuleBody.openHelpLayer(a),void i.reject("layer"))):(o.addClass("city-okay"),i.resolve(),!0)}):(progress.stop(),i.resolve()),i},changeZip:function(r){var t=r.find("label.field-zip").find("input"),s=r.find("label.field-city"),l=s.find("input"),d=r.find("label.field-street"),c=d.find("input"),u=r.find("label.field-nr"),f=u.find("input"),p=r.find("label.field-additional").find("span").first(),h=p.text(),m="",n=r.find("label.field-is-packstation").find("input"),o=r.find("label.field-is-postfiliale").find("input");if(t.off("input.zip"),t.off("blur.zip"),"DE"!==r.find("label.field-country select").val())return!0;t.on("blur.zip",function(){var i=l.next("ul.city-select"),a={};if(i.hide().find("li").remove(),n.is(":checked")||o.is(":checked")||(c.attr("disabled",!1),f.attr("disabled",!1),d.removeClass("hidden"),u.removeClass("hidden"),h.match(/\*$/)&&(p.text(h.substr(0,h.length)),h=p.text())),l.removeClass("list-closed"),t.val()===m)return!0;if(5!==(m=t.val()).length)return!0;var e=s.Progress();$.ajax({url:"/address/s/zip",data:{zip:m,max:50},success:function(e){try{var t=m,n=$.parseJSON(e),o="";l.removeClass("user-error"),1<n[t].length&&($.each(n[t],function(e,t){o+='<li data-g="'+t.g+'">'+t.n+"</li>"}),o+='<li class="type-in-city">- Ort manuell eingeben -</li>',i.find("li").remove(),i.append(o),i.slideDown(),s.removeClass("list-closed").addClass("list-open"),(a=i.find("li")).off("vclick.selectCity").on("vclick.selectCity",function(e){e.preventDefault();var t=$(this);t.hasClass("type-in-city")?l.val("").focus():(1===parseInt(t.data("g"))&&(c.val("").attr({value:"",disabled:!0}),f.val("").attr({value:"",disabled:!0}),d.addClass("hidden"),u.addClass("hidden"),h.match(/\*$/)||(h=p.text(h+"*").text())),l.val(t.html()).focus()),s.removeClass("list-open").addClass("list-closed"),i.slideUp()}),l.off("vclick.openCitiesToChoose").on("vclick.openCitiesToChoose",function(){var e=$(this).parent();e.hasClass("list-closed")?(i.slideDown(),e.removeClass("list-closed").addClass("list-open")):e.hasClass("list-open")&&(i.slideUp(),e.removeClass("list-open").addClass("list-closed"))}),$("label.field-city").hasClass("list-open")&&($(document).off("vclick.closeCitySelect").on("vclick.closeCitySelect",function(e){var t=$(e.target),n=t.parent();if(n.hasClass("field-city")||n.hasClass("city-select")||0<t.parents("ul.city-select").length)return!0;i.slideUp(),s.removeClass("list-open").addClass("list-closed")}),r.find("input").off("focus.closeCitySelect").on("focus.closeCitySelect",function(e){var t=$(e.target),n=t.parent();if(n.hasClass("field-city")||n.hasClass("city-select")||0<t.parents("ul.city-select").length)return!0;i.slideUp(),s.removeClass("list-open").addClass("list-closed"),r.find("input").off("focus.closeCitySelect")}),$("html").hasClass("no-touch")&&l.off("keydown.selectCity").on("keydown.selectCity",function(e){if((9===parseInt(e.which)||13===parseInt(e.which)||27===parseInt(e.which))&&$("label.field-city").hasClass("list-closed"))return!0;var t=a,n=t.filter(".selected"),o=null;switch(parseInt(e.which)){case 13:e.preventDefault(),e.stopPropagation();case 9:n.hasClass("type-in-city")&&9===parseInt(e.which)&&(e.preventDefault(),e.stopPropagation()),n.trigger("vclick");break;case 27:e.preventDefault(),e.stopPropagation(),i.slideUp(),s.removeClass("list-open").addClass("list-closed");break;case 38:e.preventDefault(),e.stopPropagation(),o=n.prev();break;case 40:e.preventDefault(),e.stopPropagation(),t.hasClass("selected")||t.first().addClass("selected"),o=n.next()}38!==parseInt(e.which)&&40!==parseInt(e.which)||(s.hasClass("list-closed")&&(s.removeClass("list-closed").addClass("list-open"),i.slideDown()),o.is("li")&&(n.removeClass("selected"),o.addClass("selected")))}))),l.val(n[t][0].n),1===parseInt(n[t][0].g)&&(c.val("").attr({value:"",disabled:!0}),f.val("").attr({value:"",disabled:!0}),d.addClass("hidden"),u.addClass("hidden"),h.match(/\*$/)||p.text(h+"*"))}catch(e){l.removeClass("user-error").addClass("user-error")}},complete:function(){e.stop()}})}),""!==t.val()&&t.trigger("blur.zipcode")},changeStreet:function(e){var t=e.find("label.field-street"),n=t.find("input"),o=t.find("datalist"),i=e.find("label.field-zip input"),a="",r=[];if(o.html(""),n.off("input.street"),"DE"!=e.find("label.field-country select").val())return!1;n.on("input.street",function(){var e=i.val();return 5!=e.length||(n.val()==a||(a=n.val(),void $.post("/address/s/street",{max:20,zip:e,street:a},function(e){if(!e)return!1;var t=$.parseJSON(e);if(!t)return!1;var n="";$.each(t,function(e,t){return!!r[t]||(n+='<option value="'+t+'">'+t+"</option>",r[t]=!0)}),o.append(n)})))})}};R.me("ModuleAddressform",!1);var ModuleBody={openedHelpLayer:null,filterLinkTimeout:0,booknavTimeout:0,miniCartTs:0,init:function(){ModuleBody.fixButtonsInIe8(),ModuleBody.fixFooterToBottom(),Respond.onLoad("fixfooter",ModuleBody.fixFooterToBottom),Respond.onResize("fixfooter",ModuleBody.fixFooterToBottom),ModuleBody.setMiniCart(),ModuleBody.setCardBoxes(),ModuleLazyLoad.onLazyLoad("cardBoxes",ModuleBody.setCardBoxes),ModuleBody.setBanner(),ModuleLazyLoad.onLazyLoad("setBanner",ModuleBody.setBanner),ModuleBody.setCharts(),ModuleLazyLoad.onLazyLoad("setCharts",ModuleBody.setCharts),ModuleBody.setTabsBehavior(),ModuleBody.setLinklistBehavior(),ModuleBody.initLinkPreload(),ModuleBody.initHelpLayer(),ModuleBody.initSearchLinks(),ModuleBody.initPseudoFilterLinks(),ModuleBody.initFilterLinks(),ModuleBody.initBooknavLinks(),ModuleBody.initArtistGenre(),ModuleBody.initMiniCartAnimation(),ModuleBody.initLightbox(),ModuleBody.initCollapser(),ModuleBody.initDevicePerformance(),ModuleBody.initFlyoutContainer(),ModuleBody.initBottomSlideOut(),ModuleBody.initExitIntentPopup(),ModuleBody.initDeathnotes()},initExitIntentPopup:function(){$(document).on("mouseleave",function(e){if((!$(".ecourier-detail-layer")[0]||$(".ecourier-detail-layer.mfp-hide")[0])&&e.clientY<0&&$("body").hasClass("exit-popup")){$.ajax({url:"/ecourier/anmeldung/getAboFormClosed",type:"POST",data:[],success:function(e){"1"==e&&$("body").removeClass("exit-popup")}});var t={source:"exitPopup",lang:$("body").data("lang"),exitid:$("body").data("exitid")};$.ajax({url:"/ecourier/anmeldung/getAboForm",type:"POST",data:t,success:function(e){""!=e&&($.magnificPopup.open({items:{src:e,type:"inline"},callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-from-top"},close:function(){ModuleBody.initExitIntentPopupCloseAction()}},removalDelay:500,closeBtnInside:!0}),dataLayer.push({atname:"ecept",atgroup:$("body").data("ecept"),event:"actionstest"}),$("body").removeAttr("data-ecept"),Dom.body.find(".dontlike span.pseudo-link").off("vclick.pseudoclose").on("vclick.pseudoclose",function(){$.magnificPopup.close()}),ModuleEcourier.init())}})}else if(e.clientY<0){var n=$("body").attr("data-ecept");void 0!==n&&!1!==n&&(dataLayer.push({atname:"ecept",atgroup:$("body").data("ecept"),event:"actionstest"}),$("body").removeAttr("data-ecept"),$("body").removeClass("exit-popup"))}})},initExitIntentPopupCloseAction:function(){var e=!1;$("body").hasClass("exit-popup")&&(e=!0),e&&($(".mfp-content").find("section.js--ecourier-onsite-regform").length||$(".mfp-content").find("section.js--ecourier-onsite-regform-en").length)&&($.ajax({url:"/ecourier/anmeldung/setAboFormClosed",type:"POST",data:[],success:function(){$("body").removeClass("exit-popup")}}),$.magnificPopup.close())},initBottomSlideOut:function(){timeoutID=window.setTimeout(function(){var e=Dom.body.find("article.slide-out"),t=$("div.cc_banner"),n=respondMaxOnly(640)?20:30,o=void 0!==t[0]&&null!==t[0]?n+t.height():12;$.each(e,function(e,t){$(t).css("bottom",o+"px"),o+=$(t).height()+42;var n={xjxfun:"bottomSlideOutClosed",position:$(t).data("position")};Ajax.post(n,function(){},function(){},function(){})})},5e3),Dom.body.off("vclick.slideOutClose",".slide-out .close").on("vclick.slideOutClose",".slide-out .close",function(){var e=$(this),o=e.parents(".slide-out"),i=parseInt(o.css("bottom").replace("px","")),t=Dom.body.find("article.slide-out"),n={xjxfun:"bottomSlideOutClosed",position:e.data("position")};Ajax.post(n,function(){},function(){},function(){}),$.each(t,function(e,t){var n=parseInt($(t).css("bottom").replace("px",""));12<n&&i<n&&$(t).css("bottom",n-(o.height()+50)+"px")}),o.css("bottom","-"+(o.height()+50)+"px")})},initFlyoutContainer:function(){Dom.body.off("vclick.flyoutContainer","h3.flyout-trigger").on("vclick.flyoutContainer","h3.flyout-trigger",function(e){e.preventDefault(),$(this).parents("div.flyout-container").eq(0).toggleClass("is-open")})},initDevicePerformance:function(){return Dom.html.hasClass("no-mediaqueries")&&Dom.body.addClass("no-mediaqueries"),Dom.html.addClass("speed"),Dom.html.hasClass("lt-ie10")?Dom.html.removeClass("speed").addClass("no-speed"):Dom.html.hasClass("iphone")&&Respond.height<460?Dom.html.removeClass("speed").addClass("no-speed"):Dom.html.hasClass("no-svg")?Dom.html.removeClass("speed").addClass("no-speed"):Dom.html.hasClass("no-borderradius")&&Dom.html.removeClass("speed").addClass("no-speed"),!0},initLightbox:function(){Dom.body.find("a.lightbox").magnificPopup({type:"image"}),Dom.body.find("a.lightbox-frame").each(function(){var e=$(this),t=e.data("src")?e.data("src"):e.attr("src");e.magnificPopup({type:"iframe",items:{src:t}})})},initCollapser:function(){var e=Dom.body.find(".textcontent div.inner");e.hasClass("limitheight")&&e.collapser({mode:"lines",truncate:5,ellipsis:"... ",showText:"en"===$("body").data("lang")?"read more":"weiter lesen",lockHide:!0})},initArtistGenre:function(){var e=Dom.body.find("main.artistgenre-page");if(!e[0])return!1;var t=e.find("div.info"),n=e.find("div.info-more"),o=t.find("img");return Respond.onLoad("artistGenre",function(){o.outerHeight()>t.height()?n.remove():(t.height(o.outerHeight()),n.off("vclick.showMore").on("vclick.showMore",function(e){e.preventDefault(),t.removeAttr("style"),n.remove()}))}),!0},initSearchLinks:function(){Dom.body.off("vclick.searchLink",".search-link").on("vclick.searchLink",".search-link",ModuleBody.clickSearchLinks)},clickSearchLinks:function(e){e.preventDefault();var t=$(this),n=t.data(),o=t.attr("href"),i=$('<form method="post"></form>');return i.attr("action",o),$.each(n,function(e,t){if("searchtype"==e&&("interpret"==t||"person"==t||"soundtrack"==t))return!0;"cid"==e&&(e="oid"),i.append('<input name="'+e+'" value="'+t+'" />')}),Dom.body.append(i),i.submit(),!0},initPseudoFilterLinks:function(){Dom.body.off("vclick.pseudoFilterLink",".pseudo-filter-link").on("vclick.pseudoFilterLink",".pseudo-filter-link",ModuleBody.clickPseudoFilterLinks)},clickPseudoFilterLinks:function(e){e.preventDefault();var f=$(this),p=$('<form method="post"></form>');return clearTimeout(ModuleBody.filterLinkTimeout),ModuleBody.filterLinkTimeout=setTimeout(function(){var e=f.data("action"),t=f.data("filter"),n="filter_",o=f.data("value"),i=f.data("refresh"),a=f.data("page"),r=!0;if("isoffer"==t&&(n=""),"novelties"==t||"preview"==t||"offers"==t||"recall"==t){r=!1;var s=f.data("nextweek"),l=f.data("interval"),d=f.data("daycount"),c=f.data("widget_type");if(p.append('<input type="hidden" name="nextweek" value="'+s+'" />'),p.append('<input type="hidden" name="interval" value="'+l+'" />'),p.append('<input type="hidden" name="daycount" value="'+d+'" />'),""!=c&&p.append('<input type="hidden" name="widget_type" value="'+c+'" />'),"offers"==t||"recall"==t){var u=f.data("mediagroup");""!=u&&p.append('<input type="hidden" name="mediagroup" value="'+u+'" />')}}p.attr("action",e),r&&p.append('<input type="hidden" name="'+n+t+'" value="'+o+'" />'),p.append('<input type="hidden" name="refresh" value="'+i+'" />'),p.append('<input type="hidden" name="page" value="'+a+'" />'),Dom.body.append(p),p.submit()},25),!0},initFilterLinks:function(){Dom.body.off("vclick.filterLink",".filter-link").on("vclick.filterLink",".filter-link",ModuleBody.clickFilterLinks)},clickFilterLinks:function(e){e.preventDefault();var r=$(this);return clearTimeout(ModuleBody.filterLinkTimeout),ModuleBody.filterLinkTimeout=setTimeout(function(){var e=document.location.protocol,t=document.location.host,n=r.data("dir"),o=r.data("param"),i=r.data("ldelim"),a=r.data("rdelim");window.location=e+"//"+t+i+n+a+(""!==o?"?"+o:"")},25),!0},initBooknavLinks:function(){Dom.body.off("vclick.booknav",".booknav span.pseudo-link").on("vclick.booknav",".booknav span.pseudo-link",ModuleBody.clickBooknavLinks)},clickBooknavLinks:function(e){e.preventDefault();var r=$(this).parents(".booknav");return clearTimeout(ModuleBody.booknavTimeout),ModuleBody.booknavTimeout=setTimeout(function(){var e=document.location.protocol,t=document.location.host,n=Dom.body.data("shop"),o=r.data("param"),i=r.data("cat"),a="";1==n||8==n?a="jpcng/":16==n&&"home"==i&&(i="books"),window.location=e+"//"+t+"/"+a+i+"/browse/-/node/"+o},25),!0},initHelpLayer:function(){var e=Dom.body.find("div.help-layer");return!!e[0]&&(e.filter(".auto-open").each(function(){var e=$(this);ModuleBody.openHelpLayer(e)}),Dom.body.off("vclick.helpLayer",".open-help-layer").on("vclick.helpLayer",".open-help-layer",function(e){e.preventDefault();var t=$(this).data("layer"),n=Dom.body.find("div.help-layer").filter(t);ModuleBody.openHelpLayer(n)}),!0)},openHelpLayer:function(e){if(!e[0])return!0;ModuleBody.closeOpenHelpLayer(),$.magnificPopup.open({items:{src:e,type:"inline"},modal:!!e.hasClass("modal")}),ModuleBody.openedHelpLayer=$.magnificPopup.instance,Dom.body.off("vclick.closeHelpLayer","div.mfp-content div.help-layer .close-layer").on("vclick.closeHelpLayer","div.mfp-content div.help-layer .close-layer",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer()}),e.find("form")[0]&&ModuleForm.init()},closeOpenHelpLayer:function(){return!!ModuleBody.openedHelpLayer&&(ModuleBody.openedHelpLayer.close(),!(ModuleBody.openedHelpLayer=null))},openAjaxLayer:function(e,t){ModuleBody.closeOpenHelpLayer(),Dom.body.find("div."+t).remove(),Dom.body.append(e);var n=Dom.body.find("div."+t);return ModuleBody.openHelpLayer(n),n},initLinkPreload:function(){if(Dom.html.hasClass("lowbandwidth"))return!1;if(Dom.body.hasClass("page-cart")||Dom.body.hasClass("page-myaccount"))return!1;var t=0;return Dom.body.off("mouseleave.preload").on("mouseleave.preload","a",function(){clearTimeout(t)}).off("mouseenter.preload").on("mouseenter.preload","a",function(){clearTimeout(t);var e=$(this);t=setTimeout(function(){ModuleBody.doLinkPreload(e)},100)}).off("vmousedown.preload").on("vmousedown.preload","a",function(){clearTimeout(t),ModuleBody.doLinkPreload($(this))}),!0},doLinkPreload:function(e){var t=e.attr("href");return null==t||""==t||"#"==t||t==window.location.href||(0<=t.indexOf("http://")||0<=t.indexOf("mail:")||0<=t.indexOf("tel:")||(!!(e.hasClass("no-preload")||e.hasClass("login-link")||e.hasClass("logout-link")||e.hasClass("search-link"))||void(Dom.preload&&Dom.preloadFF?Dom.preload.attr("href")!=t&&(Dom.preload.attr("href",t),Dom.preloadFF.attr("href",t)):(Dom.preload=$('<link rel="prerender" href="'+t+'" />'),Dom.preloadFF=$('<link rel="prefetch" href="'+t+'" />'),Dom.html.find("head").append(Dom.preload).append(Dom.preloadFF)))))},initMiniCartAnimation:function(){Dom.body.off("click.miniCartAnimation").on("click.miniCartAnimation",".to-cart",ModuleBody.setItemToMiniCartAnimation)},setItemToMiniCartAnimation:function(e){var t,n=$(this),o=n.data("parent"),i=n.data("selector");if(o)t=n.parents(""+o).first();else{if(!i)return!0;t=$(""+i).first()}if(!t[0]||!n.is(":visible"))return!0;ModuleBody.doItemToMiniCartAnimation(t)},doItemToMiniCartAnimation:function(e){var t=e.offset().top-Respond.scrolled,n=e.offset().left,o=e.width(),i=e.height(),a=Dom.miniCart.outerWidth(),r=Dom.miniCart.outerHeight(),s=Dom.miniCart.position().top,l=Dom.miniCart.offset().left,d=e.clone();d.appendTo(e.parents("main").eq(0)),d.width(o).height(i).css({top:t,left:n,"z-index":"999"}).addClass("to-cart-animation"),d.animate({width:a,height:r,top:s,left:l,opacity:.7},500,function(){d.remove()})},fixFooterToBottom:function(){Dom.footer.removeAttr("style");var e=Respond.height-Dom.body.height();return e<=0||(e++,Dom.footer.css("margin-top",e+"px")),!0},setBanner:function(){Dom.body.find("section.banner").each(function(){$(this).find("article > a").sameHeight(!0)})},setCharts:function(){Dom.body.find("section.charts").each(function(){$(this).find("li > a > *").sameHeight(!0)})},setLinklistBehavior:function(){Dom.body.find("ol.linklist").each(function(){var n=$(this),e=n.children("li");e.sameHeight(),e.find("h3").off("vclick.list").on("vclick.list",function(e){e.preventDefault();var t=$(this).parent("li");t.hasClass("active")?t.removeClass("active"):(n.children("li").removeClass("active"),t.addClass("active"),ModuleHeader.scrollToIfNotVisible(t),ModuleLazyLoad.start())})})},setTabsBehavior:function(){Dom.body.find("ul.tabs").each(function(){var o=$(this);o.css("border-bottom-color",o.find("li.active a, li span.a, li.active b").css("background-color")),o.find("li a, li span.a, li b").off("vclick.tabs").on("vclick.tabs",function(e){e.preventDefault();var t=$(this),n=t.parent("li");respondMaxOnly(660)?o.hasClass("is-open")?(n.hasClass("active")||(o.find("li").removeClass("active"),n.addClass("active"),ModuleBody.loadTabContent(o,t),setTimeout(function(){o.css("border-bottom-color",n.css("background-color"))},250)),o.removeClass("is-open")):o.addClass("is-open"):n.hasClass("active")||(o.find("li").removeClass("active"),n.addClass("active"),ModuleBody.loadTabContent(o,t),setTimeout(function(){o.css("border-bottom-color",t.css("background-color"))},250))})})},loadTabContent:function(e,t){var n=e.parent().find(".tabcontent"),o=e.Progress("li"),i=t.data("ajax"),a=t.data("cat"),r=t.data("content"),s=window[e.data("callback-object")],l=e.data("callback-method");if(n.hasClass("has-content")){if(null==r||""==r)return console.warn("data-content not definied!"),!1;n.children().removeClass("active").filter(".content-"+r).addClass("active"),ModuleBody.loadedTabContent(o,s,l)}else n.addClass("remove"),Ajax.get(i,function(e){n.removeClass("remove").html(e),null!=a&&""!=a&&(n.removeClass(n.data("old-cat")),n.addClass(a),n.data("old-cat",a)),ModuleBody.loadedTabContent(o,s,l)})},loadedTabContent:function(e,t,n){if(e.stop(),ModuleLazyLoad.start(),null!=t){var o=t[n];$.isFunction(o)&&o()}},setCardBoxes:function(){return!!Dom.body.find(".cardbox")[0]&&(Dom.body.find(".cardbox").each(function(){var m=$(this),v=m.find("ul.tabs"),g=m.find(".tabcontent");m.off("vclick.nextPrev","p.pager i").on("vclick.nextPrev","p.pager i",function(){var e=m.find("p.pager"),t=e.find("small span"),n=parseInt(t.html(),10),o=!!$(this).hasClass("next");if(e.hasClass("ajax")){var i=v.find("li.active a"),a=$.extend(i.data("ajax"),{}),r=e.Progress("li"),s=window[v.data("callback-object")],l=v.data("callback-method");if(o)var d=n+1;else d=n-1;d<=1&&(d=1),t.html(d);var c=$.extend({},a),u=a.xjxargs.slice(0);c.xjxfun="browse",c.xjxr="null",c.maxArticleCount=e.data("max"),c.width="three-of-five",u.push("N"+e.data("max")),u.push("N"+d),u.push("N"+(new Date).getTime()),c.xjxargs=u,g.addClass("remove"),Ajax.get(c,function(e){g.removeClass("remove").html(e),m.find("p.pager small span").html(d),ModuleBody.loadedTabContent(r,s,l)}),a=null,c.xjxargs=null,c=null}else{var f=m.find("div.pages div.page"),p=f.filter(".active"),h=o?p.next("div.page"):p.prev("div.page");p.removeClass("active"),h[0]?(h.addClass("active"),t.html(function(){return o?parseInt($(this).html(),10)+1:parseInt($(this).html(),10)-1})):(o?f.first().addClass("active"):f.last().addClass("active"),t.html(function(){return o?1:f.length})),ModuleLazyLoad.start()}}),m.find("div.cards.without-actions").each(function(){$(this).find(".card").sameHeight(!1,function(e){e.each(function(){var e=$(this),t=e.children("div.content");e.removeClass("fixed-bottom"),t.height()<e.height()&&e.addClass("fixed-bottom")})})}),m.find("div.cards.with-actions").each(function(){var e=$(this).find("div.card");e.find("a.image").sameHeight(),e.find("div.content").sameHeight()}),m.find("i.delete-card").off("vclick.deleteCard").on("vclick.deleteCard",function(e){e.preventDefault();var t=$(this).parents(".card").eq(0).attr("data-hnum");$(".recommended-product-"+t).length&&$(".recommended-product-"+t).remove(),$(this).parents(".card").eq(0).remove(),ModuleBody.setCardBoxes()})}),!0)},fixButtonsInIe8:function(){Dom.html.hasClass("lt-ie9")&&$("button[type=button]").each(function(e,t){changeButtonToSubmit(t)})},initDeathnotes:function(){$("section.deathnotes").find("li.two-cols").sameHeight()},setMiniCart:function(e){var n,o,t,i;try{i=function(){var e=o.calculate();Dom.miniCart.find("b.amount").html(e.amount),100<=e.amount?Dom.miniCart.find(".amount-wrapper.o-10").removeClass("o-10").addClass("o-100"):Dom.miniCart.find(".amount-wrapper.o-100").removeClass("o-100").addClass("o-10"),Dom.miniCart.find("span.price").html(e.price.formatMoney(2,",",".")),Dom.miniCart.removeClass("init")},n=new LocalSessionStorage,o=new CartStorage,t=new CartStorageSync(o,function(e){var t=e.data||!1;new CartMutator(o,n).parseCartResult(t),i()}),!(ModuleBody.miniCartTs<o.ts)||e&&e.dontSync?i():(Dom.miniCart.removeClass("init").addClass("init"),t.syncCart()),ModuleBody.miniCartTs=o.ts}catch(e){(new CartErrorHandler).handleException(e,"setMiniCart")}}};R.me("ModuleBody",!1);var ModuleCookieconsent={init:function(){return}};R.me("ModuleCookieConsent",!1);var ModuleDfp={init:function(){ModuleDfp.initDfpOutside()},initDfpOutside:function(){ModuleDfp.calcPosition(),ModuleDfp.initDfpOutsideChange()},initDfpOutsideChange:function(){Respond.onResize("dfpOutside",ModuleDfp.calcPosition)},calcPosition:function(){if(Dom.dfpOutside=$(".adexchange-container-outside-wrapper"),!Dom.dfpOutside[0])return!1;if(0==Dom.dfpOutside.height())return!1;if(Dom.heroshotArea=$("section.heroshot").find(".slide-area"),Dom.searchArea=$(".searchresult").find(".filter"),Dom.recommendationsArea=$(".recommendations-area"),Dom.imageslotArea=$(".imageslot-area"),Dom.bannerArea=$(".banner-area"),Dom.footer=$("footer"),Dom.breadcrumb=$("section.breadcrumb"),!(Dom.heroshotArea[0]||Dom.searchArea[0]||Dom.recommendationsArea[0]||Dom.imageslotArea[0]||Dom.bannerArea[0]))return Dom.dfpOutside.hide(),!1;var o,i,a;Dom.heroshotArea[0]?(o=Dom.heroshotArea.offset(),i=Dom.heroshotArea.width(),a=10):Dom.searchArea[0]?(o=Dom.searchArea.offset(),i=Dom.searchArea.width(),a=30):Dom.recommendationsArea[0]?(o=Dom.recommendationsArea.offset(),i=Dom.recommendationsArea.width(),a=10):Dom.imageslotArea[0]?(o=Dom.imageslotArea.offset(),i=Dom.imageslotArea.width(),a=10):Dom.bannerArea[0]&&(o=Dom.bannerArea.offset(),i=Dom.bannerArea.width(),a=10);var e=60;Dom.breadcrumb[0]&&(e=Dom.breadcrumb.offset().top);Dom.dfpOutside.offset({top:e,left:o.left+i+a});var r=$(".main-nav").height(),s=0;$(window).scroll(function(){10<r?Dom.dfpOutside.css({top:"60px"}):Dom.dfpOutside.css({top:"-30px"});var e=Dom.dfpOutside.offset(),t=(e.top,e.top+600);if(Dom.footer[0]){var n=Dom.footer.offset();s=n.top}0<parseInt(s)&&parseInt(t)>parseInt(s)-20&&(Dom.dfpOutside.css({position:"relative"}),Dom.dfpOutside.offset({top:parseInt(s)-620,left:o.left+i+a}))})}};R.me("ModuleDfp",!1);var ModuleEcourier={stopMagnificClose:!1,stopFormSubmitHandler:!1,_magnificPopupOnCloseOriginal:!1,init:function(){Dom.body.find(".ecourier-action").off("click.ecourierAction").on("click.ecourierAction",function(e){e.preventDefault();var t=$(this).data("task"),n=$(this).data("hnum"),o=$(".js-ecourier--input").val(),i=$(this).parent().Progress(),a=!1;$(".mfp-wrap").hasClass("mfp-move-from-top")&&(a=!0),$.get("/ecourier/"+t+"/",{hnum:n,lang:Dom.body.data("lang"),email:o},function(e){i.stop(),$.magnificPopup.close(),window.setTimeout(function(){ModuleEcourier.openEcourierLayer(e,a)},500)})}),Dom.body.find("form.ecourier-form").off("submit.ecourierAction").on("submit.ecourierAction",function(e){e.preventDefault();var t=$(this),n=t.Progress();sendAjaxForm(t,ModuleEcourier.openEcourierLayer,null,function(){n.stop()})}),extendTriggerBehavior(ModuleEcourier)},openEcourierLayer:function(e,t){e='<div class="help-layer ecourier-detail-layer">'+e+"</div>";var n=ModuleBody.openAjaxLayer(e,"ecourier-detail-layer").find("button.mfp-close");t&&$(".mfp-wrap").addClass("mfp-move-from-top"),ModuleEcourier.ecourierAjaxForm(n)},closeEcourierLayer:function(){Dom.body.find("div.ecourier-detail-layer").find("span.exit,button.mfp-close").trigger("click")},ecourierAjaxForm:function(o){var i=Dom.body.find("div.ecourier-detail-layer");ModuleForm.init(),ModuleLazyLoad.start(),ModuleEcourier.ecourierPriceAlarm(i),ModuleBody.initExitIntentPopupCloseAction(),i.find("span.exit").off("click.exit").on("click.exit",function(){var e=i.find("form");ModuleEcourier.trigger("close",e[0]?e.data("step"):null),$.magnificPopup.close()}),i.find("button.mfp-close").off("click.ecourier").on("click.ecourier",function(){var e=i.find("form");ModuleEcourier.trigger("close",e[0]?e.data("step"):null)}),!1===ModuleEcourier.stopFormSubmitHandler&&i.find("form").off("submit.submit").on("submit.submit",function(e){var t=$(this);if(e.preventDefault(),t.hasClass("required-checkbox")){if(!t.find("input[type=checkbox]:checked")[0])return t.find(".select-error").removeClass("hidden").show(),!1;t.find(".select-error").hide()}var n=i.Progress();sendAjaxForm(t,function(e){i.html(e).append(o),o.html("×"),ModuleEcourier.ecourierAjaxForm(o);var t=i.find(".has-step"),n=t[0]?t.data("step"):"";ModuleEcourier.trigger("afterSubmit",n)},null,function(){n.stop()})}),i.find("form").off("click.selectAll","label.select-all").on("click.selectAll","label.select-all",function(e){e.preventDefault();var t=$(this).parents("form").eq(0);t.find("label.select-all>input[type=checkbox]").prop("checked")?t.find("input[type=checkbox]:visible").prop("checked",!1):t.find("input[type=checkbox]:visible").prop("checked",!0)}),i.find("form").off("click.showAllMedia",".show-all-media").on("click.showAllMedia",".show-all-media",function(e){var t=$(this);e.preventDefault(),t.parents("form").eq(0).find("label.hidden").removeClass("hidden"),t.addClass("hidden")}),ModuleEcourier.trigger("afterShow",i.find(".has-step").data("step"))},ecourierPriceAlarm:function(e){if(!e.find("form.ecourier-price-alert")[0])return!1;var a=e.find("input[name=alertprice]");e.find("fieldset a").off("click.changePrice").on("click.changePrice",function(e){e.preventDefault();var t=a.val(),n=parseFloat(t.replace(",",".")),o=$(this).hasClass("minus")?-1:1,i=parseFloat(n+o);i<.01&&(i=.01),a.data("price",i).val(i.formatMoney(2,",",""))})}};R.me("ModuleEcourier",!1);var ModuleECourierBox=function(c){return{init:function(){if(Dom.ecourierbox=c(".ecourierbox-area"),Dom.ecourierbox[0]){var e=(location.href.match(/\/(jpcng\/)?([a-z]+)\/home/)||["","home"])[2];!1!==getLocalCachedFlag("ecbox-"+e)?function(o){var e=0;respondMinOnly(980)?e=2:respondMinOnly(450)&&(e=1);c.ajax({url:"/ecourier/box",method:"post",data:{mp:e,bereich:o,lang:Dom.body.data("lang")},success:function(e){if("0"==e)return Dom.ecourierbox.remove(),void saveLocalCachedFlag("ecbox-"+o,!1,getCustomerIdFromJwt());var t,n;saveLocalCachedFlag("ecbox-"+o,!0,getCustomerIdFromJwt()),Dom.ecourierbox.find("div").remove(),Dom.ecourierbox.append(e),Dom.ecourierbox.removeClass("pre-load").addClass("recommendations-area"),n=Dom.ecourierbox.find("section.recommendations"),t=ModuleRecommendations.addElement(n),n.data("index",t),Dom.ecourierbox.find("div.interests button").off("click.action").on("click.action",function(){var e=c(this),t=e.parents("div.card").eq(0),n=!1;if(t[0])var o=t.Progress();else o=(t=e.parents("article").eq(0)).find("div.inner").Progress();var i=t.find("div.interests"),a=t.data("hnum"),r=t.data("reason"),s="";if(e.hasClass("like")?s="like":e.hasClass("dislike")?s="dislike":e.hasClass("buyed")&&(s="owns"),""==s)return o.stop(),!1;if("like"!=s){var l,d=t.parents("div.slide").eq(0);4<=d.siblings().not(".bx-clone,.removing").length?(l=t.parents("section.recommendations").eq(0).data("index"),n=t.parent(),t.width(t.width()),n.addClass("removing"),setTimeout(function(){n.remove(),ModuleRecommendations.reloadSlider(l)},400)):d.siblings(".slide-"+d.data("counter")).add(d).each(function(){c(this).find("div.interests button").each(function(){c(this).attr("disabled",!0).off("click.action").removeClass("white")})})}c.post("/ecourier/ajax/like",{mode:s,hnum:a,eCourierId:"ecbox",reason:r,lang:Dom.body.data("lang")},function(e,t,n){o.stop(),"owns"===s&&!n.getResponseHeader("x-get-email")||(ModuleEcourier.stopFormSubmitHandler=!0,ModuleEcourier.openEcourierLayer(e,!0),ModuleEcourier.stopFormSubmitHandler=!1)}),Dom.body.off("submit.ecourierActionSave","div.ecourier-like-layer form").on("submit.ecourierActionSave","div.ecourier-like-layer form",function(e){e.preventDefault(),e.stopPropagation();var t=c(this),n=t.parents("div.ecourier-like-layer").eq(0).Progress(),o=[];return t.find("input:checked").each(function(){var e=c(this).val();o.push(e)}),c.post("/ecourier/ajax/like",{mode:s,hnum:a,eCourierId:"ecbox",reason:r,save:1,values:o,lang:Dom.body.data("lang")},function(e){n.stop(),i.find("button").attr("disabled",!0).off("click.action").removeClass("white"),ModuleBody.closeOpenHelpLayer(),ModuleBody.openAjaxLayer(e,"ecourier-like-layer"),setTimeout(function(){ModuleBody.closeOpenHelpLayer()},2e3)}),!1})}),setTimeout(function(){ModuleRecommendations.reloadSlider(t)})},error:function(){Dom.ecourierbox.remove(),saveLocalCachedFlag("ecbox-"+o,!1,getCustomerIdFromJwt())}}),c("<link>").appendTo("head").attr("href","//fonts.googleapis.com/css?family=Raleway:100").attr("rel","stylesheet").attr("type","text/css")}(e):Dom.ecourierbox.remove()}}}}($);R.me("ModuleEcourierBox",!1);var ModuleFooter={init:function(){Dom.newsletterButton=$(".main-links .newsletter a.is--receiver").first(),Dom.newsletterButton[0]&&ModuleFooter.initNewsletterButton()},initNewsletterButton:function(){ModuleFooter.getLastId(function(e){!1!==e&&Dom.newsletterButton.attr("href",Dom.newsletterButton.data("url-exists")+e).html(Dom.newsletterButton.data("text-exists"))})},getLastId:function(t){var e,n,o;null===(e=getLocalCachedFlag("ecLastId"))?!1!==(n=getCustomerIdFromJwt())&&new AjaxFetch("/session/ecourier/lastId",{404:o=function(){saveLocalCachedFlag("ecLastId",!1,n,900)}}).post({}).then(function(e){if(200===e.status&&$.isPlainObject(e.data)&&"object"==typeof e.data&&null!==e.data&&"string"==typeof e.data.id&&""!==e.data.id)return saveLocalCachedFlag("ecLastId",e.data.id,n,3600),void t(e.data.id);o()}):t(e)}};R.me("ModuleFooter",!1);var ModuleForm={formValidityTimeout:null,init:function(){if(Dom.forms=$("form, .form-fields"),!Dom.forms[0])return!1;ModuleForm.setFormFieldStatus(),ModuleForm.setSelectedOptions(),ModuleForm.setMobileCheckboxes(),ModuleForm.activateButtons(),ModuleForm.setDateInputFallback(),ModuleBody.fixButtonsInIe8()},setFormFieldStatus:function(){Dom.forms.find("input, select, textarea, button").on("blur.status",function(){$(this).removeClass("has-focus").addClass("blured"),$(this).parents("form").removeClass("active")}).on("focus.status",function(){$(this).addClass("has-focus"),$(this).parents("form").addClass("active")})},setSelectedOptions:function(){Dom.forms.find("select[data-selected]").each(function(){var e=$(this);e.val(e.data("selected"))})},setMobileCheckboxes:function(){return Dom.forms.find("input[type=checkbox]").not(".no-toggle").after("<em></em>").parents("label.cb").addClass("toggle"),Dom.forms.find("input[type=radio]").not(".no-choose").after("<em></em>").parents("label.cb").addClass("choose"),!0},activateButtons:function(){Dom.forms.each(function(){var e=$(this);if(e.hasClass("no-validate"))return!0;e.find(".btn.js-grey").addClass("grey"),ModuleForm.checkFormValidity(e),e.find("input, select, textarea").off("keyup.activateButton change.activateButton click.activateButton blur.activateButton input.activateButton").on("keyup.activateButton change.activateButton click.activateButton blur.activateButton input.activateButton",function(){clearTimeout(ModuleForm.formValidityTimeout),ModuleForm.formValidityTimeout=setTimeout(function(){ModuleForm.checkFormValidity(e)},30)})})},checkFormValidity:function(e){var t=e.find(".btn.js-grey"),n=e.find("input, textarea, select"),o=!0;e.find("button").off("vclick.formUsed").on("vclick.formUsed",function(){e.addClass("used")}),n.each(function(){var e=!0;return Dom.html.hasClass("formvalidation")&&!Dom.html.hasClass("lt-ie9")?e=$(this)[0].validity.valid:1!=$(this).attr("required")&&"required"!=$(this).attr("required")||""===$(this).val()&&(e=!1),$(this).hasClass("blured")&&(!1!==e?$(this).removeClass("user-error"):$(this).addClass("user-error")),!1===e&&(o=!1),!0}),!1!==o?(t.removeClass("grey"),e.addClass("is-valid")):(t.addClass("grey"),e.removeClass("is-valid"))},setDateInputFallback:function(){return Modernizr.inputtypes.date||Dom.body.find("input[type=date]").attr({pattern:"(31|30|0[1-9]|[12][0-9]).(0[1-9]|1[012]).(19|20)[0-9]{2}",placeholder:"tt.mm.jjjj",maxlength:10}).val(function(){var e=$(this).val();if(""==e)return"";var t=e.split("-");return 3!=t.length?e:$.trim(t[2]+"."+t[1]+"."+t[0])}),!0}};R.me("ModuleForm",!1);var ModuleHeader={fixedHeaderHeight:104,fixedSmallHeaderHeight:64,searchOldVal:"",searchOldCat:"",searchSuggestHideTimeout:null,scrolledToHash:"",init:function(){Dom.header.logo=Dom.header.find("a.logo"),Dom.header.searchForm=Dom.header.find("form"),Dom.header.searchField=Dom.header.searchForm.find("input[type=search]"),Dom.header.searchCategory=Dom.header.searchForm.find("select"),Dom.header.searchButton=Dom.header.searchForm.find("button"),Dom.header.searchSuggest=Dom.header.searchForm.find("ol"),ModuleHeader.initHeaderPosition(),ModuleHeader.initSearchForm(),ModuleHeader.initHashBehavior()},initHeaderPosition:function(){if(Dom.header.logo.off("vclick.logo").on("vclick.logo",ModuleHeader.clickLogo),Dom.html.hasClass("no-speed"))return!0;ModuleHeader.setFixed(),Respond.onResize("fixHeader",ModuleHeader.setFixed),Respond.onLoad("scrollHeader",ModuleHeader.setScrolled),Respond.onResize("scrollHeader",ModuleHeader.setScrolled),Respond.onScroll("scrollHeader",ModuleHeader.setScrolled)},setFixed:function(){return $("span.header-spacer").remove(),respondMaxOnly(319)?Dom.header.removeClass("is-fixed"):Dom.header.addClass("is-fixed").after($('<span class="header-spacer" />')),!0},setScrolled:function(){return respondMaxOnly(319)?Dom.header.removeClass("is-scrolled").removeClass("is-small"):$("body").hasClass("no-header-resize")?(Dom.header.addClass("is-scrolled"),Dom.header.addClass("is-small")):(1<Respond.scrolled?Dom.header.addClass("is-scrolled"):Dom.header.removeClass("is-scrolled"),Respond.scrolled>Respond.height/25?Dom.header.addClass("is-small"):Dom.header.removeClass("is-small"),Respond.scrolled>Respond.height/10&&"up"!=Respond.scrollDirection&&!Dom.header.searchField.hasClass("has-focus")?Dom.header.addClass("is-only-first-row"):Dom.header.removeClass("is-only-first-row")),!0},clickLogo:function(e){return Dom.header.hasClass("is-small")&&(e.preventDefault(),ModuleHeader.scrollTo(0)),!0},initSearchForm:function(){ModuleHeader.searchOldVal="",ModuleHeader.searchOldCat=Dom.header.searchCategory.val(),Dom.header.searchField.off("blur.suggest").on("blur.suggest",ModuleHeader.hideSearchSuggest),Dom.header.searchCategory.off("blur.suggest").on("blur.suggest",ModuleHeader.hideSearchSuggest),Dom.header.searchButton.off("blur.suggest").on("blur.suggest",ModuleHeader.hideSearchSuggest),Dom.header.searchField.off("focus.suggest").on("focus.suggest",ModuleHeader.showSearchSuggest),Dom.header.searchCategory.off("focus.suggest").on("focus.suggest",ModuleHeader.showSearchSuggest),Dom.header.searchButton.off("focus.suggest").on("focus.suggest",ModuleHeader.showSearchSuggest),ModuleHeader.getSearchSuggests(),Dom.header.searchField.off("focus.suggests keyup.suggests change.suggests").on("focus.suggests keyup.suggests change.suggests",ModuleHeader.getSearchSuggests),Dom.header.searchCategory.off("change.suggests").on("change.suggests",ModuleHeader.getSearchSuggests),Dom.document.off("keydown.suggest").on("keydown.suggest",ModuleHeader.navigateToSearchSuggest),Dom.header.searchCategory.enterKey(function(){Dom.header.searchForm.submit()})},getSearchSuggests:function(){var e=$.trim(Dom.header.searchField.val()),t=Dom.header.searchCategory.val();return e===ModuleHeader.searchOldVal&&t===ModuleHeader.searchOldCat?(0==Dom.header.searchSuggest.find("li a").length&&ModuleHeader.doGetSearchSuggests(e),!0):(ModuleHeader.searchOldVal=e,ModuleHeader.searchOldCat=t,e.length<=2?(ModuleHeader.destroySearchSuggest(),!0):void ModuleHeader.doGetSearchSuggests(e))},doGetSearchSuggests:function(e){return Dom.header.searchSuggest.addClass("load"),Dom.header.searchProgress=Dom.header.searchSuggest.Progress("li"),Dom.header.searchForm.hasClass("show-suggest")&&""!=e?Ajax.get({xjxfun:"incSearch",xjxargs:["S"+e,"S"+Dom.header.searchCategory.val()]},function(e){if(parseInt(e.count)<=0)return ModuleHeader.destroySearchSuggest(),!1;Dom.header.searchSuggest.html(e.html).addClass("loaded");var t=Dom.header.searchSuggest.find("li a");return t.off("blur.suggest").on("blur.suggest",ModuleHeader.hideSearchSuggest),t.off("focus.suggest").on("focus.suggest",ModuleHeader.showSearchSuggest),t.off("keydown.suggest").on("keydown.suggest",ModuleHeader.navigateSearchSuggest),Dom.header.searchSuggest.off("vclick.searchLink",".search-link").on("vclick.searchLink",".search-link",ModuleBody.clickSearchLinks),!0},function(){ModuleHeader.destroySearchSuggest()},function(){Dom.header.searchProgress.stop()}):Dom.header.searchProgress.stop(),!0},showSearchSuggest:function(){Dom.header.searchForm.addClass("show-suggest")},destroySearchSuggest:function(){ModuleHeader.hideSearchSuggest(),Dom.header.searchSuggest.removeClass("load").removeClass("loaded").html("");var e=Dom.header.searchSuggest.find("li a");e.off("blur.suggest"),e.off("focus.suggest"),e.off("keydown.suggest")},hideSearchSuggest:function(){clearTimeout(ModuleHeader.searchSuggestHideTimeout),ModuleHeader.searchSuggestHideTimeout=setTimeout(function(){if($(document.activeElement).parents("form.search-form")[0])return!0;Dom.header.searchForm.removeClass("show-suggest")},25)},navigateSearchSuggest:function(e){if(!Dom.header.searchSuggest.hasClass("loaded")||Dom.header.searchCategory.hasClass("has-focus"))return!0;var t=$(document.activeElement);if(!t.parents("form.search-form")[0])return!0;var n=t.parent("li");if(!n[0])return!0;if(38===e.keyCode){e.preventDefault();var o=n.prev("li");return o[0]?o.children("a").focus():Dom.header.searchField.focus(),!1}if(40===e.keyCode){e.preventDefault();var i=n.next("li");return i[0]?i.children("a").focus():Dom.header.searchSuggest.children("li").first().children("a").focus(),!1}},navigateToSearchSuggest:function(e){return!(Dom.header.searchForm.hasClass("show-suggest")&&Dom.header.searchSuggest.hasClass("loaded")&&!Dom.header.searchCategory.hasClass("has-focus"))||(38===e.keyCode?(e.preventDefault(),Dom.header.searchSuggest.children("li").last().children("a").focus(),!1):40===e.keyCode?(e.preventDefault(),Dom.header.searchSuggest.children("li").first().children("a").focus(),!1):void 0)},initHashBehavior:function(){window.location.hash&&(ModuleHeader.scrolledToHash=window.location.hash,Respond.onLoad("windowHash",function(){var e=$(window.location.hash);if(!e[0]||e.data("no-auto-scroll"))return!0;ModuleHeader.clearHash(),ModuleHeader.scrollTo(e)})),Dom.body.on("vclick.anker",'div.page a[href*="#"]',function(e){var t=window.location.href.split("#"),n=this.href.split("#");if(t[0]!=n[0])return!0;var o=$(this.hash);if(!o[0])return!0;e.preventDefault(),ModuleHeader.clearHash(),ModuleHeader.scrollTo(o)})},clearHash:function(){Dom.html.hasClass("history")?history.replaceState(null,null,location.href.replace(/#.*$/,"")):history.hash=""},scrollToHref:function(e,t){var n=$(e);if(void 0!==n.attr("href")&&""!==n.attr("href")&&"#"!==n.attr("href"))var o=n.attr("href");else{if(void 0===n.data("href")||""===n.data("href"))return!0;o=n.data("href")}var i=$(o).offset().top;return Dom.header.hasClass("is-fixed")&&!Dom.body.hasClass("no-scroll")&&(i-=ModuleHeader.fixedHeaderHeight),$(null==t?"html, body":t).animate({scrollTop:i},900),!0},scrollTo:function(e,t){var n=isNaN(e)?$(e).offset().top:e,o=51;return respondMinOnly(740)&&(o=33),Dom.header.hasClass("is-fixed")&&!Dom.body.hasClass("no-scroll")&&(n-Respond.scrollDirectionBuffer>Dom.window.scrollTop()?Dom.body.hasClass("no-header-resize")?n=n-ModuleHeader.fixedSmallHeaderHeight-o:n-=ModuleHeader.fixedSmallHeaderHeight:Dom.body.hasClass("no-header-resize")?n=n-ModuleHeader.fixedSmallHeaderHeight-o:n-=ModuleHeader.fixedHeaderHeight),$(null==t?"html, body":t).animate({scrollTop:n},600),!0},scrollToIfNotVisible:function(e,t){var n=isNaN(e)?$(e).offset().top:e;return Dom.header.hasClass("is-fixed")&&!Dom.body.hasClass("no-scroll")&&(n-Respond.scrollDirectionBuffer>Dom.window.scrollTop()?n-=ModuleHeader.fixedSmallHeaderHeight:n-=ModuleHeader.fixedHeaderHeight),!(n>=Dom.window.scrollTop()&&n<=Dom.window.scrollTop()+Respond.height)&&($(null==t?"html, body":t).animate({scrollTop:n},900),!0)}};R.me("ModuleHeader",!1);var ModuleHeroshot={config:null,slider:null,init:function(){if(Dom.heroshot=$("section.heroshot"),!Dom.heroshot[0])return!1;Dom.heroshot.slideArea=Dom.heroshot.find("div.slide-area"),Dom.heroshot.slidesContainer=Dom.heroshot.slideArea.children("article"),Dom.heroshot.slides=Dom.heroshot.slidesContainer.children("a.slide"),Dom.heroshot.pagerContainer=Dom.heroshot.slideArea.children("aside"),Dom.heroshot.pagerItems=Dom.heroshot.pagerContainer.find("div.pager-item"),Dom.heroshot.mobilePagerContainer=Dom.heroshot.slideArea.children("div.mobile-pager"),Dom.heroshot.mobilePagerItems=Dom.heroshot.mobilePagerContainer.find("i.mobile-pager-item"),ModuleHeroshot.initConfig(),ModuleHeroshot.start(),Dom.heroshot.pagerContainer.jScrollPane({verticalGutter:0,autoReinitialise:!0,enableKeyboardNavigation:!1}),ModuleHeroshot.loadAllImages(),Dom.heroshot.pagerItems.off("vclick").on("vclick",ModuleHeroshot.onChangeByPager),Dom.heroshot.mobilePagerItems.off("vclick").on("vclick",ModuleHeroshot.onChangeByPager)},initConfig:function(){return ModuleHeroshot.config={auto:!1,pager:!1,controls:!1,adaptiveHeight:!0,infiniteLoop:!1,onSliderLoad:ModuleHeroshot.onNewSlide,onSlideBefore:ModuleHeroshot.onNewSlide,touchEnabled:!Dom.html.hasClass("ff-pointer-events")},!0},start:function(){Dom.heroshot.slides.find("img.lazystart").off("load.lazystart").on("load.lazystart",function(){$(this).off("load.lazystart"),setTimeout(function(){ModuleHeroshot.initSlider()},50)})},initSlider:function(){return ModuleHeroshot.slider=Dom.heroshot.slidesContainer.bxSlider(ModuleHeroshot.config),Respond.onLoad("reloadSlider",ModuleHeroshot.slider.reloadSlider),Respond.onResize("reloadSlider",ModuleHeroshot.slider.reloadSlider),!0},onNewSlide:function(e){Dom.heroshot.pagerContainer.addClass("slider-ready");var t=0===e?Dom.heroshot.slides.first():$(e),n=parseInt(t.data("counter")),o=Dom.heroshot.pagerContainer.find("li.slide-"+n),i=Dom.heroshot.mobilePagerContainer.find("li.slide-"+n),a=i.find("i.mobile-pager-item");if(Dom.html.hasClass("touch")){var r=t.next("a.slide").not(".bx-clone");r[0]||(r=Dom.heroshot.slides.first()),ModuleHeroshot.activateLazyImage(r);var s=t.prev("a.slide").not(".bx-clone");s[0]||(s=Dom.heroshot.slides.last()),ModuleHeroshot.activateLazyImage(s)}return Dom.heroshot.pagerItems.parent("li").removeClass("active"),o.addClass("active"),Dom.heroshot.mobilePagerItems.removeClass("fa-circle").addClass("fa-circle-thin"),Dom.heroshot.mobilePagerItems.parent("li").removeClass("active"),i.addClass("active"),a.removeClass("fa-circle-thin").addClass("fa-circle"),!0},onChangeByPager:function(e){e.preventDefault();var t=$(e.target);null==t.data("counter")&&(t=t.parents("div.pager-item").eq(0));var n=parseInt(t.data("counter"));ModuleHeroshot.slider.goToSlide(n)},activateLazyImage:function(e){var t=e.find(".lazy");if(!t[0])return!1;ModuleLazyLoad.showLazyLoadingImg(t);var n=parseInt(e.data("counter")),o=Dom.heroshot.slidesContainer.children("a.slide-"+n).find(".lazy");return!!o[0]&&(ModuleLazyLoad.showLazyLoadingImg(o),!0)},loadImgOnHover:function(e){var t=$(e.target);t.is("div")||(t=t.parents("div").eq(0)),null==t.data("counter")&&(t=t.parents("a").eq(0));var n=parseInt(t.data("counter")),o=Dom.heroshot.slidesContainer.children("a.slide-"+n);ModuleHeroshot.activateLazyImage(o)},loadAllImages:function(){if(respondMaxOnly(739))return!1;Dom.html.hasClass("touch")?Dom.heroshot.slides.each(function(){ModuleHeroshot.activateLazyImage($(this))}):Dom.heroshot.pagerItems.off("mouseover").on("mouseover",ModuleHeroshot.loadImgOnHover)}};R.me("ModuleHeroshot",!1);var ModuleHitlist={galleryMinMobileWidth:629,galleryMinWidth:740,galleryMaxWidth:960,init:function(){if(Dom.searchresult=$("div.searchresult"),!Dom.searchresult[0])return!1;Dom.searchresult.cardbox=Dom.searchresult.find("main section.cardbox,main section.masonry-cardbox"),Dom.searchresult.filterOpt=Dom.searchresult.find("form.filter"),Dom.searchresult.OrderBy=Dom.searchresult.filterOpt.find("label.order-by"),Dom.searchresult.View=Dom.searchresult.filterOpt.find("span.view"),Dom.searchresult.Pagination=Dom.searchresult.filterOpt.find("span.pagination"),ModuleHitlist.toggleCardboxColumnsByViewport(),Respond.onResize("searchCardboxColumns",ModuleHitlist.toggleCardboxColumnsByViewport),Dom.body.off("vclick.afterMiniCartAnimation").on("vclick.afterMiniCartAnimation",".to-cart",ModuleHitlist.afterMiniCartAnimation),ModuleHitlist.initCartForm(),ModuleHitlist.initFilter()},initFilter:function(){Dom.searchresult.OrderBy.children("select").off("change.order").on("change.order",ModuleHitlist.changeOrderBy),Dom.searchresult.View.children("a").off("vclick.filterView").on("vclick.filterView",ModuleHitlist.changeView),ModuleHitlist.hideViewOptions(),Respond.onResize("filterViewOptions",ModuleHitlist.hideViewOptions),ModuleHitlist.toggleOrderByText(),Respond.onResize("filterToggleOrderByText",ModuleHitlist.toggleOrderByText)},changeOrderBy:function(){var e=$(this),t=e.data("switches")||"pd_orderby",n=e.val();Dom.searchresult.OrderBy.find("input[name="+t+"]").val(n),Dom.searchresult.filterOpt.submit()},changeView:function(e){e.preventDefault();var t=$(e.target);"A"!=$.ucfirst(t.prop("tagName"))&&(t=t.parents("a").first()),Dom.searchresult.View.children("a").removeClass("active").filter("."+t.data("view")).addClass("active"),"list"==t.data("view")?Dom.searchresult.cardbox.addClass("one-column").removeClass("two-columns"):Dom.searchresult.cardbox.addClass("two-columns").removeClass("one-column");var n=new XMLHttpRequest,o="/jpcng/classic/sessionproperty?task=hitlistFilterView&bar="+t.data("view");return n.open("GET",o),n.send(),ModuleBody.setCardBoxes(),ModuleInfiniteScr.init(!0),!0},hideViewOptions:function(){setTimeout(function(){respondMinMax(ModuleHitlist.galleryMinWidth,ModuleHitlist.galleryMaxWidth)||respondMaxOnly(ModuleHitlist.galleryMinMobileWidth)?Dom.searchresult.View.addClass("hide"):Dom.searchresult.View.removeClass("hide")},15)},toggleOrderByText:function(){Dom.searchresult.OrderBy.children("select").find("option").first().html(function(){return respondMinOnly(380)?$(this).data("label-original"):$(this).data("label-mobile")})},toggleCardboxColumnsByViewport:function(){respondMinMax(ModuleHitlist.galleryMinWidth,ModuleHitlist.galleryMaxWidth)?Dom.searchresult.cardbox.removeClass("two-columns"):Dom.searchresult.cardbox.hasClass("one-column")||Dom.searchresult.cardbox.addClass("two-columns")},hitlistToCart:function(e){var t=e.parents(".card").eq(0),n=new CartStorage,o=e.data("hnum"),i=e.find("input[name=amount]").val(),a=e.data("price");i=i||e.find("select[name=amount]").val(),void 0!==Dom.notepad&&"object"==typeof Dom.notepad.items&&(!(i=i||Dom.notepad.items.find("select[name=amount-"+o+"]").val())&&Dom.notepad&&Dom.notepad.items&&Dom.notepad.items[0]&&(i=Dom.notepad.items.find("input[name=amount-"+o+"]").val()),!i&&Dom.notepad&&Dom.notepad.items&&Dom.notepad.items[0]&&(i=Dom.notepad.items.find("select[name=amount-"+o+"]").val())),i=i||1,n.setAndWrite(o,i,a),ModuleBody.setMiniCart(),e.off("submit"),t.addClass("is-in-cart")},initCartForm:function(){if(void 0===Dom.searchresult.cardbox)return!1;var e=Dom.searchresult.cardbox.find("form.cart-form");if(!e[0])return!1;var t=(new CartStorage).hnums();return e.filter(function(){var e=$(this);return!(0<=t.indexOf(e.data("hnum")+""))||(e.parents(".card").addClass("is-in-cart"),!1)}).off("submit.hitlistToCart").on("submit.hitlistToCart",function(e){var t=$(this);ModuleHitlist.hitlistToCart(t),e.preventDefault()}),!0},afterMiniCartAnimation:function(){$(this).is(":visible")&&setTimeout(function(){ModuleBody.setCardBoxes()},20)}};function InfiniteScrolling(){this.scrollThresholdTop=90,this.scrollNudgeTop=10,this.scrollThresholdBottom=null,this.windowScrollMarker=null,this.loading=!1,this.stopClick=!1,this.handleAfterLoad=null,this.type="row",this.enablePrefetch=!0,this.prefetchCall=null,this.oldUrl=null,this.loadedCount=0}R.me("ModuleHitlist",!1),InfiniteScrolling.prototype.init=function(e){Dom.infiniteScrolling=$(".infinite-scrolling"),Dom.infiniteScrolling[0]&&(this.currentPage=parseInt((location.href.match(/page=([\d]+)/)||["","1"])[1]),this.startPage=this.currentPage,this.lastPageLoaded=this.currentPage,this.maxPage=parseInt(Dom.infiniteScrolling.data("max-page")),Dom.html.hasClass("touch")&&Dom.body.find("#masonry-grid")[0]&&(this.stopClick=!0),Dom.body.find("#masonry-grid")[0]&&(this.type="masonry"),this.updateScrollThreshold(),!e&&!location.hash&&1<this.startPage&&window.scrollTo(0,this.scrollThresholdTop+this.scrollNudgeTop),this.initContainer(),!e&&self.enablePrefetch&&self.prefetch(self.currentPage+1))},InfiniteScrolling.prototype.initContainer=function(){var e,t,i=0,a=0,r=this;function s(){var e=Dom.infiniteScrolling.Progress(null,!0);return r.load(1,e)}function l(){var e=Dom.body.find("form.filter").eq(0).Progress("div",!0);return r.load(-1,e)}function d(){return 4===r.loadedCount}function c(){r.loadedCount++}function u(e){if(!$(".infinite--load-more")[0]){var t,n='<span class="fa fa-chevron-down" aria-hidden="true"></span>';t='<div class="card infinite--load-more"><button class="btn big infinite-load-more--btn">'+n+'<span class="infinite-load-more--txt">'+("de"===$("body").data("lang")?"Weitere Treffer für Ihre Suche anzeigen":"Show more results for your search")+"</span>"+n+"</button></div>",$(".infinite--load-more").remove(),Dom.infiniteScrolling.find("div.card").eq(0).before($(t.replace(/chevron-down/g,"chevron-up"))),Dom.infiniteScrolling.find("div.card").last().after($(t)),$(".infinite-load-more--btn").on("click.loadMore",function(){$(".infinite--load-more").remove(),c(),e()})}}var f=Dom.infiniteScrolling.data("bot");function n(){var n=Dom.window.scrollTop(),o=-1;"0"==f&&(function(e){return 0<e-a&&e>=r.scrollThresholdBottom}(n)&&r.currentPage<r.maxPage&&r.currentPage+1>r.startPage&&(d()?u(s):s()&&c()),function(e){return e-a<0&&e<=r.scrollThresholdTop}(n)&&1<r.currentPage&&r.currentPage-1<r.startPage&&(d()?u(l):l()&&c())),a=n,Math.abs(n-i)>r.windowScrollMarker&&(i=n,Dom.infiniteScrolling.find(".cards-page").each(function(){var e=$(this),t=parseInt(e.data("page"));o<t&&function(e,t){return parseInt(e.offset().top)<t+Dom.window.height()/2}(e,n)&&(o=t)}),0<o&&r.setCurrentPage(o))}$(window).off("scroll.infinite").on("scroll.infinite",function(){r.loading?r.handleAfterLoad=n:n()}),r.initLinks(Dom.infiniteScrolling),ModuleHeader.scrolledToHash&&!r.alreadyScrolledToHash&&(e=ModuleHeader.scrolledToHash.match(/([\d]+)/),r.alreadyScrolledToHash=!0,e&&(r.historyReplace(location.href.replace(/#.*$/,"")),(t=$("#product-"+e[1]))[0]&&ModuleHeader.scrollTo(t)))},InfiniteScrolling.prototype.setCurrentPage=function(e){this.currentPage=e;var t=$(".card-page-url-"+e).data("page-url");null===this.oldUrl&&(this.oldUrl=location.pathname+location.search),this.oldUrl!=t&&(t=(this.oldUrl=t)||this.buildUrl(e),this.historyReplace(t))},InfiniteScrolling.prototype.initLinks=function(e){var n=this;e.find("div.card").off("click.infinite","a").on("click.infinite","a",function(e){if(!(e=e||window.event).ctrlKey&&!e.shiftKey&&!e.metaKey){if(1==n.stopClick)return!0;e.preventDefault();var t=$(e.target);t.is("a")||(t=t.parents("a").eq(0)),t.is("a")||(t=$(e.target).find("a")),n.loading=!0,n.pushUrl.call(n,t),location.href=t.attr("href")}})},InfiniteScrolling.prototype.pushUrl=function(e){var t,n=e.parents(".card").eq(0),o=n.data("page");o=o||n.parents(".cards-page").eq(0).data("page"),t=this.buildUrl(o)+"#"+n.attr("id"),this.historyReplace(t)},InfiniteScrolling.prototype.updateScrollThreshold=function(){var e=Dom.window.height(),t=Dom.infiniteScrolling.find("div.card:last").height();this.scrollThresholdBottom=.9*(Dom.document.height()-e-4*t),this.windowScrollMarker=.3*e},InfiniteScrolling.prototype.prefetch=function(e){var t=this;null!==this.prefetchCall&&this.prefetchCall.abort&&(t.prefetchCall.abort(),t.prefetchCall=null),e==this.currentPage||e<=0||(this.prefetchCall=$.post(this.buildUrl(e),{infinite_scrolling:1,prefetch:1}).then(function(){t.prefetchCall=null}))},InfiniteScrolling.prototype.load=function(i,a){var e,r=Math.max(parseInt(this.currentPage+i),1),s=this;if(null!==this.prefetchCall&&this.prefetchCall.abort&&(s.prefetchCall.abort(),s.prefetchCall=null),this.lastPageLoaded==r||r<=0)return a.stop(),!1;e=this.buildUrl(r);return this.loading=!0,$.post(e,{infinite_scrolling:1}).then(function(e){var t,n,o;if(s.enablePrefetch&&s.prefetch(r+i),i<1)switch(s.trigger("addElementsStart.standard",e),t=Dom.infiniteScrolling.find("div.card-new"),s.type){case"masonry":o=Dom.infiniteScrolling.find("div.card").not(".card-new").eq(0),window.scrollTo(0,o.offset().top-t.eq(0).height()-s.scrollThresholdTop);case"row":default:o=Dom.infiniteScrolling.find("div.card").not(".card-new").eq(0),window.scrollTo(0,o.offset().top-s.scrollThresholdTop)}else s.trigger("addElementsEnd.standard",e),t=Dom.infiniteScrolling.find("div.card-new");n=t.parent(),Main.initBookAvailability(),ModuleHitlist.initCartForm(),ModuleLazyLoad.start(n),ModuleHitlist.init(),ModuleNotepad.initNotepadInListLayer(),void 0!==ModuleNotepad.itemToCart&&ModuleNotepad.itemToCart(),void 0!==ModuleNotepad.deleteItem&&ModuleNotepad.deleteItem(),void 0!==ModuleNotepad.unDeleteItem&&ModuleNotepad.unDeleteItem(),void 0!==ModuleNotepadArticle&&ModuleNotepadArticle.initPartial(n),ModuleEcourier.init(),s.initLinks(n),s.lastPageLoaded=t.data("page"),s.updateScrollThreshold(),a.stop(),s.loading=!1,t.removeClass("card-new"),s.handleAfterLoad&&(s.handleAfterLoad(),s.handleAfterLoad=null)}),!0},InfiniteScrolling.prototype.buildUrl=function(e){var t;return 1===e?t=location.href.replace(/#.*$/,"").replace(/\/ff\//,"/s/").replace(/page=[\d]+&*/,""):(t=location.href.replace(/#.*$/,"").replace(/\/s\//,"/ff/").replace(/page=[\d]+(&*)/,"page="+e+"$1")).indexOf("page=")<0&&(t=t+(t.match(/\?/)?"&":"?")+"page="+e),t=t.replace(/[\?&]$/,"")},InfiniteScrolling.prototype.historyReplace=function(e){history.replaceState(null,null,e)},ModuleInfiniteScr=new InfiniteScrolling,extendTriggerBehavior(ModuleInfiniteScr),ModuleInfiniteScr.on("addElementsStart.standard",function(e){var t=$(e).children();Dom.infiniteScrolling.find("div.card").eq(0).before(t),Respond.doOnAddContent()}),ModuleInfiniteScr.on("addElementsEnd.standard",function(e){var t=$(e).children();Dom.infiniteScrolling.find("div.card").last().after(t),Respond.doOnAddContent()}),R.me("ModuleInfiniteScrolling",!1);var ModuleLazyLoad={lazyLoadImgs:null,lazyLoadCallbacks:{},lazyLoadCallbackTimeout:0,preloadAllTimeout:0,preloadAllTimerMs:4e3,observed:{$items:{},callbacks:{}},boundObserver:!1,webp:0,init:function(){Dom.html.hasClass("webp")&&(ModuleLazyLoad.webp=!0),ModuleLazyLoad.start(),Respond.onLoad("lazyloadPreloadTimeout",function(){ModuleLazyLoad.restartPreloadTimeout(),Respond.onScroll("lazyloadPreloadTimeout",ModuleLazyLoad.restartPreloadTimeout),Respond.onResize("lazyloadPreloadTimeout",ModuleLazyLoad.restartPreloadTimeout),ModuleLazyLoad.onLazyLoad("lazyloadPreloadTimeout",ModuleLazyLoad.restartPreloadTimeout),Dom.body.off("vclick.lazyloadPreloadTimeout","a, span, button").on("vclick.lazyloadPreloadTimeout","a, span, button",ModuleLazyLoad.restartPreloadTimeout)})},restartPreloadTimeout:function(){clearTimeout(ModuleLazyLoad.preloadAllTimeout),ModuleLazyLoad.preloadAllTimeout=setTimeout(function(){Respond.offScroll("lazyloadPreloadTimeout"),Respond.offResize("lazyloadPreloadTimeout"),ModuleLazyLoad.offLazyLoad("lazyloadPreloadTimeout"),Dom.body.off("vclick.lazyloadPreloadTimeout","a, span, button"),ModuleLazyLoad.lazyLoadAll()},ModuleLazyLoad.preloadAllTimerMs)},onLazyLoad:function(e,t){ModuleLazyLoad.lazyLoadCallbacks[e]=t},offLazyLoad:function(e){try{delete ModuleLazyLoad.lazyLoadCallbacks[e]}catch(e){}},start:function(e){var t=Respond.height/1.25;ModuleLazyLoad.lazyLoadImgs=(e||Dom.body).find(".lazyload"),ModuleLazyLoad.doLazyLoading(t),Respond.onResize("lazyload",function(){t=Respond.height/1.25,ModuleLazyLoad.doLazyLoading(t)}),Respond.onScroll("lazyload",function(){ModuleLazyLoad.doLazyLoading(t)})},isFinished:function(){return ModuleLazyLoad.lazyLoadImgs.length<=0},doLazyLoading:function(n){ModuleLazyLoad.lazyLoadImgs[0]||(Respond.offScroll("lazyload"),Respond.offResize("lazyload")),ModuleLazyLoad.lazyLoadImgs.each(function(){var e=$(this),t=e.hasClass("lazyimmediate");return!1===t&&e.is(":hidden")||!1===t&&Respond.scrolled+Respond.height+parseInt(n)<e.offset().top||ModuleLazyLoad.showLazyLoadingImg(e),!0})},lazyLoadAll:function(){ModuleLazyLoad.lazyLoadImgs.each(function(){return $img=$(this),ModuleLazyLoad.showLazyLoadingImg($img),!0})},showLazyLoadingResponsive:function(t,e){var n=t.get(0);if(!n.classList.contains("lazyload"))return!1;if(!("srcset"in document.createElement("img"))){t.removeClass("responsive");var o,i=t.data("srcset").match(/([^\s,]+)/g),a=9999,r=0,s=0,l=0;if(0<i.length&&i.length%2==0){if(i.forEach(function(e,t){t%2==1&&((o=parseInt(e.substring(0,e.length-1)))<a&&(a=o,s=t),r<=o&&(r=o,l=t))}),0==s&&0==l)return!1;0<l&&t.data("src-retina",i[l-1]),0<s&&t.data("src",i[s-1])}return!1}if(!n.classList.contains("responsive"))return ModuleLazyLoad.showLazyLoadingImg(t,e),!0;if(n.classList.contains("hidden"))return!0;var d=t.data("sizes"),c=t.data("srcset"),u=/(?:\r\n|\r|\n)/g,f=/\s\s+/g;return d&&t.attr("sizes",d.replace(u," ").replace(f," ")),c=c.replace(u," ").replace(f," "),ModuleLazyLoad.webp&&(c=c.replace(/\.jpg /,".webp ")),t.attr("srcset",c),t.removeClass("lazyload lazy").addClass("loading").on("load.lazyloaded",function(){$(this).removeClass("loading")}),t.off("error.lazyerror").on("error.lazyerror",function(){var e="/cover/nopic-220x220.png";switch(t.data("format")){case"upright":e="/cover/nopic-183x262.png";break;default:e="/cover/nopic-183x183.png"}t.attr("src",e).removeAttr("srcset sizes"),t.parents(".card").eq(0).addClass("nopic")}),t.off("load.lazyload").on("load.lazyload",function(){$.isFunction(e)&&setTimeout(e,350)}),!0},showLazyLoadingImg:function(n,o){if(!n.get(0).classList.contains("responsive")||!ModuleLazyLoad.showLazyLoadingResponsive(n,o)){var e=Respond.retina&&Dom.html.hasClass("no-lowbandwidth")?n.data("src-retina"):n.data("src"),t=n.data("src-desktop"),i=parseInt(n.data("max-win-width")),a=parseInt(n.data("max-width")),r=parseInt(n.data("parent-width")),s=parseInt(n.data("own-width")),l=parseInt(n.data("std-width")),d=parseInt(n.data("no-retina")),c=parseInt(n.data("mobile-width")),u=parseInt(n.data("mobile-max-width")),f=window[n.data("callback-object")],p=n.data("callback-method"),h=n.data("format"),m=l,v=Respond.height;return null!=e&&e||(e=n.data("src")),null!=e&&e?(0<a&&(m=Respond.width,r?m=n.parent().width():s&&(m=n.width(),v=n.height()),a<m&&(m=a)),0<i&&(respondMaxOnly(i)&&Respond.width>l&&(m=Respond.width),u&&u<m&&(m=u)),0<c&&0<u&&respondMaxOnly(u)&&(m=c),t&&!respondMaxOnly(u)&&(e=t),e=(e=e.replace("|vw|",!d&&Respond.retina&&Dom.html.hasClass("no-lowbandwidth")?2*m:m)).replace("|vh|",!d&&Respond.retina&&Dom.html.hasClass("no-lowbandwidth")?2*v:v),n.hasClass("set-background-image")?n.css("background-image","url("+e+")").removeClass("lazyload lazy set-background-image"):n.attr("src",e).removeClass("lazyload lazy").addClass("loading").on("load.lazyloaded",function(){$(this).removeClass("loading")}),ModuleLazyLoad.lazyLoadImgs=Dom.body.find(".lazyload"),n.off("error.lazyerror").on("error.lazyerror",function(){var e="/cover/nopic-220x220.png";switch(h){case"upright":e="/cover/nopic-183x262.png";break;case"square":e="/cover/nopic-183x183.png"}n.attr("src",e),n.parents(".card").eq(0).addClass("nopic")}),n.off("load.lazyload").on("load.lazyload",function(){$.isFunction(o)&&setTimeout(o,350);var e=n.data("callback");if($.isFunction(e)&&e(n),null!=f){n.data("callback-object","").data("callback-method","");var t=f[p];$.isFunction(t)&&setTimeout(t,350)}clearTimeout(ModuleLazyLoad.lazyLoadCallbackTimeout),ModuleLazyLoad.lazyLoadCallbackTimeout=setTimeout(function(){$.each(ModuleLazyLoad.lazyLoadCallbacks,function(e,t){if(!$.isFunction(t))return!0;t()})},100)}),!0):!1}},observe:function(e,t){var n=e.attr("id")||"lazy-observed-"+Object.keys(ModuleLazyLoad.observed.$items).length;e.data("lazy-observed",n),ModuleLazyLoad.observed.$items[n]=e,ModuleLazyLoad.observed.callbacks[n]=t},startObserving:function(){!1===ModuleLazyLoad.boundObserver&&(ModuleLazyLoad.boundObserver=!0,Respond.onScroll("lazyObserver",ModuleLazyLoad.observer))},observer:function(){Object.keys(ModuleLazyLoad.observed.$items).forEach(function(e){ModuleLazyLoad.observed.$items[e]&&Respond.scrolled+Respond.height>ModuleLazyLoad.observed.$items[e].offset().top-200&&(ModuleLazyLoad.observed.callbacks[e](),delete ModuleLazyLoad.observed.callbacks[e],delete ModuleLazyLoad.observed.$items[e])})}};R.me("ModuleLazyload",!1);var ModuleNav={mainNav:{},savedMainNav:{},savedSubNav:{},mobileSubNavOldScrollPos:0,init:function(){Dom.header.mobileNav=Dom.header.find("div.mobile-nav"),Dom.header.mobileSubNav=Dom.header.find("div.mobile-sub-nav"),ModuleNav.savedMainNav=$("body > nav.main-nav").clone(),ModuleNav.savedSubNav=$("main + nav.sub-nav").clone(),ModuleNav.initNavs()},initNavs:function(){if(respondMinOnly(740))$("body > nav.main-nav").appendTo(Dom.header.find("div.wrapper"));else{Dom.header.mobileNav.on("vclick",ModuleNav.showMmenu);var e=$("body > nav.main-nav"),t=$("main + nav.sub-nav").not(".search-filter").clone().find("ul").first();e.find("li.list-headline").remove(),t.find("li.statics").remove(),t.find("li.ad").remove(),t.find("li.sidebar-legend").remove(),t.find(".category").parent("li").remove(),t.find("small.toggle").remove(),t.find("span.clr").remove(),t.find("li > strong.headline").each(function(e,t){$(t).replaceWith(function(){return $("<span />").append($(this).contents())})}),t.find("li > .row > b").each(function(e,t){$(t).replaceWith(function(){return $("<span />").append($(this).contents())})}),t.find("li.submenu").removeClass("submenu").each(function(e,t){$(t).find("div.row").replaceWith(function(){return $(this).contents()})}),t.find("li.cms-cpo").each(function(e,t){$(t).find("figure").replaceWith(function(){return $("<span />").append($(this).contents())})}),t.find("li.filter-block").remove(),t.find("li.seperator").remove(),0<t.find("li").length&&(Dom.body.hasClass("cat-poprock")?e.find("li.poprock").append(t):Dom.body.hasClass("cat-jazz")?e.find("li.jazz").append(t):Dom.body.hasClass("cat-classic")?e.find("li.classic").append(t):Dom.body.hasClass("cat-vinyl")?e.find("li.vinyl").append(t):Dom.body.hasClass("cat-movie")?e.find("li.movie").append(t):Dom.body.hasClass("cat-books")?e.find("li.books").append(t):Dom.body.hasClass("cat-games")?e.find("li.games").append(t):Dom.body.hasClass("cat-score")?e.find("li.score").append(t):Dom.body.hasClass("page-myaccount")&&e.find("li.my-account-link").append(t)),(e=ModuleNav.initActiveState(e)).mmenu({extensions:["pagedim-black","theme-white"],navbars:{height:2,content:[$("header").find("a.logo").clone().html()]},navbar:{title:"Menü"},iconPanels:!!respondMinOnly(480)},{}),ModuleNav.mainNav=e,$("main + nav.sub-nav").not(".search-filter").remove()}if(Respond.onResize("resetMainNav",ModuleNav.resetMainNav),Dom.subNav[0]){if(Dom.subNav.find("li.submenu > div.row > .toggle").off("vclick.submenu").on("vclick.submenu",function(){$(this).parents("li").eq(0).toggleClass("is-open")}),!Dom.subNav.hasClass("search-filter"))return!0;Dom.body.removeClass("no-mobile-sub-nav"),Dom.header.mobileSubNav.on("vclick",ModuleNav.showMobileSubNav),Dom.html.hasClass("touch")&&Dom.body.off("swipeleft.mobileSubNav").on("swipeleft.mobileSubNav",ModuleNav.showMobileSubNavOnSwipe),Dom.subNav.find("b.filter-link").off("vclick.filterLink").on("vclick.filterLink",ModuleBody.clickFilterLinks)}},showMmenu:function(e){if(respondMinOnly(740))return!1;void 0!==e&&e.preventDefault();var t=$("nav.main-nav").find("li.selected:last"),n=ModuleNav.mainNav.data("mmenu");n.open(),void 0!==t[0]&&n.openPanel(t.parents("div.mm-panel"))},resetMainNav:function(){if(!$.isEmptyObject(ModuleNav.mainNav)){var e=ModuleNav.mainNav.data("mmenu");void 0!==e&&e.close()}$("nav.main-nav").remove(),$("body").append(ModuleNav.savedMainNav),$("nav.sub-nav").remove(),$("main").after(ModuleNav.savedSubNav),Dom.mainNav=Dom.header.find("nav.main-nav"),Dom.subNav=Dom.body.find("nav.sub-nav"),"search"!==Dom.body.data("page")&&!Dom.body.hasClass("cat-home")||Dom.subNav.addClass("search-filter"),ModuleNav.init(),ModuleHeader.init(),ModuleSidebar.init()},initActiveState:function(e){if($.isEmptyObject(e))return e;if(Dom.html.hasClass("no-speed"))return e;var t=location.pathname,n=e.find("a"),o=e.find(".booknav"),i=0;return o[0]&&0<=t.indexOf("/node/")&&(i=parseInt(t.replace(/\D/g,""))),(n[0]||o[0])&&(e.find("li").removeClass("selected"),$.each(n,function(){var e=$(this);e.attr("href").replace(location.protocol+"//"+location.host,"")===t&&e.parents("li").eq(0).addClass("selected")}),$.each(o,function(){var e=$(this);parseInt(e.data("param"))===parseInt(i)&&e.addClass("selected")})),e},showMobileSubNav:function(e){if(respondMinOnly(740))return!1;void 0!==e&&e.preventDefault(),Dom.header.ShowOverlay(),Dom.subNav.addClass("is-canvas").scrollTop(0).off("vclick.close").on("vclick.close",ModuleNav.hideMobileSubNav),Dom.subNav.children("div.inner").off("vclick.stopPropagation").on("vclick.stopPropagation",stopPropagation);var t=Dom.subNav.find(".headline");t.each(function(){var e=$(this);e.before('<strong class="headline-placeholder">'+e.html()+"</strong>")});var n=Dom.subNav.find(".headline-placeholder");Dom.subNav.CloseCanvasBySwipe("right",ModuleNav.hideMobileSubNav,function(){ModuleNav.scrollMobileSubNav(t,n)}),t.off("vclick.scrollto").on("vclick.scrollto",function(e){e.preventDefault();var t=$(this).siblings(".headline-placeholder").offset().top,n=(t=t||$(this).offset().top)-Dom.subNav.offset().top+Dom.subNav.scrollTop()-1;ModuleHeader.scrollTo(n,Dom.subNav)}),ModuleNav.scrollMobileSubNav(t,n),Dom.subNav.off("scroll.headlines").on("scroll.headlines",function(){ModuleNav.scrollMobileSubNav(t,n)}),Dom.subNav.find("li.submenu > div.row > small.toggle").off("vclick.submenu").on("vclick.submenu",function(){$(this).parents("li").eq(0).toggleClass("is-open"),ModuleNav.scrollMobileSubNav(t,n)}),Dom.subNav.find("b.filter-link").off("vclick.filterLink").on("vclick.filterLink",ModuleBody.clickFilterLinks),Dom.subNav.find("b.pseudo-filter-link").off("vclick.pseudoFilterLink").on("vclick.pseudoFilterLink",ModuleBody.clickPseudoFilterLinks),Dom.subNav.find(".booknav span.pseudo-link").off("vclick.booknav").on("vclick.booknav",ModuleBody.clickBooknavLinks)},scrollMobileSubNav:function(e,t){if(Dom.html.hasClass("no-speed"))return!0;t.each(function(){var e=$(this),t=e.parent("li").not(".no-headline"),n=t.children(".headline");if(!e[0]||!t[0])return!0;var o=Dom.subNav.scrollTop(),i=t.offset().top-Dom.subNav.offset().top+Dom.subNav.scrollTop();Dom.subNav.scrollTop()<ModuleNav.mobileSubNavOldScrollPos&&(i+=$(e).outerHeight()),t.removeClass("is-fixed").removeClass("top").removeClass("bottom"),n.removeAttr("style");var a=t.prevAll("li.is-fixed.bottom").not(".no-headline").length;if(i<=o)t.addClass("is-fixed").addClass("top").removeClass("bottom");else if(i>=o+Respond.height){if(a<3){t.addClass("is-fixed").addClass("bottom").removeClass("top");var r=t.nextAll("li").not(".no-headline").length,s=-n.outerHeight();3<r&&(r=3);var l=r+1;3<=a+r&&(l=3-a);for(var d=0;d<l;d++)s+=n.outerHeight();n.css("bottom",s)}}else if(i-n.outerHeight()<=o){t.prevAll("li").not(".no-headline").removeClass("is-fixed").removeClass("top")}}),ModuleNav.mobileSubNavOldScrollPos=Dom.subNav.scrollTop()},showMobileSubNavOnSwipe:function(e){return!!Dom.body.hasClass("no-scroll")||(parseInt(e.swipestart.coords[0])<Respond.width-100||(parseInt(e.swipestart.coords[0])-parseInt(e.swipestop.coords[0])<30||void ModuleNav.showMobileSubNav()))},hideMobileSubNav:function(e){e.preventDefault(),Dom.subNav.find(".headline-placeholder").remove(),Dom.subNav.off("scroll.headlines").removeClass("is-canvas"),Dom.header.HideOverlay()}};R.me("ModuleNav",!1);var ModuleNotepad={reloadAfterPopupClosePage:!1,removeProductFromWk:!1,init:function(){return Dom.notepadForm=Dom.body.find("form.notepad-save-form"),Dom.notepadForm[0]&&ModuleNotepad.initNotepadSaveForm(),Dom.body.find("form.notepad-save-form.no-redirect")[0]&&ModuleNotepad.initNotepadInListLayer(),Dom.notepadLayer=Dom.body.find("div.notepad-layer"),Dom.notepadLayer[0]&&ModuleNotepad.initNotepadLayer(),!0},initNotepadSaveForm:function(){return!!Dom.body.hasClass("not-logged")&&(Dom.notepadForm.each(function(){var e=$(this);if(e.hasClass("no-redirect"))return!0;e.off("submit.loginform").on("submit.loginform",function(e){e.preventDefault();var t=$(this);ModuleNotepad.notepadLogin(t)})}),!0)},notepadLogin:function(n){var e=n.Progress();Ajax.post({xjxfun:"getPopup",xjxargs:[1],dataType:"html",targetUrl:n.attr("action"),hnum:n.data("hnum")},function(e){ModuleBody.openAjaxLayer(e,"login-layer");var t=$("div.login-layer");n.hasClass("no-redirect")&&t.find("form").addClass("no-redirect"),ModuleNotepad.initLoginPopup(t.find("form"))},null,function(){e.stop()})},initLoginPopup:function(a){a.off("submit.loginLayer").on("submit.loginLayer",function(e){e.preventDefault();var o=$(this),i=o.parents("div.login-layer"),t=i.Progress();Ajax.post({xjxfun:"login",xjxargs:[1],dataType:"html",loginname:o.find("input[name=login]").val(),loginpass:o.find("input[name=pw]").val()},function(e,t,n){1==n.getResponseHeader("x-login-check")?o.hasClass("no-redirect")?(Dom.notepadForm.each(function(){$(this).off("submit.loginform"),a.off("submit.loginLayer")}),setTimeout(function(){ModuleNotepad.reloadAfterPopupClosePage=!0,ModuleNotepad.initNotepadInListLayer(),ModuleNotepad.insertProduct(i,o.data("hnum"))},0)):window.location.href=Dom.notepadForm.attr("action"):i.find("div.danger").removeClass("hidden")},null,function(){t.stop()})})},notepadSaveNoRedirect:function(e){Dom.body.hasClass("not-logged")?ModuleNotepad.notepadLogin(e):(e.hasClass("remove-wk-product")&&(ModuleNotepad.reloadAfterPopupClosePage=!1,ModuleNotepad.removeProductFromWk=e.parents(".has-notepad").find(".remove-link")),ModuleNotepad.insertProduct(e,e.data("hnum")))},initNotepadInListLayer:function(){if(Dom.body.hasClass("not-logged"))return!1;Dom.body.off("submit.notepad-save-form","form.notepad-save-form.no-redirect").on("submit.notepad-save-form","form.notepad-save-form.no-redirect",function(e){var t=$(this);e.preventDefault(),ModuleNotepad.notepadSaveNoRedirect(t)})},insertProduct:function(e,t){var n=e.Progress();Ajax.post({xjxfun:"insertProduct",xjxargs:[1],dataType:"html",hnum:t},function(e){ModuleBody.openAjaxLayer(e,"notepad-layer"),Dom.notepadLayer=Dom.body.find("div.notepad-layer"),Dom.notepadLayer.data("hnum",t),ModuleNotepad.initNotepadLayer()},null,function(){n.stop()})},initNotepadLayer:function(){if(!Dom.notepadLayer[0])return!1;var e=Dom.notepadLayer.find("div.notepad-list"),t=Dom.notepadLayer.find("form.notepad-new-list"),n=e.find("ul"),i=Dom.notepadLayer.data("hnum"),a=Dom.notepadLayer.data("listid")||0;!1!==ModuleNotepad.removeProductFromWk&&ModuleNotepad.removeProductFromWk[0]?$.magnificPopup.instance.close=function(){location.href=ModuleNotepad.removeProductFromWk.attr("href")}:ModuleNotepad.reloadAfterPopupClosePage&&($.magnificPopup.instance.close=function(){location.href=location.href}),n.find("a").off("vclick.saveNotepadList").on("vclick.saveNotepadList",function(e){e.preventDefault();var t=parseInt($(this).data("id")),n=$(this).data("hnum"),o=Dom.notepadLayer.Progress(),i={xjxfun:"insertProduct",hnum:n,listId:t};a&&(i.xjxfun="moveProduct",i.listId=a,i.destId=t),Ajax.post(i,function(){ModuleBody.closeOpenHelpLayer()},null,function(){o.stop()})}),t.off("submit.newNotepadList").on("submit.newNotepadList",function(e){e.preventDefault();var n=Dom.notepadLayer.Progress(),o=t.find("input[name=new-list-name]").val();if(""==o)return!1;Ajax.post({xjxfun:"createNotepad",json:!0},function(t){Ajax.post({xjxfun:"renameNotepad",listId:t.ID,name:o},function(){var e={xjxfun:"insertProduct",hnum:i,listId:t.ID};a&&(e.xjxfun="moveProduct",e.listId=a,e.destId=t.ID),Ajax.post(e,function(){ModuleBody.closeOpenHelpLayer()},null,function(){n.stop()})},function(){n.stop()})},function(){n.stop()})})}};R.me("ModuleNotepad",!1);var ModulePerformance={listTimer:0,listViews:[],listClicks:[],detailViews:[],detailClicks:[],init:function(){if(/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent))return!1;ModulePerformance.initUser(),ModulePerformance.initAggregated()},initUser:function(){ModulePerformance.initUserDetail(),ModulePerformance.initUserCart(),ModulePerformance.initUserNotepad(),ModulePerformance.initUserLike(),ModulePerformance.initUserHideHints(),ModulePerformance.initUserSwitchSalutation(),ModulePerformance.initUserFeedToNotepad()},initUserDetail:function(){if(ModulePerformance.$detail=$("main.product"),!ModulePerformance.$detail[0])return!1;setTimeout(function(){ModulePerformance.saveUserAction("/session/detail/click/"+ModulePerformance.$detail.data("hnum"))},3e3)},initUserCart:function(){$("form.cart-form").off("click.userPerformanceCart","button.to-cart").on("click.userPerformanceCart","button.to-cart",function(){var e=$(this).parents("form").eq(0);ModulePerformance.saveUserAction("/session/detail/cart/"+e.data("hnum"))})},initUserNotepad:function(){$("form.notepad-savearticle-form").off("click.userPerformanceNotepad","button").on("click.userPerformanceNotepad","button",function(){var e=$(this).parents("form").eq(0);ModulePerformance.saveUserAction("/session/detail/notepad/"+e.data("hnum"))})},initUserLike:function(){$("body").off("click.userPerformanceLike",".action.like, .btn.like").on("click.userPerformanceLike",".action.like, .btn.like",function(){var e=$(this),t=e.parent();e.hasClass("active")||t[0]&&t.data("hnum")&&(ModulePerformance.saveUserAction("/session/like/"+t.data("hnum")),e.addClass("active"))})},initUserFeedToNotepad:function(){$("body").off("click.userPerformanceFeedToNotepad",".action.feedtonotepad, .btn.feedtonotepad").on("click.userPerformanceFeedToNotepad",".action.feedtonotepad, .btn.feedtonotepad",function(){var n=$(this),e=n.parent();if(e[0]&&e.data("hnum")){function t(e){e.showFirsttimeModal&&$("#info-notepad-created").show();var t=$("body").data("lang");n.hasClass("active")?(n.removeClass("active"),"de"==t?n.find("title").html("Artikel merken"):n.find("title").html("Add to notepad")):(n.addClass("active"),"de"==t?n.find("title").html("Artikel vom Merkzettel entfernen"):n.find("title").html("Remove from notepad"))}n.hasClass("active")?ModulePerformance.saveUserActionWithCallback("/session/removefromnotepad/"+e.data("hnum"),t):(ModulePerformance.saveUserActionWithCallback("/session/addtonotepad/"+e.data("hnum"),t),ModulePerformance.saveUserAction("/session/detail/notepad/"+e.data("hnum")))}})},initUserHideHints:function(){$("body").off("click.userPerformanceHideHints",".action.hidehints, .btn.hidehints").on("click.userPerformanceHideHints",".action.hidehints, .btn.hidehints",function(){var e=$(this).parent();e[0]&&e.data("box")&&ModulePerformance.saveUserAction("/session/hidehints/"+e.data("box"))})},initUserSwitchSalutation:function(){$("body").off("click.userPerformanceSwitchSalutation",".action.switchsalutation, .btn.switchsalutation").on("click.userPerformanceSwitchSalutation",".action.switchsalutation, .btn.switchsalutation",function(){$(this).find("svg").hasClass("active")?ModulePerformance.saveUserAction("/session/salutationdefault/false"):ModulePerformance.saveUserAction("/session/salutationdefault/true")})},saveUserAction:function(e){$.ajax({type:"PUT",async:!0,url:e}).always(function(){$.get("/session/score")})},saveUserActionWithCallback:function(e,t){$.ajax({type:"PUT",async:!0,url:e}).done(t).fail(function(){$("#info-error-occured").show()}).always(function(){$.get("/session/score")})},initAggregated:function(){var e=ModulePerformance.initList(),t=ModulePerformance.initDetail();return!(!e&&!t)&&($(window).off("unload.savePerformance").on("unload.savePerformance",ModulePerformance.save),!0)},initList:function(){return ModulePerformance.$cards=$("div.cards .card"),!!ModulePerformance.$cards[0]&&(ModulePerformance.listTimer=0,ModulePerformance.listViews=[],ModulePerformance.listClicks=[],Respond.onLoad("performanceScroll",ModulePerformance.listScroll),Respond.onScroll("performanceScroll",ModulePerformance.listScroll),ModulePerformance.initListClicks(),!0)},initDetail:function(){return ModulePerformance.$detail=$("main.product"),!!ModulePerformance.$detail[0]&&(ModulePerformance.$form=ModulePerformance.$detail.find("form.cart-form"),!(!ModulePerformance.$form[0]||!ModulePerformance.$form.data("hnum"))&&(ModulePerformance.detailViews=[],ModulePerformance.detailClicks=[],setTimeout(function(){ModulePerformance.detailViews.push(ModulePerformance.$form.data("hnum")),ModulePerformance.$form.off("click.performanceTracking","button.to-cart").on("click.performanceTracking","button.to-cart",function(){ModulePerformance.$form.off("click.performanceTracking","button.to-cart"),ModulePerformance.detailClicks.push(ModulePerformance.$form.data("hnum"))})},1e3),!0))},initListClicks:function(){ModulePerformance.$cards.filter(":visible").off("click.performanceClick").on("click.performanceClick",function(){ModulePerformance.doListClick($(this))}).find("a, button").off("click.performanceChildClick").on("click.performanceChildClick",function(){ModulePerformance.doListClick($(this).parents(".card").eq(0))})},doListClick:function(e){if(!e[0])return!0;var t=e.data("hnum");if(!t||-1!==$.inArray(t,ModulePerformance.listClicks))return!0;-1===$.inArray(t,ModulePerformance.listViews)&&ModulePerformance.listViews.push(t),ModulePerformance.listClicks.push(t)},listScroll:function(){clearTimeout(ModulePerformance.listTimer),ModulePerformance.listTimer=setTimeout(ModulePerformance.listScrolled,150)},listScrolled:function(){return ModulePerformance.$cards.filter(":visible").each(function(){var e=$(this),t=e.data("hnum");if(!t||-1!==$.inArray(t,ModulePerformance.listViews))return!0;var n=e.offset().top,o=.6*e.height();return n+o<Respond.scrolled||n+o>Respond.scrolled+Respond.height||ModulePerformance.listViews.push(t),!0}),!0},save:function(){return ModulePerformance.listViews.length<1&&ModulePerformance.detailViews.length<1||($(window).off("unload.savePerformance"),clearTimeout(ModulePerformance.listTimer),$.ajax({type:"PUT",async:!1,url:"/session/perf",data:{listViews:ModulePerformance.listViews,listClicks:ModulePerformance.listClicks,detailViews:ModulePerformance.detailViews,detailClicks:ModulePerformance.detailClicks}}),ModulePerformance.listViews=[],ModulePerformance.listClicks=[],ModulePerformance.detailViews=[],ModulePerformance.detailClicks=[]),!0}};R.me("ModulePerformance",["ModuleHitlist"]);var ModulePrint={init:function(){ModulePrint.printPopup(),ModulePrint.printHotkey(),ModulePrint.printEvents(),"1"==$("body").attr("data-print")&&window.print()},printPopup:function(){Dom.body.off("vclick.print",".print").on("vclick.print",".print",function(e){e.preventDefault();var t=$(this).data("url"),n=$(this).data("title"),o=$(this).data("source");if(Dom.html.hasClass("no-mediaqueries")||Dom.html.hasClass("lt-ie9")||Dom.html.hasClass("no-chrome"))return"notepadlist"==o&&void 0!==t?window.location=t:window.print(),!0;var i=openPopup(t=t||window.location.href,n=n||document.title,620,Respond.height-50);i.print(),$(i).off("load.print").on("load.print",function(){setTimeout(function(){i.close()},100)})})},printHotkey:function(){Dom.document.off("keyup.print keydown.print").on("keyup.print keydown.print",function(e){if((e.metaKey||e.ctrlKey)&&80==e.keyCode)return e.preventDefault(),ModuleLazyLoad.isFinished()?(ModulePrint.documentPrinted(),ModulePrint.printOrPopup()):(ModulePrint.documentPrinted(),ModuleLazyLoad.onLazyLoad("print",ModulePrint.printOrPopup)),!1})},printOrPopup:function(){1==Dom.body.find(".print").length?Dom.body.find(".print").trigger("vclick"):window.print()},printEvents:function(){window.onbeforeprint=ModulePrint.documentPrinted,window.matchMedia&&window.matchMedia("print").addListener(function(){ModulePrint.documentPrinted()})},documentPrinted:function(){return ModuleLazyLoad.lazyLoadAll(),!0}};R.me("ModulePrint",!1);var ModuleRecommendations={$recommendations:{},config:{},slider:{},sliderLoading:{},allLoaded:{},indexCounter:0,init:function(){if(Dom.recommendations=$("section.recommendations"),!Dom.recommendations[0])return!1;Dom.recommendations.each(function(){ModuleRecommendations.addElement($(this))}),extendTriggerBehavior(ModuleRecommendations)},addElement:function(e){var t=ModuleRecommendations.indexCounter;return ModuleRecommendations.indexCounter++,e.data("index",t),Dom.recommendations=Dom.recommendations.add(e),ModuleRecommendations.start(e,t),t},start:function(e,t){ModuleRecommendations.$recommendations[t]=e,ModuleRecommendations.$recommendations[t].slidesContainer=ModuleRecommendations.$recommendations[t].find("div.slides"),ModuleRecommendations.$recommendations[t].slides=ModuleRecommendations.$recommendations[t].slidesContainer.children("div.slide"),ModuleRecommendations.sliderLoading[t]=0,ModuleRecommendations.allLoaded[t]=!1,ModuleRecommendations.initConfig(t),ModuleRecommendations.initSlider(t)},initConfig:function(e){return ModuleRecommendations.config[e]={auto:!1,pager:!1,controls:!0,prevText:'<span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-arrow-circle-left fa-inverse fa-stack-2x"></i></span>',nextText:'<span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-arrow-circle-right fa-inverse fa-stack-2x"></i></span>',onSliderLoad:function(){ModuleRecommendations.onSliderLoad(e)},onSlideBefore:function(){ModuleRecommendations.onSlideBefore(e)},adaptiveHeight:!0,swipeThreshold:80,oneToOneTouch:!1,minSlides:1,maxSlides:1,touchEnabled:!Dom.html.hasClass("ff-pointer-events")},respondMinOnly(980)?(ModuleRecommendations.config[e].minSlides=3,ModuleRecommendations.config[e].maxSlides=3,ModuleRecommendations.config[e].slideWidth=Respond.width/3):respondMinOnly(450)&&(ModuleRecommendations.config[e].minSlides=2,ModuleRecommendations.config[e].maxSlides=2,ModuleRecommendations.config[e].slideWidth=Respond.width/2),!0},initSlider:function(e){return ModuleRecommendations.slider[e]=ModuleRecommendations.$recommendations[e].slidesContainer.bxSlider(ModuleRecommendations.config[e]),Respond.onLoad("reloadRecSlider"+e,function(){ModuleRecommendations.reloadSlider(e)}),Respond.onResize("reloadRecSlider"+e,function(){ModuleRecommendations.reloadSlider(e)}),!0},reloadSlider:function(t,n){return clearTimeout(ModuleRecommendations.sliderLoading[t]),ModuleRecommendations.sliderLoading[t]=setTimeout(function(){var e=ModuleRecommendations.config[t];n&&(e.startSlide=n),ModuleRecommendations.initConfig(t),ModuleRecommendations.slider[t].reloadSlider(e)}),!0},onSliderLoad:function(e){var t=ModuleRecommendations.$recommendations[e].slides.first(),n=ModuleRecommendations.$recommendations[e];ModuleRecommendations.onNewSlide(e,t),n.find("div.bx-controls a").off("mouseenter.lazyload").on("mouseenter.lazyload",function(){ModuleRecommendations.onSlideBefore(e)}),Dom.html.hasClass("touch")?Respond.onLoad("loadAllImagesRecSlider"+e,function(){n.find("img.lazy").each(function(){var e=$(this);ModuleLazyLoad.showLazyLoadingImg(e)})}):(n.addClass("show-controls"),setTimeout(function(){n.removeClass("show-controls")},3e3)),ModuleLazyLoad.start()},onNewSlide:function(e,t){if(!t[0])return!0;if(ModuleRecommendations.activateLazyImage(e,t),ModuleRecommendations.config[e].maxSlides<2)return!0;var n=t.next("div.slide").not(".bx-clone");if(ModuleRecommendations.activateLazyImage(e,n),ModuleRecommendations.config[e].maxSlides<3)return!0;var o=n.next("div.slide").not(".bx-clone");return ModuleRecommendations.activateLazyImage(e,o),!0},onSlideBefore:function(e){return!!ModuleRecommendations.allLoaded[e]||(ModuleRecommendations.$recommendations[e].slides.each(function(){ModuleRecommendations.activateLazyImage(e,$(this))}),ModuleRecommendations.allLoaded[e]=!0)},activateLazyImage:function(e,t){if(!t[0])return!1;var n=t.find(".lazy");if(!n[0])return!1;ModuleLazyLoad.showLazyLoadingImg(n);var o=parseInt(t.data("counter")),i=ModuleRecommendations.$recommendations[e].slidesContainer.find("div.slide-"+o).find(".lazy");return!!i[0]&&(ModuleLazyLoad.showLazyLoadingImg(i),!0)}};R.me("ModuleRecommendations",!1);var ModuleReviews={mustBeLogged:!0,init:function(){return Dom.reviews=Dom.body.find("aside.reviews"),Dom.product||(Dom.product=$("main.product")),Respond.onLoad("reviewNewLoad",ModuleReviews.newReviewOnLoad),ModuleReviews.initDetailBox(),ModuleReviews.initWriteFirstReview(),!!Dom.reviews[0]&&(ModuleReviews.initReviews(),!0)},newReviewOnLoad:function(){"undefined"!=typeof newReviewLoginTry&&1==newReviewLoginTry&&ModuleReviews.initNewReview(),"#new-review"==window.location.hash&&(window.location.hash="",ModuleReviews.initNewReview())},initDetailBox:function(){var e=Dom.body.find("div.box.rating");if(!e[0])return!1;if(Dom.reviews[0]){var t=Dom.reviews.find("div.overview article.left div.stars"),n=t.clone(),o=Dom.product.find("div.preavailability"),i=o.clone();0<t.length?(n.find("small, span").removeAttr("itemprop").removeAttr("itemscope").removeAttr("itemtype"),e.html("<small>"+e.data("heading")+"</small>").append(n).append(i)):o.hide()}e.addClass("rated").find("div.preavailability").off("vclick.preavailability").on("vclick.preavailability",function(){var t=$(this).parent().Progress();$.post(Main.jpcng+"/home/kube",{task:"availabilityinfo",rating:1,hnum:Dom.product.data("hnum"),dataType:"html"},function(e){t.stop(),ModuleBody.openAjaxLayer(e,"availabilityinfo-layer")})}),e.addClass("rated").find("div.stars").off("vclick.scrollRatings").on("vclick.scrollRatings",function(){var t=$(this).parent().Progress();$.post(Main.jpcng+"/home/kube",{task:"savestarsformstart",rating:1,hnum:Dom.product.data("hnum"),dataType:"html"},function(e){t.stop();var o=ModuleBody.openAjaxLayer(e,"new-rating-layer");ModuleReviews.detailBoxWriteReview(o),ModuleReviews.initSelectableStars(o),o.find("div.stars i").off("vclick.rate").on("vclick.rate",function(e){e.preventDefault(),o.find("div.stars i").off("vclick.rate");var t=parseInt(o.find("div.stars input").val(),10),n=o.Progress();$.post(Main.jpcng+"/home/kube",{task:"savestarsform",rating:t,hnum:Dom.product.data("hnum"),dataType:"html"},function(e){n.stop(),ModuleBody.closeOpenHelpLayer();var t=ModuleBody.openAjaxLayer(e,"new-rating-layer");ModuleReviews.detailBoxWriteReview(t)})})})})},detailBoxWriteReview:function(e){e.find("button.write-review").off("vclick.writeReview").on("vclick.writeReview",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer(),ModuleReviews.initNewReview()})},initMyReview:function(){if(!Dom.myReview[0])return!1;ModuleHeader.scrollTo(Dom.myReview),ModuleForm.init(),ModuleLazyLoad.start(),ModuleBody.initHelpLayer(),ModuleReviews.initMyReviewSaveActions(),ModuleReviews.initMyReviewNickname(),ModuleReviews.initSelectableStars(Dom.myReview),ModuleReviews.animateRatingWidth(),Respond.onScroll("setWidthDetail",ModuleReviews.animateRatingWidth);var e=Dom.myReview.find("textarea"),t=Dom.myReview.find("span.required-chars"),r=Dom.myReview.find("div.product-recommendation div.cards");e.off("keyup.count input.count").on("keyup.count input.count",function(){var e=$(this).val().length;50<=e?t.addClass("hidden"):t.removeClass("hidden").children("b").html(50-e)}),Dom.body.enterKey(function(){Dom.body.find("div.mfp-content div.product-recommendation-layer button.btn").trigger("vclick")},"div.mfp-content div.product-recommendation-layer input[name=q]"),Dom.body.off("vclick.reviewProductRecommendation","div.mfp-content div.product-recommendation-layer button.btn").on("vclick.reviewProductRecommendation","div.mfp-content div.product-recommendation-layer button.btn",function(e){e.preventDefault();var t=$(this).parents("div.product-recommendation-layer").eq(0),n=t.find("div.cards"),o=t.find("input[name=q]").val(),i=t.Progress();if(7!=o.length||o!=parseInt(o))$.get("/s/"+encodeURIComponent(o)+"?IgnoreVisit=1&dataType=html&output=simple",function(e){n.html(e),i.stop(),ModuleBody.setCardBoxes(),ModuleLazyLoad.start(),n.find("a.card").off("vclick.choose").on("vclick.choose",function(e){e.preventDefault();var t=$(this);t.off("vclick.choose").attr("target","_blank"),t.find("div.content").prepend('<i class="fa fa-trash-o delete-card"></i>'),r.append(t),ModuleBody.setCardBoxes()})});else{var a={hnum:o,task:"getRecommendationByHnum",showTrash:1};$.post(Main.jpcng+"/home/kube",a,function(e){i.stop(),r.append(e),ModuleBody.setCardBoxes(),ModuleLazyLoad.start(),ModuleBody.closeOpenHelpLayer()})}}),Dom.myReview.find("a.add-userdata").off("vclick.addUserdata").on("vclick.addUserdata",function(e){e.preventDefault();var t=$(this).parent().Progress();$.post(Main.jpcng+"/home/kubereviewer",{task:"displayform",dataType:"html"},function(e){t.stop(),Dom.myReview.find("div.ins-form").html(e)})})},initMyReviewSaveActions:function(){Dom.myReview.find("form.save-form").off("submit.save").on("submit.save",function(e){e.preventDefault();var t={hnum:Dom.product.data("hnum"),typnum:Dom.product.data("typnum"),task:Dom.myReview.find("div.about-me").hasClass("is-logged")?"check":"anonym",edit:Dom.myReview.find("input[name=edit]").val(),ratingId:Dom.myReview.find("input[name=id]").val(),titel:Dom.myReview.find("input[name=titel]").val(),bewertungstext:Dom.myReview.find("textarea[name=bewertungstext]").val(),ort:Dom.myReview.find("input[name=ort]").val(),alter:Dom.myReview.find("select[name=alter]").val(),geschlecht:Dom.myReview.find("select[name=geschlecht]").val(),kundeseit:Dom.myReview.find("select[name=kundeseit]").val(),emailbenachrichtigung:Dom.myReview.find("input[name=emailbenachrichtigung]").is(":checked")?1:0,nickname_exists:Dom.myReview.find("input[name=nickname_exists]").val(),nickname:Dom.myReview.find("input[name=nickname_exists]").val(),empfehlungen:"",dataType:"html"};Dom.myReview.find("div.total-rating input").each(function(){if(("radio"==$(this).attr("type")||"checkbox"==$(this).attr("type"))&&!$(this).is(":checked"))return!0;var e=$(this).attr("name");t[e]=$(this).val()});var n=[],o=0;Dom.myReview.find("div.recommended-products a").each(function(){var e=$(this).data("hnum");-1==$.inArray(e,n)&&(t.empfehlungen+=(""==t.empfehlungen?"":";")+e,n[o++]=e)}),Dom.myReview.find("div.recommended-products div.card").each(function(){var e=$(this).data("hnum");-1==$.inArray(e,n)&&(t.empfehlungen+=(""==t.empfehlungen?"":";")+e,n[o++]=e)});var i=Dom.myReview.find("div.inner").Progress();$.post(Main.jpcng+"/home/kube",t,function(e){i.stop(),Dom.myReview.replaceWith(e),Dom.myReview=Dom.body.find("aside.my-review"),ModuleReviews.initMyReview()})}),Dom.myReview.find("button.back").off("vclick.goBack").on("vclick.goBack",function(e){e.preventDefault();var t=getFormData(Dom.myReview.find("form.send-review")),n=Dom.myReview.Progress();t.edit=!0,t.task="back",$.post(Main.jpcng+"/home/kube",t,function(e){n.stop(),Dom.myReview.replaceWith(e),Dom.myReview=Dom.body.find("aside.my-review"),ModuleReviews.initMyReview()})}),Dom.myReview.find("button.save").off("vclick.save").on("vclick.save",function(e){e.preventDefault();var t=getFormData(Dom.myReview.find("form.send-review")),n=Dom.myReview.Progress();$.post(Main.jpcng+"/home/kube",t,function(e){n.stop(),ModuleBody.openAjaxLayer(e,"review-saved-layer"),Dom.myReview.remove(),Dom.myReview=null})})},initMyReviewNickname:function(){Dom.myReview.find("small.use-no-nickname").off("vclick.noNickname").on("vclick.noNickname",function(e){e.preventDefault();var t=$(this).parents("span.p").eq(0);$.post(Main.jpcng+"/home/kube",{task:"removenickname",dataType:"html"},function(e){t.html(e),ModuleReviews.initMyReviewNickname()})}),Dom.myReview.find("span.reset-nickname").off("vclick.resetNickname").on("vclick.resetNickname",function(e){e.preventDefault();var t=$(this).parents("span.p").eq(0);$.post(Main.jpcng+"/home/kube",{task:"loadnickname",dataType:"html"},function(e){t.html(e),ModuleReviews.initMyReviewNickname()})})},initSelectableStars:function(e){e.find(".stars.has-select").each(function(){var t=$(this),n=t.find("i");n.off("mouseenter.select").on("mouseenter.select",function(){t.addClass("select"),n.removeClass("selected"),$(this).addClass("selected").prevAll("i").addClass("selected")}).off("mouseleave.select").on("mouseleave.select",function(){t.removeClass("select"),n.removeClass("selected")}).off("vclick.select").on("vclick.select",function(){n.removeClass("rated"),$(this).addClass("rated").prevAll("i").addClass("rated");var e=parseInt($(this).prevAll("i").length+1,10);t.find("input").val(e).prop("value",e),t.removeClass("select"),n.removeClass("selected")})})},initNewReview:function(){if(Dom.myReview&&Dom.myReview[0])return ModuleReviews.initMyReview(),!0;var e=Dom.product.find("div.edit-review").find("button").attr("data-edit"),t=Dom.product.find("div.edit-review").find("button").attr("data-rating");if(Dom.product.find("div.write-first-review").remove(),ModuleReviews.mustBeLogged&&Dom.body.hasClass("not-logged")){ModuleBody.openHelpLayer(Dom.body.find("div.new-review-login-layer"));var n=Dom.body.find("div.new-review-login-layer"),o=n.find("p.choose-action"),i=n.find("div.do-login"),a=n.find("div.msg.danger");o.removeClass("hidden"),i.addClass("hidden"),a.addClass("hidden"),o.find("button.login").off("vclick.login").on("vclick.login",function(e){e.preventDefault(),(new Login).getPromise().then(function(){location.href=n.data("k")+"/detail/-/hnum/"+Dom.product.data("hnum")+"?reviewLogin=1"}).fail(function(){location.href=n.data("k")+"/detail/-/hnum/"+Dom.product.data("hnum")+"?reviewLogin=0"})}),o.find("button.anonym").off("vclick.anonym").on("vclick.anonym",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer(),ModuleReviews.mustBeLogged=!1,ModuleReviews.initNewReview()}),newReviewLoginError=0}else{var r="new";"true"==e&&(r="load"),$.post(Main.jpcng+"/home/kube",{hnum:Dom.product.data("hnum"),typnum:Dom.product.data("typnum"),task:r,edit:e,ratingId:t,dataType:"html"},function(e){Dom.reviews&&Dom.reviews[0]?(Dom.reviews.before(e),Dom.reviews.remove()):Dom.product.find("span.ins-my-review").before(e),Dom.myReview=Dom.body.find("aside.my-review"),ModuleReviews.initMyReview()})}},initWriteFirstReview:function(){Dom.product.find("div.write-first-review button").off("vclick.new").on("vclick.new",function(e){e.preventDefault(),ModuleReviews.initNewReview()})},initEditReview:function(){Dom.product.find("div.edit-review button").off("vclick.new").on("vclick.new",function(e){e.preventDefault(),ModuleReviews.initNewReview()})},initReviews:function(){Dom.reviews.find("div.overview button.write").off("vclick.new").on("vclick.new",function(e){e.preventDefault(),ModuleReviews.initNewReview()}),Respond.onLoad("setWidthDetail",ModuleReviews.animateRatingWidth),Respond.onScroll("setWidthDetail",ModuleReviews.animateRatingWidth),Dom.reviews.off("vclick.authorInfo","a.author-name").on("vclick.authorInfo","a.author-name",function(e){e.preventDefault();var t=$(this).parents("li").eq(0),n=t.Progress();$.post(Main.jpcng+"/home/kubereviewer",{reviewerName:t.data("reviewername"),reviewerId:t.data("reviewerid")},function(e){ModuleBody.openAjaxLayer(e,"author-detail-layer"),n.stop()})}),Dom.reviews.off("vclick.commentAuthorInfo","ol.author-data b").on("vclick.commentAuthorInfo","ol.author-data b",function(e){e.preventDefault();var t=$(this).parents("div.comment").eq(0),n=t.Progress();$.post(Main.jpcng+"/home/kubereviewer",{reviewerName:t.data("reviewername"),reviewerId:t.data("reviewerid")},function(e){ModuleBody.openAjaxLayer(e,"author-detail-layer"),n.stop()})}),Respond.onLoad("getSoldoutReviewProducts",function(){"0"==Dom.reviews.data("bot")&&Dom.reviews.find("div.soldout").each(function(){var t=$(this),n=t.find("a"),e=t.data("hnum");$.post(Main.jpcng+"/home/kube",{task:"availabilitycheck",hnum:e},function(e){if("notavailable"!=e)return!0;t.html(n.html())})})}),Respond.onLoad("getEditButton",function(){Dom.reviews.find("ul.list").find("li").each(function(){var t=$(this),e=$("aside.reviews").attr("data-reviewerId"),n=t.attr("data-hnum"),o=t.attr("data-reviewerid"),i=t.attr("data-id");0<o&&o==e&&$.post(Main.jpcng+"/home/kube",{task:"loadeditbutton",ratingId:i,hnum:n,dataType:"html"},function(e){$article=t.find("article.left"),$article.append(e),ModuleReviews.initEditReview()})})});var t={ratings:[],comments:[]};Dom.reviews.find("ul.list > li").each(function(){var e=$(this);t.ratings.push(e.data("id")),e.find("div.comments div.comment").each(function(){var e=$(this);t.comments.push(e.data("comment"))})}),Respond.onLoad("getHelpfulReviews",function(){"0"==Dom.reviews.data("bot")&&$.post(Main.jpcng+"/home/kubehelpful",{task:"counts",ratings:t},function(e){var t=$.parseJSON(e);$.each(t.ratings,function(e,t){var n=Dom.reviews.find("li.review-"+e+" div.footer div.helpful");1==t[2]&&n.addClass("disabled").find("button").attr("disabled",!0),n.find("button.yes").append(" ("+t[0]+")"),n.find("button.no").append(" ("+t[1]+")")}),$.each(t.comments,function(e,t){var n=Dom.reviews.find("div.comment-"+e+" div.helpful");1==t[2]&&n.addClass("disabled").find("button").attr("disabled",!0),n.find("button.yes").append(" ("+t[0]+")"),n.find("button.no").append(" ("+t[1]+")")})})}),Dom.reviews.find("div.helpful button.action").off("vclick.helpful").on("vclick.helpful",function(e){e.preventDefault();var t=$(this),n=$(this).parents("div.helpful").eq(0),o=0,i=0,a=t.hasClass("yes")?"yes":"no",r=t.parent().Progress(),s=t.parents("div.comment").eq(0);s[0]?i=parseInt(s.data("comment"),10):o=t.parents("li").eq(0).data("id"),$.post(Main.jpcng+"/home/kubehelpful",{task:"save",ratingId:o,commentId:i,helpful:a,dataType:"html"},function(e){ModuleBody.openAjaxLayer(e,"helpful-saved-layer"),$.post(Main.jpcng+"/home/kubehelpful",{task:"save",ratingId:o,commentId:i,helpful:"saved",dataType:"html"},function(e){n.replaceWith(e),r.stop()})})}),Dom.reviews.find("a.comments-link").off("vclick.showComments").on("vclick.showComments",function(e){e.preventDefault(),$(this).parents("div.footer").next("div.comments").toggleClass("show")}),Dom.reviews.find("a.comment-link").off("vclick.comment").on("vclick.comment",function(e){e.preventDefault();var t=$(this).parents("li").eq(0),n=t.Progress();$.post(Main.jpcng+"/home/kubecomment",{ratingId:t.data("id"),dataType:"html"},function(e){var t=ModuleBody.openAjaxLayer(e,"review-new-comment");ModuleReviews.submitReviewComment(t),n.stop()})})},submitReviewComment:function(t){t.find("form").off("submit.saveComment").on("submit.saveComment",function(e){e.preventDefault();var n=t.Progress();$.post(Main.jpcng+"/home/kubecomment",{task:t.find("input[name=task]").val(),ratingId:t.find("input[name=ratingId]").val(),titel:t.find("input[name=titel]").val(),kommentartext:t.find("textarea[name=kommentartext]").val(),ort:t.find("input[name=ort]").val(),emailbenachrichtigung:t.find("input[name=emailbenachrichtigung]").is(":checked")?1:0,nickname:t.find("input[name=nickname]").val(),dataType:"html"},function(e){var t=ModuleBody.openAjaxLayer(e,"review-new-comment");ModuleReviews.submitReviewComment(t),n.stop()})})},animateRatingWidth:function(){var e=Dom.reviews.find(".set-width");return e[0]?Respond.scrolled+Respond.height<Dom.reviews.offset().top||void e.each(function(){var e=$(this);Respond.scrolled+Respond.height>e.offset().top+e.height()&&setTimeout(function(){e.width(e.data("width")+"%"),setTimeout(function(){e.removeClass("set-width")},1600)},300)}):(Respond.offLoad("setWidthDetail"),Respond.offScroll("setWidthDetail"),!0)}};R.me("ModuleReviews",!1);var Suggest=function(e,t){var n={xjxfun:"",additionalArgs:!1,timeoutDelay:200};this.oldVal="",this.options=$.isPlainObject(t)?$.extend(n,t,!0):n,this.searchField=e,this.fieldContainer=this.searchField.parents(".suggest").eq(0),this.suggestionsContainer=this.fieldContainer.find("ol"),this.initHandler()};function SearchSuggest(e,t){return new Suggest(e,t)}Suggest.prototype.getSearchSuggests=function(e){var t=$.trim(this.searchField.val()),n=["S"+t],o=this;if((!e||this.navigateToSearchSuggest(e))&&t!==this.oldVal){this.oldVal=t;try{clearTimeout(this.timeout)}catch(e){}this.timeout=setTimeout(function(){t.length<=2?o.destroySearchSuggest():(o.suggestionsContainer.addClass("load"),o.progress=o.fieldContainer.Progress("li"),o.trigger("beforeGetSearchSuggest"),$.isFunction(o.options.additionalArgs)?n.push(o.options.additionalArgs()):$.isArray(o.options.additionalArgs)&&$.each(o.options.additionalArgs,function(e,t){n.push(t)}),Ajax.get({xjxfun:o.options.xjxfun,xjxargs:n},function(e){if(parseInt(e.count)<=0)return o.destroySearchSuggest(),!1;o.suggestionsContainer.html(e.html).addClass("loaded");var t=o.suggestionsContainer.find("li span");return t.off("click.suggest").on("click.suggest",$.proxy(o.selectSearchSuggest,o)),t.off("blur.suggest").on("blur.suggest",$.proxy(o.hideSearchSuggest,o)),t.off("focus.suggest").on("focus.suggest",$.proxy(o.showSearchSuggest,o)),t.off("keydown.suggest").on("keydown.suggest",$.proxy(o.navigateSearchSuggest,o)),!0},function(){o.destroySearchSuggest()},function(){o.progress.stop()}))},this.options.timeoutDelay)}},Suggest.prototype.showSearchSuggest=function(){var e=this;setTimeout(function(){e.fieldContainer.addClass("show-suggest")},30)},Suggest.prototype.destroySearchSuggest=function(){this.hideSearchSuggest(),this.suggestionsContainer.removeClass("load").removeClass("loaded").html("");var e=this.suggestionsContainer.find("li span");e.off("click.suggest"),e.off("blur.suggest"),e.off("focus.suggest"),e.off("keydown.suggest")},Suggest.prototype.hideSearchSuggest=function(){var e=this;clearTimeout(this.hideSuggestTimeout),hideSuggestTimeout=setTimeout(function(){if($(document.activeElement).parents(".suggest.show-suggest")[0])return!0;e.fieldContainer.removeClass("show-suggest")},25)},Suggest.prototype.navigateSearchSuggest=function(e){if(!this.suggestionsContainer.hasClass("loaded"))return!0;var t=$(document.activeElement);if(!t.parents(".suggest")[0])return!0;var n=t.parent("li");if(!n[0])return!0;if(13===e.keyCode)return this.selectSearchSuggest(e),!1;if(38===e.keyCode){e.preventDefault();var o=n.prev("li");return o[0]&&!o.hasClass(".no-focus")?o.children("span").focus():this.searchField.focus(),!1}if(40===e.keyCode){e.preventDefault();var i=n.next("li");return i[0]&&!i.hasClass(".no-focus")?i.children("span").focus():this.suggestionsContainer.children("li:not(.no-focus)").first().children("span").focus(),!1}},Suggest.prototype.navigateToSearchSuggest=function(e){return!this.fieldContainer.hasClass("show-suggest")||!this.suggestionsContainer.hasClass("loaded")||(38===e.keyCode?(e.preventDefault(),this.suggestionsContainer.children("li:not(.no-focus)").last().children("span").focus(),!1):40!==e.keyCode||(e.preventDefault(),this.suggestionsContainer.children("li:not(.no-focus)").first().children("span").focus(),!1))},Suggest.prototype.selectSearchSuggest=function(e){e.preventDefault();var t=$(e.target).is("li")?$(e.target).find("span"):$(e.target),n=$.extend(this.options,{$el:t});this.trigger("select",n),this.destroySearchSuggest()},Suggest.prototype.selectFirstElement=function(){var e=this.suggestionsContainer.find("li:not(.no-focus) span").first(),t=$.extend(this.options,{$el:e});e[0]&&(this.trigger("select",t),this.destroySearchSuggest())},Suggest.prototype.initHandler=function(){this.searchField.off("blur.suggest").on("blur.suggest",$.proxy(this.hideSearchSuggest,this)),this.searchField.off("focus.suggest").on("focus.suggest",$.proxy(this.showSearchSuggest,this)),this.getSearchSuggests(),this.searchField.off("focus.suggests keyup.suggests change.suggests").on("focus.suggests keyup.suggests change.suggests",$.proxy(this.getSearchSuggests,this)),Dom.document.off("keydown.suggest-extended"+this.options.xjxfun).on("keydown.suggest-extended"+this.options.xjxfun,$.proxy(this.navigateToSearchSuggest,this))},Suggest.prototype.destroy=function(){this.destroySearchSuggest(),this.searchField.off("blur.suggest"),this.searchField.off("focus.suggest"),this.searchField.off("focus.suggests keyup.suggests change.suggests"),Dom.document.off("keydown.suggest-extended"+this.options.xjxfun)},extendTriggerBehavior(Suggest.prototype),R.me("ModuleSearchSuggest",!1);var ModuleSidebar={init:function(){return!!Dom.subNav[0]&&(Dom.subNav.parent=Dom.subNav.parent(),Dom.mainContent=Dom.subNav.siblings("main"),!!Dom.mainContent[0]&&(ModuleSidebar.initDfp(),ModuleSidebar.initSidebarHeights(),Respond.offResize("initSidebarHeights").onResize("initSidebarHeights",ModuleSidebar.initSidebarHeights),Respond.offLoad("initSidebarHeights").onLoad("initSidebarHeights",ModuleSidebar.initSidebarHeights),ModuleSidebar.initFixedSidebar(),Respond.offResize("initFixedSidebar").onResize("initFixedSidebar",ModuleSidebar.initFixedSidebar),Respond.offLoad("initFixedSidebar").onLoad("initFixedSidebar",ModuleSidebar.initFixedSidebar),Respond.offAddContent("reinitSidebar").onAddContent("reinitSidebar",ModuleSidebar.reinit),void ModuleSidebar.initActiveState()))},reinit:function(){Dom.subNav=Dom.body.find("nav.sub-nav"),ModuleSidebar.init()},initDfp:function(){var e=$(".ad.no-headline");if(Respond.offAddContent("sidebarDfp"),e[0]){var t=$(".ad-sidebar-container");ModuleSidebar.adHeight=t.outerHeight(),e.width(Dom.subNav.width()),Respond.onAddContent("sidebarDfp",ModuleSidebar.reinit)}},initActiveState:function(){if(Dom.html.hasClass("no-speed"))return!0;var e=location.pathname,t=Dom.subNav.find("a"),n=Dom.subNav.find(".booknav"),i=0;if(n[0]&&0<=e.indexOf("/node/")&&(i=parseInt(e.replace(/\D/g,""))),!t[0]&&!n[0])return!0;Dom.subNav.find("li").removeClass("active"),$.each(t,function(){var n=$(this);if(n.attr("href")!==e)return!0;var o=n.parents("li").eq(0),i=o.parents("ol.jspScrollable").eq(0);return o.addClass("active"),n.parents("li.submenu").addClass("is-open"),i[0]&&Respond.offLoad("scrollToSidebar").onLoad("scrollToSidebar",function(){var e=i.data("jsp"),t=o.position().top-i.height()/2+n.height();e.scrollToY(t,!1)}),!1}),$.each(n,function(){var n=$(this);if(parseInt(n.data("param"))!==parseInt(i))return!0;var o=n.parents("ol.jspScrollable").eq(0);return n.addClass("active"),n.addClass("is-open"),n.parents("li.submenu").addClass("is-open"),o[0]&&Respond.offLoad("scrollToSidebar").onLoad("scrollToSidebar",function(){var e=o.data("jsp"),t=n.position().top;e.scrollToY(t,!1)}),!1})},initSidebarHeights:function(){var e=Dom.subNav.find("ul > li > ol"),t=e.parent("li"),n=Respond.height-ModuleHeader.fixedHeaderHeight;if(respondMaxOnly(739))return e.css("max-height","none"),!1;var o=-24;t.each(function(){o+=$(this).height()-$(this).children("strong").outerHeight()});var i=(n-=Dom.subNav.height()-o)/e.length;i<200&&(i=200),e.each(function(){if($(this).height()<200)return!0;$(this).css("max-height",i+"px").jScrollPane({verticalGutter:0,autoReinitialise:!0,enableKeyboardNavigation:!1})}),ModuleSidebar.initFixedSidebar()},initFixedSidebar:function(){if(Dom.html.hasClass("no-speed")||respondMaxOnly(739))return Respond.offScrollStraight("fixSidebar"),ModuleSidebar.unfixSidebar(),!1;var e=Respond.height-ModuleHeader.fixedHeaderHeight,t=Dom.mainContent.outerHeight(),n=Dom.subNav.outerHeight();return 0<ModuleSidebar.adHeight&&(ModuleSidebar.adParentTop=Dom.subNav.parent.offset().top,ModuleSidebar.adOffset=ModuleSidebar.adParentTop+n-ModuleSidebar.adHeight),n<e&&n<t||0<ModuleSidebar.adHeight?(ModuleSidebar.fixSidebar(),Respond.offScrollStraight("fixSidebar").onScrollStraight("fixSidebar",ModuleSidebar.fixSidebar),Respond.offLoad("fixSidebar").onLoad("fixSidebar",function(){setTimeout(function(){ModuleSidebar.fixSidebar()},525)})):ModuleSidebar.unfixSidebar(),!0},unfixSidebar:function(){Dom.subNav.hasClass("fixed")&&Dom.subNav.removeClass("fixed").removeAttr("style")},fixSidebar:function(){var e=Dom.header.outerHeight()+12,t=Dom.subNav.outerHeight(),n=e;if(Respond.scrolled+e<Dom.subNav.parent.offset().top||Dom.mainContent.outerHeight()<=t)return ModuleSidebar.unfixSidebar(),!0;0<ModuleSidebar.adHeight&&(n=ModuleSidebar.adParentTop-Respond.scrolled,Respond.scrolled>ModuleSidebar.adOffset-e&&(n=n+(Respond.scrolled-ModuleSidebar.adOffset)+e)),Dom.subNav.css({width:Dom.subNav.outerWidth(),top:n+"px",left:Dom.subNav.parent.offset().left+10+"px"}).addClass("fixed");var o=Dom.subNav.offset().top+t-(Dom.subNav.parent.offset().top+Dom.subNav.parent.outerHeight());0<=o&&Dom.subNav.css("top",n-o+"px")}};R.me("ModuleSidebar",!1);var ModuleTranslation={init:function(){ModuleTranslation.initTranslation()},initTranslation:function(){var t=$("body").data("lang"),n=$("body").data("lang"),o=$("body").data("page"),e=$("main").data("typnum"),i=$("body").hasClass("is-translated"),a=$(".translationSelector"),r=a.data("source-lang");6!=e&&($("body").hasClass("cat-books")||("en"!=t||"en"==r||i?a.off("change.translationselector").on("change.translationselector",function(e){""!=(t=$(this).val())&&ModuleTranslation.dotranslate(t,o,n),$(this).blur()}):ModuleTranslation.dotranslate(t,o,n)))},dotranslate:function(e,t,o){var i=$(".translationSelector").data("source-lang");if("de"==e&&"de"==i||"en"==e&&"en"==i){var n=$(".translationSelectorBox").Progress("div",!0),a=$("#red-text").find("div"),r=$(".original-spotlighttext").html(),s=$(".spotlight").find("div.text");""!=r&&(s.html(r),$(".original-spotlighttext").html("")),a.each(function(){if("j"==$(this).data("pd")){var e=$(".original-text-j").html();$(this).html(e),$(".original-text-j").html("")}if("k"==$(this).data("pd")){var t=$(".original-text-k").html();$(this).html(t),$(".original-text-k").html("")}if("hint"==$(this).data("pd")){var n=$(".original-text-hint").html();$(this).html(n),$(".original-text-hint").html("")}});var l=$(".reviews").find(".list").find("li"),d=[],c=[],u=[];l.each(function(){var e=$(this).find(".kube-caption-org"),t=$(this).find(".kube-body-org");$(this).find(".caption").html(e.html()),$(this).find(".body").html(t.html()),e.html(""),t.html("")}),"en"!=o||$(".translationSelectorBox").hasClass("englishOptionAdded")||($(".translationSelector option").eq(2).before($("<option></option>").val("en").text("English")),$(".translationSelectorBox").removeClass("englishOptionAdded").addClass("englishOptionAdded")),n.stop()}else{if("detail"==t){var f=$("main").data("hnum"),p=(s=$(".spotlight").find("div.text")).html(),h=(a=$("#red-text").find("div"),$(".box.content"),""),m="",v="";a.each(function(){"j"==$(this).data("pd")&&(h=$(this).html(),$(this).addClass("in-translation")),"k"==$(this).data("pd")&&(m=$(this).html(),$(this).addClass("in-translation")),"hint"==$(this).data("pd")&&(v=$(this).html(),$(this).addClass("in-translation"))});r=$(".original-spotlighttext").html();var g=$(".original-text-j").html(),y=$(".original-text-k").html(),b=$(".original-text-hint").html();""!=r&&(p=r),""!=g&&(h=g),""!=y&&(m=y),""!=b&&(v=b);l=$(".reviews").find(".list").find("li"),d=[],c=[],u=[];l.each(function(){var e=$(this).data("id"),t=$(this).find(".caption"),n=t.html(),o=$(this).find(".body"),i=o.html();t.addClass("in-translation"),o.addClass("in-translation"),t.after('<div class="kube-caption-org" id="kube-caption-org-'+e+'">'+n+"</div>"),o.after('<div class="kube-body-org" id="kube-body-org-'+e+'">'+i+"</div>"),d.push(e),c.push(n),u.push(i)}),$("body").removeClass("is-translated").addClass("is-translated");n=$(".translationSelectorBox").Progress("div",!0);return Ajax.post({xjxfun:"getTranslationDetail",xjxargs:[1],dataType:"json",target_lang:e,source_lang:i,sourcepage:"detail",hnum:f,spotlighttext:p,redtextj:h,redtextk:m,redtexthint:v},function(e,t,n){""==r&&$(".original-spotlighttext").html(p),""==g&&$(".original-text-j").html(h),""==y&&$(".original-text-k").html(m),""==b&&$(".original-text-hint").html(v);try{data=JSON.parse(e),"error"!=data&&(""!=data.spotlight&&s.html(data.spotlight),a.each(function(){"j"==$(this).data("pd")&&""!=data.redtextj&&$(this).html(data.redtextj),"k"==$(this).data("pd")&&""!=data.redtextk&&$(this).html(data.redtextk),"hint"==$(this).data("pd")&&""!=data.redtexthint&&$(this).html(data.redtexthint)}),"en"==o||"en"!=i||$(".translationSelectorBox").hasClass("germanOptionAdded")?"en"==o||$(".translationSelectorBox").hasClass("germanOptionAdded")||($(".translationSelector option").eq(1).before($("<option></option>").val("de").text("German")),$(".translationSelectorBox").removeClass("germanOptionAdded").addClass("germanOptionAdded")):($(".translationSelector option").eq(1).before($("<option></option>").val("en").text("English")),$(".translationSelectorBox").removeClass("germanOptionAdded").addClass("germanOptionAdded")))}catch(e){}},null,function(e){n.stop(),a.each(function(){"j"==$(this).data("pd")&&$(this).removeClass("in-translation"),"k"==$(this).data("pd")&&$(this).removeClass("in-translation"),"hint"==$(this).data("pd")&&$(this).removeClass("in-translation")})}),"de"!=e&&Ajax.post({xjxfun:"getTranslationKube",xjxargs:[1],dataType:"json",target_lang:e,sourcepage:"kube",hnum:f,kubeids:JSON.stringify(d),kubecaptions:JSON.stringify(c),kubebodies:JSON.stringify(u)},function(e,t,n){try{if(data=JSON.parse(e),"error"!=data)for(var o=$(".reviews").find(".list"),i=0;i<d.length;i++){var a=o.find(".review-"+d[i]).find(".caption");void 0!==a&&a.html(data.captions[i]);var r=o.find(".review-"+d[i]).find(".body");void 0!==r&&r.html(data.bodies[i])}}catch(e){}},null,function(e){n.stop(),l.each(function(){$(this).find(".caption").removeClass("in-translation"),$(this).find(".body").removeClass("in-translation")})}),void ModuleTranslation.initTranslation()}if("categoryhome"==t){var C=$(".recommendations-area").find(".recommendations").find(".slides").find(".slide"),w=[],x=[],k=[];return C.each(function(){w.push($(this).data("counter")),x.push($(this).data("hnum")),k.push($(this).find(".content").find("p").html()),$(this).addClass("in-translation")}),void Ajax.post({xjxfun:"getTranslationCategoryHome",xjxargs:[1],dataType:"json",target_lang:e,sourcepage:"categoryhome",counters:JSON.stringify(w),hnums:JSON.stringify(x),texts:JSON.stringify(k)},function(e,t,n){try{data=JSON.parse(e);var o,i=[];for(var a in data)data.hasOwnProperty(a)&&(i[a]=data[a]);C.each(function(){o=$(this).data("counter"),""!=i[o]&&$(this).find(".content").find("p").html(i[o])})}catch(e){}},null,function(){C.each(function(){$(this).removeClass("in-translation")})})}}}};R.me("ModuleTranslation",!1);var PageCart={init:function(){var a=$("form");a.find("input[value=addgiftservice]")[0]&&a.off("submit.gift").on("submit.gift",function(e){e.preventDefault();var t,n,o=a.find("input[type=radio]:checked").parents("li").first().find("img"),i=new CartStorage;n=o.attr("src").split("/"),t=parseInt(n[n.length-1].split(".")[0]),i.hasFlag("giftservice")&&(i.has(i.getFlag("giftservice"))?i.remove(i.getFlag("giftservice")):i.removeFlag("giftservice")),i.setFlag("giftservice",t),i.setAndWrite(t,1,2.99),location.href="/checkout/cart"})}},Company={masterReSizesTimeout:null,showSectionsTimeout:null,scrollTimeout:null,recentInViewId:"",init:function(){if(!$("div.company-page")[0])return!0;Dom.body.addClass("no-header-resize"),Dom.body.addClass("page-company"),$("section.breadcrumb").addClass("visuallyhidden"),ModuleHeader.scrollTo($(".company-page")),Respond.onLoad("sizeCompany",Company.masterSizes),Respond.onResize("sizeCompany",Company.masterReSizes),Company.initNav()},initNav:function(){var e=$(".company-nav"),t=e.clone();e.hide(),t.prependTo($(".company-section")),$.each($(".company-section"),function(e,t){var n=$(t),o=n.attr("id"),i=n.find(".company-nav");$.each(i.find("span.pseudo-link"),function(e,t){var n=$(t);n.data("href").replace("#","")===o&&i.find("dt span").text(n.text())})}),$(".company-section").find(".company-nav.dropdown dt").off("vclick.companyNav").on("vclick.companyNav",function(){var t=$(this).parent().find("dd ul");t.toggleClass("is-open"),t.hasClass("is-open")?t.find("span.pseudo-link").off("vclick.companyNavLink").on("vclick.companyNavLink",function(){var e=$(this).data("href");t.toggleClass("is-open"),ModuleHeader.scrollTo($(e))}):t.find("span.pseudo-link").off("vclick.companyNavLink")})},masterReSizes:function(){var e=$("div.company-section").filter(function(e,t){return $.inviewport(t,{threshold:$("header").height()})}).attr("id");Company.masterSizes(),clearTimeout(Company.masterReSizesTimeout),Company.masterReSizesTimeout=setTimeout(function(){ModuleHeader.scrollTo($("#"+e))},100)},masterSizes:function(){var e=Dom.window.height(),t=111,n=0;respondMinOnly(740)&&(t=92),n=e-(t+10),respondMinOnly(980)&&(n=720<n?720:n),$("div.company-section").css("min-height",n+"px"),respondMinOnly(980)&&$(".company-section").find("div.three-cols").sameHeight()}},PageDetail={currentColCount:1,twoColsWidth:640,threeColsWidth:980,hnum:0,cartFormSended:!1,init:function(){return Dom.product=$("main.product"),!!Dom.product[0]&&(Dom.product.oneCol=Dom.product.find("div.one-column"),Dom.product.twoCols=Dom.product.find("div.two-columns"),Dom.product.twoCols.left=Dom.product.twoCols.find("div.left"),Dom.product.twoCols.right=Dom.product.twoCols.find("div.right"),Dom.product.threeCols=Dom.product.find("div.three-columns"),Dom.product.threeCols.left=Dom.product.threeCols.find("div.left"),Dom.product.threeCols.center=Dom.product.threeCols.find("div.center"),Dom.product.threeCols.right=Dom.product.threeCols.find("div.right"),Dom.product.head=Dom.product.find("section.head"),Dom.product.boxes=Dom.product.find(".box"),Dom.product.boxes.images=Dom.product.boxes.filter(".images"),Dom.product.boxes.priceAction=Dom.product.boxes.filter(".price-action"),Dom.product.cartForm=Dom.product.boxes.priceAction.find("form.cart-form"),Dom.product.boxes.productFamily=Dom.product.boxes.filter(".productfamily"),Dom.product.boxes.bookpreview=Dom.product.boxes.filter(".bookpreview"),Dom.product.boxes.tracklisting=Dom.product.boxes.filter(".tracklisting"),Dom.product.boxes.moreBy=Dom.product.boxes.filter(".more-by"),Dom.product.boxes.moreBy.lastA=Dom.product.boxes.moreBy.find("a.card").eq(-1),Dom.product.boxes.moreBy.penultimateA=Dom.product.boxes.moreBy.find("a.card").eq(-2),PageDetail.hnum=Dom.product.data("hnum"),PageDetail.moveElementsToColumns(),Respond.onResize("productColumnHeights",PageDetail.moveElementsToColumns),PageDetail.initHotline(),PageDetail.initMoreContributors(),PageDetail.initLightbox(),PageDetail.initProductFamily(),PageDetail.initTracklisting(),PageDetail.initVideoTrailer(),PageDetail.initCartForm(),PageDetail.initBacklink(),PageDetail.initPortofreiFlag(),PageDetail.initBookPreviewSmall(),Respond.onLoad("productBookPreviewFull",PageDetail.initBookPreviewFull),PageDetail.fixColumns(),Respond.onResize("productFixColumns",PageDetail.fixColumns),Respond.onLoad("productFixColumns",PageDetail.fixColumns),0<=(new CartStorage).hnums().indexOf(PageDetail.hnum+"")&&(8===$("body").data("shop")&&(Dom.product.cartForm.find("label.amount").remove(),Dom.product.cartForm.find("input[name=menge], select[name=menge]").remove()),Dom.product.cartForm.find("button.to-cart").remove(),Dom.product.cartForm.find("input[type=hidden]").remove(),Dom.product.cartForm.find("button.after-submit").removeClass("after-submit")),!0)},initBacklink:function(){var e=Dom.product.head.find("span.link-back,a.link-back");e[0]&&e.off("click.back").on("click.back",function(e){e.preventDefault(),history.back()})},initMoreContributors:function(){var e=Dom.product.boxes.find("span.more"),t=Dom.product.boxes.find("span.open-more");e.hide(),t.off("vclick.openMore").on("vclick.openMore",function(){$(this).siblings("span.more").slideDown().attr("style","display: inline"),$(this).hide()})},initHotline:function(){try{var e=new CartStorage,t=readJWT();0===e.hnums().length&&null===t&&$(".box.hotline").removeClass("hidden")}catch(e){}},initCartForm:function(){return!!Dom.product.cartForm[0]&&(Dom.product.cartForm.off("submit.submit").on("submit.submit",PageDetail.sendCartForm),Dom.product.cartForm.find("button").off("vclick.submit").on("vclick.submit",PageDetail.sendCartForm),!0)},sendCartForm:function(e){if(PageDetail.cartFormSended)return!0;e.preventDefault(),PageDetail.cartFormSended=!0;var t,n=parseInt(Dom.product.cartForm.find("button.to-cart").data("maxavl"),10),o=Dom.product.cartForm.find("input[name=menge]"),i=Dom.product.cartForm.data("hnum"),a=Dom.product.cartForm.data("price"),r=parseInt(o.val(),10),s=new CartStorage,l=$("body");return 8!==l.data("shop")||o[0]||(o=Dom.product.cartForm.find("select[name=menge]"),r=parseInt(o.val(),10)),isNaN(r)&&(r=1),0<n&&n<r?(alert("Es sind nur "+n+" Artikel verfügbar"),setTimeout(function(){PageDetail.cartFormSended=!1},50),!1):(s.setAndWrite(i,r,a),ModuleBody.setMiniCart(),Dom.product.cartForm.off("submit.submit").attr("action",function(){return $(this).data("after-submit-action")}),8===l.data("shop")&&(Dom.product.cartForm.find("label.amount").remove(),Dom.product.cartForm.find("input[name=menge], select[name=menge]").remove()),Dom.product.cartForm.find("button.to-cart").remove(),Dom.product.cartForm.find("input[type=hidden]").remove(),Dom.product.cartForm.find("button.after-submit").removeClass("after-submit"),t=Dom.product.cartForm.find("div.help-layer.in-cart-layer"),ModuleBody.openHelpLayer(t),!0)},initLightbox:function(){Dom.product.find("div.images a").magnificPopup({gallery:{enabled:!0}})},initProductFamily:function(){Dom.product.boxes.productFamily.find("div.more a").off("vclick").on("vclick",function(e){e.preventDefault(),$(this).parents("div.more").remove(),Dom.product.boxes.productFamily.removeClass("cropped"),PageDetail.fixColumns()})},initVideoTrailer:function(){var r=$("div.product-video-preview"),s=r.find("div.trailer-nav");r[0]&&!r.hasClass("src-c")&&s[0]&&(s.find("li span.trailer-btn").off("keyup.viewTrailer").on("keyup.viewTrailer",function(e){13===e.which&&(e.preventDefault(),e.stopPropagation(),$(this).trigger("click"))}),s.find("li span.trailer-btn").off("click.viewTrailer").on("click.viewTrailer",function(){var e=$(this),t=e.data("video-url"),n=r.find("video"),o=n[0],i=$("<video />").attr({id:"video-player",preload:"none",autoplay:!0,controls:!0}),a="en"===$("body").data("lang")?"Your browser doesn't support HTML5 video.":"Ihr Browser unterstützt kein HTML5-Video.";r.hasClass("src-p")?i.append($("<source />").attr({type:"video/mp4",src:t.replace(".flv",".mp4")})).append($("<source />").attr({type:"video/webm",src:t.replace(".flv",".webm")})).append($("<source />").attr({type:"video/ogg",src:t.replace(".flv",".ogg")})).append(a):r.hasClass("src-j")&&i.append($("<source />").attr({type:"video/mp4",src:t})).append(a),o.pause(),o.curentTime=0,n.attr("autoplay",!1),n.replaceWith(i),s.find("li span.trailer-btn").removeClass("active"),e.addClass("active")}))},initTracklisting:function(){if(Dom.html.hasClass("no-audio"))return PageDetail.noAudioTracklisting(),!0;var s=Dom.product.boxes.tracklisting.find("div.audio-playback");return!!s[0]&&(Dom.body.off("vclick.tracklistingAudio","button.audio").on("vclick.tracklistingAudio","button.audio",function(e){e.preventDefault();var t=$(this),n=t.children("i"),o=Dom.product.boxes.tracklisting.find("button.audio"),i=t.data("audio");if(s.html(""),o.find("i").attr("class","fa fa-play-circle"),t.hasClass("playing"))return t.removeClass("playing"),!1;if(o.removeClass("playing"),!i)return!1;n.attr("class","fa fa-circle-o-notch fa-spin"),s.html("<audio></audio>");var a=s.find("audio"),r=a[0];return a.prop("loop",!1),r.oncanplaythrough=function(){n.attr("class","fa fa-stop")},r.addEventListener("ended",function(){t.removeClass("playing"),n.attr("class","fa fa-play-circle")}),a.attr("src",i),r.play(),t.addClass("playing"),!0}),!0)},noAudioTracklisting:function(){Dom.product.boxes.tracklisting.find("button.audio").each(function(){var e=$(this);e.replaceWith('<a href="'+e.data("audio")+'" target="_blank" class="audio">'+e.html()+"</a>")})},toggleTracklisting:function(){return PageDetail.fixColumns(),Dom.html.hasClass("no-audio")?PageDetail.noAudioTracklisting():Dom.product.boxes.tracklisting.find("div.audio-playback").html(""),!0},initBookPreviewSmall:function(){var e=Dom.product.boxes.images.find(".main-element div.reading-example"),t=e.data("url");return!(!Dom.product.boxes.images.hasClass("dmr")||!Dom.product.boxes.images.data("isbn"))&&(null==t||""===t?(e.removeClass("pseudo-link").find("span.text-link").hide(),!1):Dom.html.hasClass("lt-ie9")||Dom.html.hasClass("no-ios")&&Dom.html.hasClass("safari")?(e.removeClass("pseudo-link").find("span.text-link").hide(),!1):(e.magnificPopup({items:{type:"iframe",src:t}}),!0))},initBookPreviewFull:function(){return!!Dom.product.boxes.bookpreview[0]&&($.getScript("https://www.blickinsbuch.de/gateway/widget.js",function(){Dom.product.boxes.bookpreview.find("div.bib-widget").each(function(){var e=$(this),t=e.data("bib-modus"),n=e.data("isbn");e.addClass("loading");try{var o=new MX_BookPreview("5709182312",n,t||"4",3);o.setIncludeDiv(e.attr("id")),o.setCntId("4111072814"),o.show()}catch(e){cl(e)}PageDetail.fixColumns()})}),!0)},fixColumns:function(){if(Respond.offScrollStraight("productFixRightColumn"),Respond.offScrollStraight("productFixLeftColumn"),Dom.html.hasClass("no-speed"))return!1;var e=Respond.height-ModuleHeader.fixedHeaderHeight;if(2==PageDetail.currentColCount){var t=Dom.product.twoCols.left.outerHeight();(n=Dom.product.twoCols.right.outerHeight())<e&&n<t?PageDetail.initFixColumn("productFixRightColumn",Dom.product.twoCols,Dom.product.twoCols.right,"right"):Dom.product.twoCols.right.removeClass("fixed").removeAttr("style")}else if(3==PageDetail.currentColCount){t=Dom.product.threeCols.center.outerHeight();var n,o=Dom.product.threeCols.left.outerHeight();(n=Dom.product.threeCols.right.outerHeight())<e&&n<t?PageDetail.initFixColumn("productFixRightColumn",Dom.product.threeCols,Dom.product.threeCols.right,"right"):Dom.product.threeCols.right.removeClass("fixed").removeAttr("style"),o<e&&o<t?PageDetail.initFixColumn("productFixLeftColumn",Dom.product.threeCols,Dom.product.threeCols.left,"left"):Dom.product.threeCols.left.removeClass("fixed").removeAttr("style")}return ModuleLazyLoad.start(),!0},initFixColumn:function(e,t,n,o){PageDetail.fixColumn(e,t,n,o),Respond.onScrollStraight(e,function(){PageDetail.fixColumn(e,t,n,o)})},fixColumn:function(e,t,n,o){var i=Dom.header.outerHeight()+12;if(Respond.scrolled+i<t.offset().top)return n.removeClass("fixed").removeAttr("style"),!0;n.addClass("fixed").css("top",i+"px"),"left"==o?n.css("left",t.offset().left):"right"==o&&n.css("right",(Respond.width-t.width())/2);var a=n.offset().top+n.outerHeight()-(t.offset().top+t.outerHeight());0<=a&&n.css("top",i-a+"px")},moveElementsToColumns:function(){if(respondMinOnly(PageDetail.threeColsWidth)){if(3==PageDetail.currentColCount)return!0;PageDetail.currentColCount=3,Dom.product.boxes.each(function(){"left"==$(this).data("three-col")?$(this).appendTo(Dom.product.threeCols.left):"right"==$(this).data("three-col")?$(this).appendTo(Dom.product.threeCols.right):$(this).appendTo(Dom.product.threeCols.center)})}else if(respondMinOnly(PageDetail.twoColsWidth)){if(2==PageDetail.currentColCount)return!0;PageDetail.currentColCount=2,Dom.product.boxes.each(function(){"left"==$(this).data("two-col")?$(this).appendTo(Dom.product.twoCols.left):$(this).appendTo(Dom.product.twoCols.right)})}else{if(1==PageDetail.currentColCount)return!0;PageDetail.currentColCount=1,Dom.product.boxes.each(function(){$(this).appendTo(Dom.product.oneCol)})}return!0},initPortofreiFlag:function(){if(Dom.product.boxes.priceAction.find(".delivery-info")[0])return!1;getCustomerFlag("scf").then(function(e){if(e){var t=Dom.product.boxes.priceAction.find(".delivery-info-placeholder");t.text(t.data("text")).removeClass("hidden").addClass("delivery-info")}})}},PageFocusguide={Suggests:[],grid:null,ownCounter:0,autoClose:!1,init:function(){Dom.focusguide={},Dom.focusguide.masonryGrid=Dom.body.find("#masonry-grid"),Dom.focusguide.suggests=Dom.body.find(".suggest input.query"),Dom.focusguide.pagination=Dom.body.find("form.filter .pagination small"),extendTriggerBehavior(PageFocusguide),PageFocusguide.initMasonry(),PageFocusguide.initKeywordSearch(),PageFocusguide.initTouchBehavior(),PageFocusguide.initSuggests(),PageFocusguide.initOwnedButtons(),PageFocusguide.initFeedback()},initKeywordSearch:function(){Dom.body.find(".keyword-search:not(has-keyword)").off("click.collapse").on("click.collapse",function(){$(this).addClass("active")})},initTouchBehavior:function(){var l,d,c=this;Dom.body.data("lang");Respond.width<980&&(d='<div class="actions"><button class="btn action white" data-action="owned"><span class="icon"><span class="fa fa-align-justify fa-rotate-90 fa-fw"></span></span><span class="txt">'+$(".card .actions .owned .txt").first().text()+'</span></button><button class="btn action white" data-action="blacklist"><span class="fa fa-thumbs-down"></span><span class="txt">'+$(".card .actions .dislike .txt").first().text()+'</span></button><button class="btn action white" data-action="save"><span class="fa fa-bookmark fa-fw"></span><span class="txt">'+$(".card .actions .save .txt").first().text()+'</span></button><button class="btn action" data-action="to-cart"><span class="fa fa-cart-plus fa-fw"></span><span class="txt">'+$(".card .actions .to-cart").first().text()+"</span></button></div>",Dom.focusguide.masonryGrid.off("click.hover",".card").on("click.hover",".card",function(e){var n,o=$(this),t=o.find(".content"),i=t.find("h3"),a=t.find("div.stars"),r=t.find("div.availability"),s=t.find("div.bottom");return e.preventDefault(),ModuleBody.openAjaxLayer('<div class="masonry-card help-layer"><div class="content">'+(i[0]?i[0].outerHTML:"")+(a[0]?a[0].outerHTML:"")+(r[0]?r[0].outerHTML:"")+(s[0]?s[0].outerHTML:"")+d+"</div></div>","masonry-card"),n=function(e){var t=o.find("h3 a").eq(0);e.preventDefault(),ModuleInfiniteScr.pushUrl.call(ModuleInfiniteScr,t),location.href=t.attr("href")},(l=Dom.body.find(".masonry-card.help-layer")).off("click.islink","h3 a").on("click.islink","h3 a",n),l.find("div.content").off("click.extended-link").on("click.extended-link",function(e){var t=$(e.target);t.is("a")||t.is("i")||t.parents(".actions").eq(0)[0]||n(e)}),l.off("click.action","button").on("click.action","button",function(e){var t=$(this).data("action");e.preventDefault(),ModuleBody.closeOpenHelpLayer(),setTimeout(function(){switch(t){case"to-cart":ModuleHitlist.hitlistToCart(o.find("form.cart-form")),ModuleBody.doItemToMiniCartAnimation(o),o.append(o.find(".in-cart").clone());break;case"save":ModuleNotepadArticle.addToNotepad(o.find("form.notepad-savearticle-form"));break;case"owned":c.setOwned(o.find("button.owned"));break;case"blacklist":c.setOwned(o.find("button.dislike"))}})}),!1}))},initOwnedButtons:function(){var n=this;Dom.focusguide.masonryGrid.off("click.owned","button.owned, button.dislike").on("click.owned","button.owned, button.dislike",function(e){var t=$(this);t.is(":visible")&&(e.preventDefault(),n.setOwned(t))})},setOwned:function(e){var t,n=e.parents(".card").eq(0),i=n.nextAll().length,o=e.hasClass("owned")?"owns":"blacklist";n.addClass("removing"),setTimeout(function(){n.remove()},500),Dom.focusguide.pagination&&(t=Dom.focusguide.pagination.text().split(" "),Dom.focusguide.pagination.text(parseInt(t[0])-1+" "+t[1])),self.ownCounter++,$.post("/ecourier/ajax/like",{mode:o,hnum:e.data("hnum"),eCourierId:"focusguide",reason:"",lang:Dom.body.data("lang")},function(e,t,n){if(n.getResponseHeader("x-get-email")&&ModuleEcourier.openEcourierLayer(e,!0),i<3){var o=Dom.infiniteScrolling.Progress(null,!0);ModuleInfiniteScr.load(1,o),self.ownCounter=0}})},initMasonry:function(){Dom.focusguide.masonryGrid&&(Dom.focusguide.masonryGrid.addClass("init"),PageFocusguide.grid=Dom.focusguide.masonryGrid.get(0),Dom.html.hasClass("lt-ie9")&&Dom.focusguide.masonryGrid.find(".card:nth-child(3n)").each(function(){$(this).after($("<br>"))}),Respond.offResize("mason").onResize("mason",function(){salvattore&&salvattore.recreateColumns(PageFocusguide.grid)}),ModuleInfiniteScr.overwrite("addElementsStart.standard",function(e){var t=$(e),n=[];salvattore?(t.find(".card").each(function(){n.push(this)}),salvattore.prependElements(PageFocusguide.grid,n.reverse()),ModuleLazyLoad.start(Dom.focusguide.masonryGrid)):Dom.focusguide.masonryGrid.prepend(e)}),ModuleInfiniteScr.overwrite("addElementsEnd.standard",function(e){var t=$(e),n=[];salvattore?(t.find(".card").each(function(){n.push(this)}),salvattore.appendElements(PageFocusguide.grid,n),ModuleLazyLoad.start(Dom.focusguide.masonryGrid)):Dom.focusguide.masonryGrid.append(e)}),ModuleLazyLoad.start(Dom.focusguide.masonryGrid))},initSuggests:function(){Dom.focusguide.suggests[0]&&(Dom.focusguide.suggests.each(function(){var t,e=$(this),n=e.data("type"),o=e.parents(".suggest").eq(0);(t=new SearchSuggest(e,{xjxfun:n+"Suggest",additionalArgs:["Shome"],type:n,$suggest:o})).off("select").on("select",function(e){var t=e.$el,o=e.type,i=e.$suggest,a=i.Progress(),n={method:"POST",success:function(e,t,n){a.stop(),$.magnificPopup.close(),window.setTimeout(function(){ModuleEcourier.off("close.reattach").on("close.reattach",function(){i.find("input.query").val(""),ModuleEcourier.off("close.reattach, afterSubmit.saved, afterShow.reload"),setTimeout(function(){i.find("input.query").val("").focus()},0)}),ModuleEcourier.off("afterSubmit.saved, afterShow.saved").on("afterSubmit.saved, afterShow.saved",function(e){"saved"==e&&(PageFocusguide.trigger("completeAdd",o),!1===PageFocusguide.autoClose?PageFocusguide.autoClose=!0:setTimeout(function(){ModuleEcourier.closeEcourierLayer(),i.find("input.query").val("").focus()},4e3))}),ModuleEcourier.openEcourierLayer(e,!0)},200)}};PageFocusguide.currentlyAdding={type:o},"person"==o?(PageFocusguide.currentlyAdding.search=t.data("cid"),n.url="/ecourier/contributor/withOid/",n.data={lang:Dom.body.data("lang"),oid:t.data("cid"),typnum:t.data("typnum")}):(PageFocusguide.currentlyAdding.search=t.data("series"),n.url="/ecourier/series/withSeries/",n.data={lang:Dom.body.data("lang"),series:t.data("series"),typnum:t.data("typnum")}),$.ajax(n)}),o.find("input.query").off("keyup.select").on("keyup.select",function(e){13==e.keyCode&&(e.preventDefault(),t.selectFirstElement())}),PageFocusguide.Suggests.push(t)}),PageFocusguide.on("completeAdd",function(e){$(".focusguide-page.no-alerts")[0]||!$(".cards-page").eq(0)[0]?(filterProgress=$(".teaser-text").Progress("div",!0),location.href=location.href):PageFocusguide.updatePage(e)}))},destroySuggests:function(){PageFocusguide.off("completeAdd"),PageFocusguide.Suggests.forEach(function(e){e.destroy()});try{delete PageFocusguide.Suggests,delete PageFocusguide.currentlyAdding}catch(e){}PageFocusguide.Suggests=[]},updatePage:function(e){var l=Dom.body.find("form.filter").eq(0).Progress("div",!0),t=$("nav ol.filter-"+e).siblings(".headline").Progress("div",!0);$.post(ModuleInfiniteScr.buildUrl(1),{infinite_scrolling:1},function(e,t,n){var o,i,a=$(".pagination>small");ModuleInfiniteScr.setCurrentPage(1);var r=$(e),s=[];r.find(".card").each(function(){s.push(this)}),salvattore&&salvattore.replaceElements(PageFocusguide.grid,s),o=Dom.focusguide.masonryGrid.find(".card-new"),i=a.html().replace(/^[0-9]+/,n.getResponseHeader("x-res-cnt")),a.html(i),Main.initBookAvailability(),ModuleLazyLoad.start(o),ModuleHitlist.init(),ModuleNotepadArticle.init(),ModuleEcourier.init(),ModuleInfiniteScr.init(!0),o.removeClass("card-new"),window.scrollTo(0,0),l.stop()}),Ajax.get({xjxfun:"reloadSidebar",xjxargs:["S"+e]},function(e){var t=$("main").siblings("nav.sub-nav");PageFocusguide.destroySuggests(),t.replaceWith(e),setTimeout(function(){ModuleSidebar.reinit(),Dom.focusguide.suggests=Dom.body.find(".suggest input.query"),PageFocusguide.initSuggests()})},function(){},function(){t.stop()})},initFeedback:function(){Dom.body.find("nav button.give-feedback").off("click.feedback").on("click.feedback",function(e){e.preventDefault();var t=$(this).parents("div").eq(0).Progress();$.post("/ecourier/feedback",function(e){t.stop(),ModuleBody.openAjaxLayer(e,"ecourier-feedback-layer"),Dom.body.off("submit.ecourierFeedbackSave","div.ecourier-feedback-layer form").on("submit.ecourierFeedbackSave","div.ecourier-feedback-layer form",function(e){e.preventDefault();var t=$(this).parents("div.ecourier-feedback-layer").eq(0),n=t.Progress(),o=t.find("textarea").val();$.post("/ecourier/feedback/submit",{eCId:"focusguide",more:o,lang:Dom.body.data("lang")},function(e){n.stop(),ModuleBody.closeOpenHelpLayer(),ModuleBody.openAjaxLayer(e,"ecourier-feedback-layer")})})})})}},PageHome={init:function(){PageHome.initOnlineCoupon(),PageHome.initAffiliateCoupon(),PageHome.initVoucherPage(),PageHome.initGaOptOut()},initGaOptOut:function(){if(Dom.gaoptoutlink=$("#gaoptoutlink"),Dom.gaoptoutlink[0]){var e="";switch(Dom.body.data("shop")){case 1:case"1":e="ga-disable-UA-224096-5";break;case 2:case"2":e="ga-disable-UA-11877089-1";break;case 8:case"8":e="ga-disable-UA-42633552-1";break;case 16:case"16":e="ga-disable-UA-11877156-1"}""!=e&&"true"==readCookie(e)&&Dom.gaoptoutlink.replaceWith("<strong>"+("en"===Dom.body.data("lang")?"Google Analytics already opt-outed":"Google Analytics deaktiviert")+"</strong>")}},initVoucherPage:function(){if(Dom.voucher=Dom.body.find("main.voucher-page"),Dom.voucher[0]){var e=location.hash.replace("#","");switch(e){case"onlineGiftCard":$("#printGiftCard").remove();break;case"printGiftCard":$("#onlineGiftCard").remove()}Dom.voucherSections=Dom.voucher.find(".vouchersection"),Dom.voucherSelection=Dom.voucher.find(".selection"),1<Dom.voucherSections.length?(PageHome.initVoucherHandler(),Respond.onResize("voucherResize",PageHome.initVoucherHandler),PageHome.gotoVoucher(e,!0)):""!=e&&PageHome.gotoVoucher(e,!0),GiftCard.init()}},initVoucherHandler:function(){639<Respond.width?(Dom.voucherSelection.find(".voucherintro").remove(),Dom.voucher.find(">h3").remove(),Dom.voucherSelection.removeClass("hidden").append(Dom.voucher.find(".voucherintro").clone()),Dom.voucherSelection.off("click.tovoucher","button").on("click.tovoucher","button",function(e){var t=$(this);e.preventDefault(),t.siblings("button").attr("aria-expanded",!1),"true"==t.attr("aria-expanded")?t.attr("aria-expanded",!1):t.attr("aria-expanded",!0),PageHome.gotoVoucher(t.data("target"))})):(Dom.voucherSelection.addClass("hidden"),Dom.voucherSections.siblings("h3").remove(),1<Dom.voucherSections.length&&Dom.voucherSections.each(function(){var e=$(this);e.before(e.find("h3").clone())}),Dom.voucher.find(">h3").off("click.open").on("click.open",function(e){var t=$(this);e.preventDefault(),t.hasClass("active")?t.removeClass("active").attr("aria-expanded",!1):(t.addClass("active").attr("aria-expanded",!0),t.siblings("h3").removeClass("active").attr("aria-expanded",!1)),PageHome.gotoVoucher(t.data("triggers"))}))},gotoVoucher:function(t,e){var n;1<Dom.voucherSections.length?Dom.voucher.find(".vouchersection").each(function(){var e=$(this);e.attr("id")==t&&e.hasClass("hidden")?(e.removeClass("hidden").attr("aria-hidden",!1),n=e):e.removeClass("hidden").addClass("hidden").attr("aria-hidden",!0)}):n=Dom.voucherSections.first().removeClass("hidden").attr("aria-hidden",!1),n?(n.after(Dom.voucher.find(".fineprint").removeClass("hidden")),setTimeout(function(){e?Respond.onLoad("windowHash",function(){ModuleHeader.scrollTo(n.find("form textarea"))}):ModuleHeader.scrollTo(n)},0)):Dom.voucher.find(".fineprint").removeClass("hidden").addClass("hidden")},initOnlineCoupon:function(){var t=Dom.body.find("form.onlinecoupon"),e=Dom.body.find("form.onlinecoupon.geschenkgutscheine"),n=Dom.body.find("footer div.newsletter"),o=Dom.body.find("footer div.faq");if(!t[0])return!1;if(e[0]){var i=$();valentinstagIsNear(30,1)&&(i=i.add(e.find(".valentin").removeClass("hidden").attr("aria-hidden",!1).find("img.lazyload.responsive.hidden"))),osternIsNear(30,1)&&(i=i.add(e.find(".easter").removeClass("hidden").attr("aria-hidden",!1).find("img.lazyload.responsive.hidden"))),vatertagIsNear(30,1)&&(i=i.add(e.find(".vatertag").removeClass("hidden").attr("aria-hidden",!1).find("img.lazyload.responsive.hidden"))),muttertagIsNear(30,1)&&(i=i.add(e.find(".muttertag").removeClass("hidden").attr("aria-hidden",!1).find("img.lazyload.responsive.hidden"))),weihnachtenIsNear(30,1)&&(i=i.add(e.find(".xmas").removeClass("hidden").attr("aria-hidden",!1).find("img.lazyload.responsive.hidden"))),i[0]&&i.each(function(){ModuleLazyLoad.showLazyLoadingResponsive($(this).removeClass("hidden"))}),e.find("li").each(function(e){var t=$(this);if(t.hasClass("hidden"))return!0;var n="motalt-"+parseInt(e+1),o=t.find("img").first().attr("alt");t.find("input[type=radio]").attr("aria-labelledby",n).after($('<span class="hidden" id="'+n+'">'+o+"</span>"))})}return t.hasClass("geschenkgutscheine")||void 0===n||void 0===o||(n.css("display","none"),o.css("text-align","left")),t.find("input[name=hasrecipient]").off("vclick.hasRecipient").on("vclick.hasRecipient",function(){var e=t.find(".recipient-text,.recipient");$(this).is(":checked")?e.attr({disabled:!1,required:!0}):e.attr({disabled:!0,required:!1})}),!0},initAffiliateCoupon:function(){var o,i=$(".static-content form").filter(function(){var e=$(this).attr("action");return!!e&&e.match(/sessionproperty/)});i[0]&&(o=function(e){i.prepend($("<input type=hidden name=error />").val(e))},i.off("submit.check").on("submit.check",function(e){var t=$(this),n={code:t.find("input[name=memberid]").val(),aff:t.find("input[name=affiliate]").val()};e.preventDefault(),$.ajax({url:"/checkout/cart/testVoucher",method:"POST",data:n,success:function(e){e&&e.code?(new CartStorage).setFlagAndWrite("vouchers",[e.code]):o(404);i.off("submit.check").submit()},error:function(e){o(e.status),i.off("submit.check").submit()}})}))}},PageKontakt={init:function(){PageKontakt.initCaptcha()},initCaptcha:function(){var t=$("#captcha-image");$("#captcha-reload").off("click.reload").on("click.reload",function(e){e.preventDefault(),t.attr("src","/captcha/image?r="+Math.random())})}},PageLandingpage={init:function(){Dom.body.find("div.landingpage-a")[0]?(Dom.landingpage=Dom.body.find("div.landingpage-a"),PageLandingpage.initA()):Dom.body.find("div.landingpage-b")[0]?(Dom.landingpage=Dom.body.find("div.landingpage-b"),PageLandingpage.initB()):Dom.body.find("div.landingpage-c")[0]&&(Dom.landingpage=Dom.body.find("div.landingpage-c"),PageLandingpage.initA()),Dom.landingpage.find("form").off("submit.lp").on("submit.lp",function(){dataLayer.push({})})},initA:function(){Dom.landingpage.find("aside.voucher").addClass("active")},initB:function(){var o=Dom.landingpage.find("div.spacer"),i=Dom.landingpage.find("h1"),a=Dom.landingpage.find("div.intro"),r=Dom.landingpage.find("div.scroll"),s=Dom.landingpage.find("ul.trust"),l=Dom.landingpage.find("form"),d=l.find("p.notice"),c=Dom.landingpage.find("aside.voucher");Respond.onLoad("landingpage-start",function(){setTimeout(function(){var e=i.outerHeight()+a.outerHeight()+r.outerHeight()+34;respondMinOnly(600)&&(e+=s.outerHeight()+(l.height()-d.outerHeight())-16);var t=Respond.height-e;if(o.height(t),c[0]){var n=t-(c.find("strong").outerHeight()+c.find("small").outerHeight()+14);c.css("top",n),setTimeout(function(){c.addClass("active pulse"),setTimeout(function(){l.find("input[type=email]").addClass("pulse-mini"),setTimeout(function(){l.find("button").addClass("pulse-mini")},600)},1500)},1600)}},200)}),r.find("i").off("vclick.scroll").on("vclick.scroll",function(){ModuleHeader.scrollTo(l)}),Respond.onScroll("landingpage",function(){r.addClass("scrolled")})}},PageMyaccount={Suggest:null,init:function(){Dom.myJpc=$("section.my-jpc"),PageMyaccount.initCards(),PageMyaccount.initRetourContact(),PageMyaccount.initRetourActions(),PageMyaccount.initAddress(),PageMyaccount.initNewsletter()},initCards:function(){Dom.myJpc.hasClass("retour-page")?Dom.myJpc.find("div.cards div.card p").sameHeight():Dom.myJpc.find("div.cards div.card").sameHeight()},initRetourContact:function(){return Dom.myJpc.retourContactForm=Dom.myJpc.find("form.retour-contact-form"),!!Dom.myJpc.retourContactForm[0]&&(Dom.myJpc.retourContactForm.off("submit.refresh").on("submit.refresh",function(){$.post(Main.jpcng+"/home/myshop/-/task/retourcontactsuccess.html",{task:"retourcontactsuccess"},function(e){Dom.myJpc.retourContactForm.replaceWith(e)})}),!0)},initRetourActions:function(){return!!Dom.myJpc.hasClass("retour-orders-page")&&(Dom.myJpc.retourOrder=Dom.myJpc.find("div.retour-order"),PageMyaccount.initRetourSubmits(),Dom.myJpc.find("td.retourbutton a.btn").off("vclick.retour").on("vclick.retour",function(e){e.preventDefault();var t=$(this),n=t.parents("td").eq(0),o=n.Progress("div",!0),i=n.find(".retour-count").val();i>=t.data("menge")&&t.parents("div").eq(0).addClass("hidden"),$.post(Main.jpcng+"/home/myshop/-/task/showorders.html",{retour_hnum:t.data("hnum"),retour_isHnum:t.data("is-hnum"),datum:t.data("datum"),retour_ordernr:t.data("ordernr"),menge:t.data("menge"),retour_titel:t.data("titel"),retour_preis:t.data("preis"),gesamtpreis:t.data("gesamtpreis"),retour_task:t.data("task"),retour_count:i,retour:t.data("retour"),reason:t.data("reason")},function(e){o.stop(),Dom.myJpc.retourOrder.html(e),PageMyaccount.initRetourSubmits()})}),!0)},initRetourSubmits:function(){var t=Dom.myJpc.retourOrder.find("form[name=retour]");return!!t[0]&&(ModuleForm.init(),PageMyaccount.initRetourBvCheck(t),t.find("a.delete-product").off("vclick.del").on("vclick.del",function(e){e.preventDefault();var t=$(this),n=t.parents("td").eq(0).Progress("div",!0);Dom.myJpc.find("div.retourbutton-"+t.data("rid")).removeClass("hidden"),$.post(Main.jpcng+"/home/myshop/-/task/showorders.html",{retour_hnum:t.data("hnum"),retour_task:t.data("task"),retour:t.data("retour"),rid:t.data("rid"),reason:t.data("reason")},function(e){n.stop(),Dom.myJpc.retourOrder.html(e),PageMyaccount.initRetourSubmits()})}),Dom.myJpc.retourOrder.find("small.max-chars").each(function(){var o=$(this).find("b"),i=parseInt($(this).data("max"),10),a=$(this).parents("label").eq(0).find("textarea");a.off("keyup.mc change.mc input.mc").on("keyup.mc change.mc input.mc",function(){var e=$(this).val(),t=parseInt(e.length,10),n=i-t;n<0&&(n=0,a.val(e.substr(0,i))),o.html(n)})}),Dom.myJpc.retourOrder.find("select").off("change.type").on("change.type",function(){var e=$(this);$.post(Main.jpcng+"/home/myshop/-/task/retourform.html",{retour_task:"saveOptions",retour:e.data("retour"),reason:e.data("reason"),rid:e.data("rid"),hnum:e.data("hnum"),val:e.val()},function(){PageMyaccount.initRetourBvCheck(t)})}),t.off("submit.send").on("submit.send",function(){return $.post(Main.jpcng+"/home/myshop/-/task/retournumber.html",{rid:t.data("rid"),json:1},function(e){Dom.myJpc.find("td.retourbutton div.hidden").html(e).removeClass("hidden"),Dom.myJpc.retourOrder.html("")}),t.find("button.btn").attr("disabled",!0),!0}),!0)},initRetourBvCheck:function(e){var t=!1,n=Dom.myJpc.retourOrder.find("tr.bv");return Dom.myJpc.retourOrder.find("select").each(function(){return 2!=$(this).val()||!(t=!0)}),t?(n.find("h3")[0]||$.post(Main.jpcng+"/home/myshop/-/task/showorders.html",{retour_task:e.data("task"),retour:e.data("retour"),reason:e.data("reason")},function(e){n.removeClass("hidden").find("td").html(e),ModuleForm.init()}),!0):(n.addClass("hidden").find("td").html(""),ModuleForm.init(),!1)},initAddress:function(){if(!Dom.myJpc.hasClass("addresschange-page"))return!1;var i=Dom.myJpc.find("ul.delivery-addresses"),a=i.find("li"),n=Dom.myJpc.find("form.deliveryaddressform"),o=Dom.myJpc.find("h3.delivery-headline"),r=Dom.myJpc.find("div.saved-addresses");a.find("div.address").sameHeight(),a.find("div.manage").sameHeight(),ModuleAddressform.saveDeliveryAddress(n),a.find("a.edit").off("vlick.edit").on("vclick.edit",function(e){e.preventDefault();var t=$(this).parents("li").eq(0);t.data("id");ModuleAddressform.cloneAddressBySaved(t,n),o.html(o.data("text-edit")),ModuleHeader.scrollTo(n)}),a.find("a.delete").off("vlick.delete").on("vclick.delete",function(e){e.preventDefault();var t=$(this).parents("li").eq(0),n=t.data("id"),o=t.find("div.inner").Progress();Ajax.post({xjxfun:"deleteDeliveryAddress",addressId:n},function(e){if(1!==parseInt(e,10))return!1;t.remove(),i.find("li")[0]||r.addClass("hidden")},null,function(){o.stop()})}),a.find("a.standard").off("vlick.standard").on("vclick.standard",function(e){e.preventDefault();var t=$(this).parents("li").eq(0),n=t.data("id"),o=t.find("div.inner").Progress();Ajax.post({xjxfun:"setStandardDeliveryAddress",addressId:n},function(e){if(1===parseInt(e,10))return!1;a.removeClass("is-standard"),t.addClass("is-standard").prependTo(i)},null,function(){o.stop()})})},initNewsletter:function(){if(!Dom.myJpc.hasClass("newsletter-page"))return!1;Dom.myJpc.find("form[name=newsletterdelete]").off("submit.delete").on("submit.delete",function(e){e.preventDefault();var t=$(this),n=t.Progress("div",!0);sendAjaxForm(t,function(e){ModuleBody.openAjaxLayer(e,"newsletter-delete-layer")},null,function(){n.stop()})})}},PageNotepad={init:function(){if(Dom.notepad=$("section.notepad-page"),!Dom.notepad[0])return!1;Dom.notepad.filterOpt=Dom.notepad.find("form.filter"),Dom.notepad.list=Dom.notepad.find("table.notepad-list"),Dom.notepad.OrderBy=Dom.notepad.filterOpt.find("label.order-by"),Dom.notepad.nplist=Dom.notepad.find("form.nplist"),Dom.notepad.changeList=Dom.notepad.nplist.find("label.change-list"),Dom.notepad.items=Dom.notepad.find("div.notepad-items"),Dom.notepad.items.total=Dom.notepad.items.find("tr.total span.eur"),PageNotepad.changeOrderBy(),PageNotepad.changeNotepad(),PageNotepad.initMultiOptions(),PageNotepad.initChangedItemsList(),PageNotepad.itemToCart(),PageNotepad.deleteItem(),PageNotepad.unDeleteItem(),PageNotepad.moveItem(),PageNotepad.editNote(),PageNotepad.newList(),PageNotepad.renameList(),PageNotepad.standardList(),PageNotepad.deleteList(),PageNotepad.unDeleteList(),PageNotepad.visibilityList(),Dom.html.hasClass("lt-ie10")&&PageNotepad.fixIeLt10()},initChangedItemsList:function(){Dom.notepad.find("div.notepad-changed").find("div.more a").off("vclick").on("vclick",function(e){e.preventDefault(),$(this).parents("div.more").remove(),Dom.notepad.find("div.notepad-changed").removeClass("cropped")})},initMultiOptions:function(){var s=Dom.notepad.items.find("tr.manage-all"),e=Dom.notepad.items.find("input[type=checkbox]"),l=e.not(".check-all"),d=e.filter(".check-all");d.off("vclick.checkAll").on("vclick.checkAll",function(){$(this).is(":checked")?l.prop("checked",!0).trigger("vclick.check"):l.prop("checked",!1).trigger("vclick.check")}),l.off("vclick.check").on("vclick.check",function(){l.filter(":checked")[0]?s.removeClass("hidden"):(s.addClass("hidden"),d.prop("checked",!1))}),s.find("button.delete-all").off("vclick.delete").on("vclick.delete",function(){l.each(function(){return $(this).is(":checked")&&$(this).parents("div.item").eq(0).find("div.delete-article").trigger("vclick"),!0})}),s.find("button.buy-all").off("vclick.buy").on("vclick.buy",function(){var t=[],n=[];l.not(":disabled").each(function(){if(!$(this).is(":checked"))return!0;var e=$(this).parents("div.item:first");return t.push(e.data("hnum")),n.push(e),!0});var e=$(this).parents("div:first"),o=Dom.notepad.items.data("list-id"),i=e.Progress(),a=parseFloat(Dom.miniCart.find("span.price").data("value")),r=(Dom.body.find("form.cart-form input[name=menge]"),{hnums:t,listId:o,newPrice:a,amount:1});$.ajax({url:"/myaccount/ajax/notepad/addToCart",p:"ajax",type:"POST",data:r,dataType:"json",success:function(e){parseInt(e.id)===parseInt(o)&&(n.forEach(function(e){var t=e.data("id"),n=parseFloat(e.find(".to-cart").data("price"));a+=n,e.remove(),Dom.notepad.items.find("tr.note-"+t).remove()}),Dom.miniCart.find("b.amount").html(function(){return parseInt($(this).html())+t.length}),Dom.miniCart.find("span.price").data("value",a).html(a.formatMoney(2,",",".")),PageNotepad.changeListAmount(o,-1*t.length),s.addClass("hidden"),d.prop("checked",!1),Dom.notepad.find("input.check")[0]||location.reload()),i.stop()},error:function(e,t,n){i.stop()}})})},changeListAmount:function(e,t){var n=Dom.notepad.find("span.notepad-amount-"+e);if(!n[0])return!1;n.html(function(){return parseInt(n.html(),10)+t});var o=0;return Dom.notepad.items.find("div.item").not(".deleted,.to-cart-animation").each(function(){var e=$(this).find("input[name=price]");if(!e[0])return!0;o+=parseFloat(e.val())}),Dom.notepad.items.total.html(o.formatMoney(2,",",".")),!0},changeOrderBy:function(){Dom.notepad.OrderBy.children("select").off("change.order").on("change.order",function(){var e=$(this),t=e.data("switches")||"pd_orderby",n=e.val();Dom.notepad.OrderBy.find("input[name="+t+"]").val(n),Dom.notepad.filterOpt.submit()})},changeNotepad:function(){Dom.notepad.changeList.children("select").off("change.changeList").on("change.changeList",function(){var e=$(this).val(),t=Dom.notepad.nplist.attr("action");0<e&&(Dom.notepad.nplist.attr("action",t+"/viewId/"+e),Dom.notepad.nplist.submit())})},itemToCart:function(){Dom.notepad.items.find("div.item").off("vclick.toCart","button.to-cart").on("vclick.toCart","button.to-cart",function(e){e.preventDefault();var n=$(this).parents("div.item").eq(0),o=n.data("hnum"),i=Dom.notepad.items.data("list-id"),t=1,a=parseFloat(Dom.miniCart.find("span.price").data("value")),r=n.Progress(),s=$(this).parents("div").find(".amount .menge").val();1<s&&(t=s);var l={hnum:o,listId:i,amount:t};$.ajax({url:"/myaccount/ajax/notepad/addToCart",p:"ajax",type:"POST",data:l,dataType:"json",success:function(e){if(parseInt(e.id)===parseInt(i)){var t=parseFloat(n.find(".to-cart").data("price"));a+=t,n.remove(),Dom.notepad.items.find("div.note-"+o).remove(),Dom.miniCart.find("b.amount").html(function(){return parseInt($(this).html())+1}),Dom.miniCart.find("span.price").data("value",a).html(a.formatMoney(2,",",".")),PageNotepad.changeListAmount(i,-1),r.stop()}else r.stop()},error:function(e,t,n){r.stop()}})})},deleteItem:function(){Dom.notepad.items.find("div.item").off("vclick.deleteItem","div.delete-article").on("vclick.deleteItem","div.delete-article",function(e){e.preventDefault();var t=$(this).parents("div.item").eq(0),n=t.data("id"),o=t.data("hnum"),i=Dom.notepad.items.data("list-id"),a=t.find("a.product-name").text(),r=t.Progress(),s={hnum:o,notepadid:i,status:"delete"};$.ajax({url:"/myaccount/ajax/notepad/remove",p:"ajax",type:"POST",data:s,dataType:"json",success:function(e){parseInt(e.hnum)===parseInt(o)?(r.stop(),t.addClass("deleted").after(function(){null==a&&(a="Der Merkzettel");var e='<div class="item" data-id="'+n+'" data-hnum="'+o+'"><em>';return e+=a+" "+Dom.notepad.items.data("text-deleted"),e+=' <a class="undelete">'+Dom.notepad.items.data("text-undelete")+"</a>",e+="</em></div>"}),Dom.notepad.items.find("div.note-"+o).addClass("deleted"),PageNotepad.changeListAmount(i,-1)):r.stop()},error:function(e,t,n){r.stop()}})})},unDeleteItem:function(){Dom.notepad.items.off("vclick.undeleteItem","a.undelete").on("vclick.undeleteItem","a.undelete",function(e){e.preventDefault();var t=$(this).parents("div.item").eq(0),n=t.data("hnum"),o=Dom.notepad.items.data("list-id"),i=Dom.notepad.items.find("div#item-"+n),a=t.Progress();if(!t||!i)return alert("Fehler aufgetreten!"),!1;var r={hnum:n,notepadid:o,status:"undelete"};$.ajax({url:"/myaccount/ajax/notepad/remove",p:"ajax",type:"POST",data:r,dataType:"json",success:function(e){parseInt(e.hnum)===parseInt(n)?(i.removeClass("deleted"),Dom.notepad.items.find("div.note-"+n).removeClass("deleted"),t.remove(),PageNotepad.changeListAmount(o,1)):a.stop()},error:function(e,t,n){a.stop()}})})},moveItem:function(){Dom.body.off("submit.moveNotepadItem","form.move-to-list").on("submit.moveNotepadItem","form.move-to-list",function(e){e.preventDefault();var t=$(this).parents("div.help-layer").eq(0),n=t.data("id"),o=t.data("hnum"),i=Dom.notepad.items.data("list-id"),a=t.find("select.move").val(),r=t.Progress(),s=Dom.notepad.items.find("div#item-"+o),l=null;if(i===a)return ModuleBody.closeOpenHelpLayer(),!0;if("all"===n&&(o="",(l=Dom.notepad.items.find("input[type=checkbox]:checked").not(".check-all")).each(function(){var e=$(this).parents("div.item").eq(0).data("hnum");return o+=(""!=o?",":"")+e,!0})),!o||!i||!a)return alert("Fehler. Liste nicht gefunden."),!1;var d={hnum:o,listId:i,destId:a};$.ajax({url:"/myaccount/ajax/notepad/move",p:"ajax",type:"POST",data:d,dataType:"json",success:function(e){"all"===n?(l.each(function(){var e=$(this).parents("div.item").eq(0),t=e.data("id");Dom.notepad.items.find("div.note-"+t).remove(),e.remove()}),PageNotepad.changeListAmount(i,-l.length),PageNotepad.changeListAmount(a,l.length)):(Dom.notepad.items.find("div.note-"+n).remove(),s.remove(),PageNotepad.changeListAmount(i,-1),PageNotepad.changeListAmount(a,1)),ModuleBody.closeOpenHelpLayer()},error:function(e,t,n){r.stop()}})})},editNote:function(){Dom.body.off("vclick.saveNote","button.save-note").on("vclick.saveNote","button.save-note",function(e){e.preventDefault();var n=$(this).parents("div.help-layer").eq(0),o=n.data("hnum"),t=n.data("list"),i=n.find("textarea").val(),a=n.Progress(),r=Dom.notepad.items.find("div#item-"+o);if($(this).hasClass("delete-note")&&(i=""),!o||!t||!r[0])return alert("Fehler. Liste nicht gefunden."),!1;var s={hnum:o,listId:t,note:i};$.ajax({url:"/myaccount/ajax/notepad/updatenote",p:"ajax",type:"POST",data:s,dataType:"json",success:function(e){if(Dom.notepad.items.find("div.note-"+o).remove(),""==i)r.find("span.note-status").html(Dom.notepad.items.data("text-note-new")),n.find("span.note-status").html(Dom.notepad.items.data("text-note-new")),r.find("textarea.edit-note").val(""),n.find("textarea.edit-note").val("");else{r.find("span.note-status").html(Dom.notepad.items.data("text-note-edit")),n.find("span.note-status").html(Dom.notepad.items.data("text-note-edit")),r.find("textarea.edit-note").val(i);var t='<div class="note note-'+o+'"><strong>'+Dom.notepad.items.data("text-note")+"</strong> <span>"+i+"</span></div>";r.after(t)}a.stop(),ModuleBody.closeOpenHelpLayer()},error:function(e,t,n){a.stop()}})})},newList:function(){Dom.body.off("submit.create","form.create-list").on("submit.create","form.create-list",function(e){e.preventDefault();var t=$(this).parents("div.help-layer").eq(0),n=(t.data("id"),t.find("input[name=list-name]").val()),o=t.Progress(),i={name:n};$.ajax({url:"/myaccount/ajax/notepad/createlist",p:"ajax",type:"POST",data:i,dataType:"json",success:function(e){ModuleBody.closeOpenHelpLayer()},error:function(e,t,n){o.stop()}})})},renameList:function(){Dom.body.off("submit.rename","form.rename-list").on("submit.rename","form.rename-list",function(e){e.preventDefault();var t=$(this).parents("div.help-layer").eq(0),n=t.data("id"),o=t.find("input[name=list-name]").val(),i=t.Progress(),a=Dom.notepad.list.find("tr.list-"+n);if(!a[0])return alert("Fehler. Liste nicht gefunden."),!1;var r={id:n,name:o};$.ajax({url:"/myaccount/ajax/notepad/renamelist",p:"ajax",type:"POST",data:r,dataType:"json",success:function(e){a.find("a.notepad-name strong").html(o),ModuleBody.closeOpenHelpLayer()},error:function(e,t,n){ModuleBody.closeOpenHelpLayer(),i.stop()}})})},standardList:function(){Dom.notepad.list.off("vclick.standard","a.standard").on("vclick.standard","a.standard",function(e){e.preventDefault();var t=Dom.notepad.find(".notepad-items-overview").find("h2"),n=$(this).parents("tr.list").eq(0),o=n.data("id"),i=n.Progress(),a={id:o};$.ajax({url:"/myaccount/ajax/notepad/setstandardlist",p:"ajax",type:"POST",data:a,dataType:"json",success:function(e){i.stop(),Dom.notepad.list.find("tr.list").data("default",0).removeClass("is-standard"),n.data("default",1).addClass("is-standard"),t.addClass("is-standard"),Dom.html.hasClass("lt-ie10")&&PageNotepad.fixIeLt10()},error:function(e,t,n){i.stop()}})})},deleteList:function(){Dom.notepad.list.off("vclick.delete","a.delete").on("vclick.delete","a.delete",function(e){e.preventDefault();var t=$(this).parents("tr.list").eq(0),n=t.data("id"),o=t.find("a.notepad-name strong").html(),i=t.Progress(),a={id:n};$.ajax({url:"/myaccount/ajax/notepad/removelist",p:"ajax",type:"POST",data:a,dataType:"json",success:function(e){i.stop(),null==o&&(o="Der Merkzettel"),t.addClass("deleted hide").after(function(){var e='<tr class="list" data-id="'+n+'"><td colspan="5"><em>';return e+=o+" "+Dom.notepad.list.data("text-deleted"),e+=' <a class="undelete">'+Dom.notepad.list.data("text-undelete")+"</a>",e+="</em></td></tr>"})},error:function(e,t,n){i.stop()}})})},unDeleteList:function(){Dom.notepad.list.off("vclick.undelete","a.undelete").on("vclick.undelete","a.undelete",function(e){e.preventDefault();var t=$(this).parents("tr.list").eq(0),n=t.data("id"),o=Dom.notepad.list.find("tr.list-"+n),i=t.Progress();if(!t||!o)return alert("Fehler aufgetreten!"),!1;var a={id:n};$.ajax({url:"/myaccount/ajax/notepad/unremovelist",p:"ajax",type:"POST",data:a,dataType:"json",success:function(e){o.removeClass("deleted").removeClass("hide"),t.remove()},error:function(e,t,n){i.stop()}})})},visibilityList:function(){Dom.notepad.list.off("change.visibility","select.notepad-viewmode").on("change.visibility","select.notepad-viewmode",function(){var e=$(this).parents("tr.list").eq(0),t=e.data("id"),o=e.Progress(),n=$(this).val(),i=(e.parents("table.notepad-list").data("nickname"),{id:t,visibility:n});$.ajax({url:"/myaccount/ajax/notepad/changevisibility",p:"ajax",type:"POST",data:i,dataType:"json",success:function(e){t==Dom.notepad.items.data("list-id")&&(0<=n?Dom.notepad.find("div.notepad-shortlink").removeClass("hidden"):Dom.notepad.find("div.notepad-shortlink").addClass("hidden")),o.stop()},error:function(e,t,n){o.stop()}})})},fixIeLt10:function(){Dom.notepad.find("tr.list").each(function(){var e=$(this);0===parseInt(e.data("default"))?(e.find("td.info small.standard").addClass("hide"),e.find("td.manage a.standard").removeClass("hide")):(e.find("td.info small.standard").removeClass("hide"),e.find("td.manage a.standard").addClass("hide"))})}},PageSearch={Suggest:null,init:function(){Dom.search={},Dom.search.searchForm=Dom.body.find("main form.form-fields"),Dom.search.searchForm[0]&&$.each(["interpret","person","ctxautor"],function(e,t){var n,o,i=Dom.search.searchForm.find("input[name="+t+"]");return!i[0]||(o=i.parents(".suggest").eq(0),PageSearch.Suggest=new SearchSuggest(i,{xjxfun:"personSuggest",additionalArgs:function(){return"S"+Dom.search.searchForm.data("category")}}),n=o.find("input[name=contributorId]"),PageSearch.Suggest.off("beforeGetSearchSuggest").on("beforeGetSearchSuggest",function(){n.val("")}),PageSearch.Suggest.off("select").on("select",function(e){var t=e.$el;i.val(t.text()),n.val(t.data("cid")),o.next().find("input,select").focus()}),!1)})}},Main={jpcng:"/jpcng",shop:"jpc",isMmv:!1,cbv:1,init:function(){Main.getImportantDomElements(),Main.checkShop(),Main.checkJpcng(),Main.initCommonScripts(),Main.initModuleScripts(),Main.initPageScripts(),Main.initBookAvailability(),Respond.start(),Main.loadDeferredScripts()},checkShop:function(){switch(Dom.body.data("shop")){case 2:case"2":Main.shop="wom";break;case 16:case"16":Main.shop="lesen";break;case 8:case"8":Main.shop="jpc",Main.isMmv=!0;break;default:Main.shop="jpc"}},checkJpcng:function(){"wom"!==Main.shop&&"lesen"!==Main.shop||(Main.jpcng="")},getImportantDomElements:function(){Dom.document=$(document),Dom.window=$(window),Dom.html=$("html"),Dom.body=$("body"),Dom.header=$("header"),Dom.miniCart=Dom.header.find("a.mini-wk"),Dom.mainNav=Dom.header.find("nav.main-nav"),Dom.subNav=Dom.body.find("nav.sub-nav"),("search"===Dom.body.data("page")||Dom.body.hasClass("cat-home:not(.page-myaccount)")||Dom.subNav.parents("div.searchresult")[0])&&Dom.subNav.addClass("search-filter"),Dom.footer=$("footer")},initCommonScripts:function(){return Respond.doOnEverything(),Dom.document.Buttons(),!0},initModuleScripts:function(){return ModuleBody.init(),ModuleLazyLoad.init(),ModuleForm.init(),ModuleNav.init(),ModuleHeader.init(),ModuleSidebar.init(),ModuleHitlist.init(),ModuleInfiniteScr.init(),ModuleNotepadArticle.init(),ModuleRecommendations.init(),ModuleHeroshot.init(),ModuleAddressform.init(),ModulePrint.init(),ModuleReviews.init(),ModuleEcourier.init(),ModuleCookieconsent.init(),ModuleDfp.init(),ModuleECourierBox.init(),ModuleTranslation.init(),ModuleFooter.init(),!0},loadDeferredScripts:function(){},initPageScripts:function(){Company.init();var e=$.trim($("body").data("page"));if(!e)return!1;if("lesen"!==Main.shop&&!Main.isMmv||"categoryhome"!==e||null===document.querySelector("main.voucher-page")&&null===document.querySelector("#gaoptoutlink")||(e="home"),!strHasWhiteSpace(e))return n(e);var t=e.split(" ");function n(e){var t="Page"+("womhome"===e?"Home":$.ucfirst(e));return void 0!==window[t]&&null!==window[t]&&window[t].init()}return $.each(t,function(e,t){n(t)}),!0},initBookAvailability:function(){var e=Dom.body.find("div.availability.has-availability-check");$.each(e,function(e,t){var n=$(t),o=n.find("div.msg.info");$.get(Main.jpcng+"/chkAvailability.php?ean="+n.data("ean"),function(e){if("1"===e){var t=' <i class="fa fa-check"></i> '+n.data("availability-text");o[0]&&(t+=o[0].outerHTML),n.html(t)}n.removeClass("has-availability-check")},"html")})}};jQuery(function(e){Main.init()}),Modernizr.addTest("flash",function(){var t=!1;try{t=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){t=void 0!==navigator.mimeTypes["application/x-shockwave-flash"]}return t}),Modernizr.addTest("chrome",function(){return/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())&&/Google Inc/.test(navigator.vendor)}),Modernizr.addTest("safari",function(){return/safari/.test(navigator.userAgent.toLowerCase())&&/Apple Computer/.test(navigator.vendor)}),Modernizr.addTest("ios",function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("iemobile",function(){return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("placeholder",function(){return!!Modernizr.input.placeholder}),Modernizr.addTest("input-range",function(){return!!Modernizr.inputtypes.range}),Modernizr.addTest("localstorage",function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}),Modernizr.addTest("ff-pointer-events",function(){return!Modernizr.mq("screen and (max-width: 979px)")}),Modernizr.addTest("history",function(){return!(!window.history||!history.pushState)}),Modernizr.addTest("touch",function(){return!0}),R.me("main",!1);_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Login=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"getPromise",value:function(e){var i=$.Deferred();return a.isLoggedIn()?i.resolve():$.get("/myaccount/ajax/login",function(e){var t=void 0,n=void 0,o=void 0;ModuleBody.closeOpenHelpLayer(),Dom.body.find("div.login-layer").remove(),Dom.body.append(e),t=Dom.body.find("div.login-layer"),$.magnificPopup.open({items:{src:t,type:"inline"},modal:!!t.hasClass("modal"),callbacks:{close:function(){a.isLoggedIn()?i.resolve():i.reject()}}}),ModuleBody.openedHelpLayer=$.magnificPopup.instance,Dom.body.off("vclick.closeHelpLayer","div.mfp-content div.help-layer .close-layer").on("vclick.closeHelpLayer","div.mfp-content div.help-layer .close-layer",function(e){e.preventDefault(),ModuleBody.closeOpenHelpLayer(),i.reject()}),(n=$(".login-layer form")).off("submit").on("submit",function(e){e.preventDefault(),o=n.Progress("div",!0),n.find(".msg.danger").removeClass("hidden").addClass("hidden"),$.post("/myaccount/ajax/login/login",{loginname:n.find("input[name=loginname]").val(),loginpass:n.find("input[name=loginpass]").val()}).then(function(){o.stop(),i.resolve()}).fail(function(e){o.stop(),400==e.status&&n.find(".msg.danger").removeClass("hidden")})})}).always(function(){"function"==typeof e&&e()}),i}}],[{key:"isLoggedIn",value:function(){var e=readJWT();return!(!e||e.exp<parseInt((new Date).getTime()/1e3))}}]),a}();R.me("Login");var ModuleNotepadArticle={init:function(){Dom.removedItemForm=Dom.body.find("ul.removed-item-list form"),Dom.removedItemForm[0]?ModuleNotepadArticle.initNotepadSaveArticleForm("infobox"):(Dom.notepadArticleForm=Dom.body.find("form.notepad-savearticle-form"),Dom.notepadArticleForm[0]?ModuleNotepadArticle.initNotepadSaveArticleForm("page"):(Dom.notepadArticleForm=Dom.body.find("form.notepad-save-form"),Dom.notepadArticleForm[0]&&ModuleNotepadArticle.initNotepadSaveArticleForm("cart")))},initNotepadSaveArticleForm:function(e){"infobox"===e?ModuleNotepadArticle.initOnForms(Dom.removedItemForm,e):ModuleNotepadArticle.initOnForms(Dom.notepadArticleForm,e)},initPartial:function(e){var t;(t=Dom.body.find("form.notepad-savearticle-form"))[0]?ModuleNotepadArticle.initOnForms(t,"page"):(t=Dom.body.find("form.notepad-save-form"))[0]&&ModuleNotepadArticle.initOnForms(t,"cart")},initOnForms:function(e,n){return e.each(function(){$(this).off("submit.savearticle").on("submit.savearticle",function(e){e.preventDefault();var t=$(this);ModuleNotepadArticle.addToNotepad(t,n)})}),!0},addToNotepad:function(t,n){var o=t.data("hnum");o=o||t.parents("tr.item").eq(0).data("hnum"),(new Login).getPromise().then(function(){var e={hnum:o,getlist:!0};$.ajax({url:"/myaccount/ajax/notepad/insert",p:"ajax",type:"POST",data:e,dataType:"html",success:function(e){ModuleBody.openAjaxLayer(e,"notepad-layer"),ModuleNotepadArticle.moveItem(),ModuleNotepadArticle.moveToNewList(),"cart"==n&&ModuleNotepadArticle.removeFromCart(o,t)},error:function(e,t,n){$.magnificPopup.open({items:{src:'<div class="white-popup">Es ist leider ein Fehler aufgetreten.</div>'},type:"inline",removalDelay:300,mainClass:"mfp-fade"})}})})},removeFromCart:function(e,t){if(!e)return!0;var n=t.parents("tr"),o=$($(".can").find("table").eq(0)),i=Cart.C.get(e),a=n.find(".product-name"),r=$(".actions");if(!i)return!1;Cart.doRemoveItem(n,o,e,i,a,r,"",void 0,void 0,void 0)},moveItem:function(){if(Dom.notepadMoveItem=Dom.body.find("div.notepad-layer"),!Dom.notepadMoveItem[0])return!1;var o=Dom.notepadMoveItem.data("hnum"),i=Dom.notepadMoveItem.data("listid");Dom.notepadMoveItem.find("div.notepad-list").find("a").off("click.moveNotepadItem").on("click.moveNotepadItem",function(e){e.preventDefault();var t=$(this).data("id"),n={hnum:o,listId:i,destId:t};$.ajax({url:"/myaccount/ajax/notepad/move",p:"ajax",type:"POST",data:n,dataType:"json",success:function(e){ModuleBody.closeOpenHelpLayer()}})})},moveToNewList:function(){if(Dom.notepadMoveItemToNewList=Dom.body.find("div.notepad-layer"),!Dom.notepadMoveItemToNewList[0])return!1;var o=Dom.notepadMoveItemToNewList.find("form.notepad-new-list"),i=Dom.notepadMoveItemToNewList.data("hnum"),a=Dom.notepadMoveItemToNewList.data("listid");o.off("submit.moveNotepadItemNewList").on("submit.moveNotepadItemNewList",function(e){e.preventDefault();var t=o.find("input").val(),n={hnum:i,listId:a,name:t};$.ajax({url:"/myaccount/ajax/notepad/moveToNewList",p:"ajax",type:"POST",data:n,dataType:"json",success:function(e){ModuleBody.closeOpenHelpLayer()},error:function(e,t,n){$.magnificPopup.open({items:{src:'<div class="white-popup">Es ist leider ein Fehler aufgetreten.</div>'},type:"inline",removalDelay:300,mainClass:"mfp-fade"})}})})}};R.me("ModuleNotepadArticle",!1);var _buildUrl=function(e,t){if(-1===e.indexOf("/ljc/")&&(e=e.replace(/(\/\/[0-9a-z.-]+)\//,"$1/ljc/")),""===t)return e;var n=e.indexOf("#");return 0<=n&&(e=e.substr(0,n)),0<=e.indexOf("?")?e+="&":e+="?",e+t};function clickTrack(n,l,d){n.addEventListener("DOMContentLoaded",function(){function e(a){if(!s.hasOwnProperty(a))return"continue";var r;r=n,s[a].addEventListener("click",function e(t){var n=r.body,o=t.target,i="click";"abtestgoal"in o.dataset&&(i=o.dataset.abtestgoal),s[a].removeEventListener("click",e,!1),d(_buildUrl(l.href,n.dataset.abtestcode+"="+n.dataset.abtestgroup+"&abtestgoal="+i))})}var s=n.querySelectorAll("[data-abtestevent=click]");for(var t in s)e(t)})}function visitTrack(a,r,s){a.addEventListener("DOMContentLoaded",function(){var e=a.querySelectorAll("body[data-abtestevent=visit]"),t=a.body;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],i="visit";"abtestgoal"in o.dataset&&(i=o.dataset.abtestgoal),s(_buildUrl(r.href,t.dataset.abtestcode+"="+t.dataset.abtestgroup+"&abtestgoal="+i))}})}function pageTrack(e,t,n){e.addEventListener("DOMContentLoaded",function(){n(_buildUrl(t.href,""))})}"undefined"!=typeof window?function(e,n){var t=function(e,t){return n.navigator.sendBeacon(e)};"sendBeacon"in n.navigator||(t=function(t,e){n.setTimeout(function(){var e=new n.XMLHttpRequest;e.open("POST",t),e.send()},100)}),pageTrack(e,n.location,t),clickTrack(e,n.location,t),visitTrack(e,n.location,t)}(document,window):"undefined"!=typeof module&&(module.exports={pageTrack:pageTrack,clickTrack:clickTrack,visitTrack:visitTrack});